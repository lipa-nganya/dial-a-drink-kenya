
> backend@1.0.0 dev
> nodemon server.js

[33m[nodemon] 3.1.10[39m
[33m[nodemon] to restart at any time, enter `rs`[39m
[33m[nodemon] watching path(s): *.*[39m
[33m[nodemon] watching extensions: js,mjs,cjs,json[39m
[32m[nodemon] starting `node server.js`[39m
[dotenv@17.2.3] injecting env (19) from .env -- tip: ‚öôÔ∏è  override existing env vars with { override: true }
Starting server initialization...
Executing (default): SELECT 1+1 AS result
Database connection established successfully.
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'categories'
üöÄ Server is running on port 5001
üîó Health check: http://localhost:5001/api/health
üìä API endpoints:
   - GET  /api/health
   - GET  /api/categories
   - GET  /api/drinks
   - POST /api/orders
   - GET  /api/admin/orders
üåê Server ready to accept requests!
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'categories' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'subcategories'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'subcategories' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'drinks'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'drinks' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'drivers'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_drivers_status' GROUP BY 1
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'drivers' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'orders'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_orders_status' GROUP BY 1
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_orders_paymentStatus' GROUP BY 1
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_orders_paymentType' GROUP BY 1
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_orders_paymentMethod' GROUP BY 1
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'orders' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'order_items'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'order_items' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'countdowns'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'countdowns' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'settings'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'settings' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'admins'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_admins_role' GROUP BY 1
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'admins' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'driver_wallets'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'driver_wallets' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'transactions'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_transactions_transactionType' GROUP BY 1
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_transactions_paymentMethod' GROUP BY 1
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_transactions_status' GROUP BY 1
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_transactions_paymentStatus' GROUP BY 1
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'transactions' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'order_notifications'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'order_notifications' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'otps'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'otps' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'email_confirmations'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'email_confirmations' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'customers'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'customers' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'admin_wallets'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'admin_wallets' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'saved_addresses'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'saved_addresses' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Database synchronized successfully.
Checking for missing columns...
Executing (default): ALTER TABLE "drinks" 
      ADD COLUMN IF NOT EXISTS "isOnOffer" BOOLEAN DEFAULT false;
‚úÖ isOnOffer column checked/added
Executing (default): ALTER TABLE "drinks" 
      ADD COLUMN IF NOT EXISTS "limitedTimeOffer" BOOLEAN DEFAULT false;
‚úÖ limitedTimeOffer column checked/added
Executing (default): ALTER TABLE "drinks" 
      ADD COLUMN IF NOT EXISTS "originalPrice" DECIMAL(10,2);
‚úÖ originalPrice column checked/added
Executing (default): UPDATE "drinks" 
      SET "originalPrice" = "price" 
      WHERE "originalPrice" IS NULL;
‚úÖ originalPrice set for existing drinks
Executing (default): ALTER TABLE "drinks" 
      ALTER COLUMN "image" TYPE TEXT;
‚úÖ Image column updated to TEXT type
Executing (default): ALTER TABLE "drinks" 
      ADD COLUMN IF NOT EXISTS "capacity" JSON;
‚úÖ Capacity column checked/added (JSON type)
Executing (default): ALTER TABLE "drinks" 
      ADD COLUMN IF NOT EXISTS "capacityPricing" JSON;
‚úÖ Capacity pricing column checked/added (JSON type)
Executing (default): ALTER TABLE "drinks" 
      ADD COLUMN IF NOT EXISTS "abv" DECIMAL(5,2);
‚úÖ ABV column checked/added
Executing (default): CREATE TABLE IF NOT EXISTS "subcategories" (
        "id" SERIAL PRIMARY KEY,
        "name" VARCHAR(255) NOT NULL UNIQUE,
        "categoryId" INTEGER NOT NULL REFERENCES "categories"("id"),
        "isActive" BOOLEAN DEFAULT true,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ subcategories table checked/created
Executing (default): ALTER TABLE "drinks" 
      ADD COLUMN IF NOT EXISTS "subCategoryId" INTEGER REFERENCES "subcategories"("id");
‚úÖ subCategoryId column checked/added
Executing (default): CREATE TABLE IF NOT EXISTS "settings" (
        "id" SERIAL PRIMARY KEY,
        "key" VARCHAR(255) NOT NULL UNIQUE,
        "value" TEXT,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ settings table checked/created
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='orders' AND column_name='paymentType';
‚úÖ paymentType column already exists
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='orders' AND column_name='driverId';
‚úÖ driverId column already exists
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='drivers' AND column_name='pinHash';
‚úÖ pinHash column already exists in drivers table
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='orders' AND column_name='driverAccepted';
‚úÖ driverAccepted column already exists in orders table
Executing (default): ALTER TABLE "orders"
      ADD COLUMN IF NOT EXISTS "driverPayCredited" BOOLEAN DEFAULT false;
Executing (default): ALTER TABLE "orders"
      ADD COLUMN IF NOT EXISTS "driverPayCreditedAt" TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "orders"
      ADD COLUMN IF NOT EXISTS "driverPayAmount" DECIMAL(10,2) DEFAULT 0;
‚úÖ Driver pay tracking columns checked/added to orders table
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='orders' AND column_name='paymentMethod';
‚úÖ paymentMethod column already exists
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='orders' AND column_name='paymentStatus';
‚úÖ paymentStatus column already exists
Executing (default): ALTER TYPE "enum_orders_status" ADD VALUE IF NOT EXISTS 'completed';
‚úÖ Status enum updated to include completed
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='orders' AND column_name='tipAmount';
‚úÖ tipAmount column already exists in orders table
Executing (default): CREATE TABLE IF NOT EXISTS "transactions" (
        "id" SERIAL PRIMARY KEY,
        "orderId" INTEGER REFERENCES "orders"("id") ON DELETE CASCADE,
        "driverId" INTEGER REFERENCES "drivers"("id") ON DELETE SET NULL,
        "driverWalletId" INTEGER,
        "transactionType" VARCHAR(255) DEFAULT 'payment',
        "paymentMethod" VARCHAR(255) NOT NULL,
        "paymentProvider" VARCHAR(255),
        "amount" DECIMAL(10, 2) NOT NULL,
        "status" VARCHAR(255) DEFAULT 'pending',
        "paymentStatus" VARCHAR(255) DEFAULT 'pending',
        "receiptNumber" VARCHAR(255),
        "checkoutRequestID" VARCHAR(255),
        "merchantRequestID" VARCHAR(255),
        "phoneNumber" VARCHAR(255),
        "transactionDate" TIMESTAMP WITH TIME ZONE,
        "notes" TEXT,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ transactions table checked/created
Executing (default): SELECT column_name 
        FROM information_schema.columns 
        WHERE table_name='transactions' AND column_name='paymentStatus';
‚úÖ paymentStatus column already exists in transactions table
Executing (default): SELECT is_nullable 
        FROM information_schema.columns 
        WHERE table_name='transactions' AND column_name='orderId';
‚úÖ orderId column already allows NULL in transactions table
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='transactions' AND column_name='driverId';
‚úÖ driverId column already exists in transactions table
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='transactions' AND column_name='driverWalletId';
‚úÖ driverWalletId column already exists in transactions table
Executing (default): DO $$ BEGIN
        CREATE TYPE transaction_type_enum AS ENUM ('payment', 'refund', 'tip', 'withdrawal');
      EXCEPTION
        WHEN duplicate_object THEN null;
      END $$;
Executing (default): ALTER TYPE transaction_type_enum ADD VALUE IF NOT EXISTS 'tip'
‚úÖ Added tip to transaction_type_enum
Executing (default): ALTER TYPE transaction_type_enum ADD VALUE IF NOT EXISTS 'withdrawal'
‚úÖ Added withdrawal to transaction_type_enum
Executing (default): ALTER TYPE transaction_type_enum ADD VALUE IF NOT EXISTS 'delivery_pay'
‚úÖ Added delivery_pay to transaction_type_enum
Executing (default): ALTER TYPE transaction_type_enum ADD VALUE IF NOT EXISTS 'driver_pay'
‚úÖ Added driver_pay to transaction_type_enum
Executing (default): ALTER TYPE transaction_type_enum ADD VALUE IF NOT EXISTS 'delivery_fee_debit'
‚úÖ Added delivery_fee_debit to transaction_type_enum
Executing (default): ALTER TYPE transaction_type_enum ADD VALUE IF NOT EXISTS 'cash_settlement'
‚úÖ Added cash_settlement to transaction_type_enum
Executing (default): DO $$ BEGIN
        CREATE TYPE transaction_status_enum AS ENUM ('pending', 'completed', 'failed', 'cancelled');
      EXCEPTION
        WHEN duplicate_object THEN null;
      END $$;
Executing (default): DO $$ BEGIN
        CREATE TYPE transaction_payment_method_enum AS ENUM ('card', 'mobile_money', 'cash', 'system');
      EXCEPTION
        WHEN duplicate_object THEN null;
      END $$;
Executing (default): ALTER TYPE transaction_payment_method_enum ADD VALUE IF NOT EXISTS 'system'
‚úÖ Added system to transaction_payment_method_enum
Executing (default): UPDATE transactions
      SET "transactionDate" = "createdAt"
      WHERE "transactionType" = 'payment' AND "transactionDate" IS NULL;
‚úÖ Backfilled missing payment transaction dates
Executing (default): UPDATE transactions AS tip
      SET "transactionDate" = pay."transactionDate"
      FROM transactions AS pay
      WHERE tip."transactionType" = 'tip'
        AND pay."transactionType" = 'payment'
        AND pay."status" = 'completed'
        AND tip."orderId" = pay."orderId"
        AND pay."transactionDate" IS NOT NULL
        AND tip."transactionDate" IS DISTINCT FROM pay."transactionDate";
‚úÖ Synchronized tip transaction dates with payment transactions
Executing (default): UPDATE transactions
      SET "transactionDate" = "createdAt"
      WHERE "transactionType" = 'tip' AND "transactionDate" IS NULL;
‚úÖ Backfilled missing tip transaction dates
Executing (default): SELECT data_type 
        FROM information_schema.columns 
        WHERE table_name='transactions' AND column_name='transactionType';
Executing (default): ALTER TABLE "transactions" 
          ALTER COLUMN "transactionType" TYPE transaction_type_enum USING "transactionType"::transaction_type_enum;
Executing (default): CREATE TABLE IF NOT EXISTS "order_notifications" (
        "id" SERIAL PRIMARY KEY,
        "name" VARCHAR(255) NOT NULL,
        "phoneNumber" VARCHAR(255) NOT NULL,
        "isActive" BOOLEAN DEFAULT true,
        "notes" TEXT,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ order_notifications table checked/created
Executing (default): CREATE TABLE IF NOT EXISTS "otps" (
        "id" SERIAL PRIMARY KEY,
        "phoneNumber" VARCHAR(255) NOT NULL,
        "otpCode" VARCHAR(10) NOT NULL,
        "expiresAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "isUsed" BOOLEAN DEFAULT false,
        "attempts" INTEGER DEFAULT 0,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ otps table checked/created
Executing (default): CREATE TABLE IF NOT EXISTS "email_confirmations" (
        "id" SERIAL PRIMARY KEY,
        "email" VARCHAR(255) NOT NULL,
        "token" VARCHAR(255) NOT NULL UNIQUE,
        "expiresAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "isUsed" BOOLEAN DEFAULT false,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ email_confirmations table checked/created
Executing (default): CREATE TABLE IF NOT EXISTS "customers" (
        "id" SERIAL PRIMARY KEY,
        "email" VARCHAR(255) UNIQUE,
        "phone" VARCHAR(255) UNIQUE,
        "username" VARCHAR(255) NOT NULL UNIQUE,
        "password" VARCHAR(255),
        "customerName" VARCHAR(255),
        "hasSetPassword" BOOLEAN DEFAULT false,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ customers table checked/created
Executing (default): DO $$ BEGIN
        CREATE TYPE driver_status_enum AS ENUM ('active', 'inactive', 'on_delivery', 'offline');
      EXCEPTION
        WHEN duplicate_object THEN null;
      END $$;
Executing (default): CREATE TABLE IF NOT EXISTS "drivers" (
        "id" SERIAL PRIMARY KEY,
        "name" VARCHAR(255) NOT NULL,
        "phoneNumber" VARCHAR(255) NOT NULL UNIQUE,
        "status" driver_status_enum DEFAULT 'offline',
        "lastActivity" TIMESTAMP WITH TIME ZONE,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ drivers table checked/created
Executing (default): CREATE TABLE IF NOT EXISTS "driver_wallets" (
        "id" SERIAL PRIMARY KEY,
        "driverId" INTEGER NOT NULL UNIQUE REFERENCES "drivers"("id") ON DELETE CASCADE,
        "balance" DECIMAL(10, 2) NOT NULL DEFAULT 0,
        "totalTipsReceived" DECIMAL(10, 2) NOT NULL DEFAULT 0,
        "totalTipsCount" INTEGER NOT NULL DEFAULT 0,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ driver_wallets table checked/created
Executing (default): ALTER TABLE "driver_wallets"
      ADD COLUMN IF NOT EXISTS "totalDeliveryPay" DECIMAL(10,2) DEFAULT 0;
Executing (default): ALTER TABLE "driver_wallets"
      ADD COLUMN IF NOT EXISTS "totalDeliveryPayCount" INTEGER DEFAULT 0;
‚úÖ Delivery pay tracking columns checked/added to driver_wallets table
Executing (default): CREATE TABLE IF NOT EXISTS "saved_addresses" (
        "id" SERIAL PRIMARY KEY,
        "address" TEXT NOT NULL UNIQUE,
        "placeId" VARCHAR(255),
        "formattedAddress" TEXT,
        "searchCount" INTEGER DEFAULT 0,
        "apiCallsSaved" INTEGER DEFAULT 0,
        "costSaved" DECIMAL(10, 4) DEFAULT 0,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ saved_addresses table checked/created
Executing (default): CREATE TABLE IF NOT EXISTS "admins" (
        "id" SERIAL PRIMARY KEY,
        "username" VARCHAR(255) NOT NULL UNIQUE,
        "password" VARCHAR(255),
        "email" VARCHAR(255) NOT NULL UNIQUE,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ admins table checked/created
Executing (default): SELECT is_nullable 
        FROM information_schema.columns 
        WHERE table_name='admins' AND column_name='password';
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='admins' AND column_name='role';
‚úÖ role column already exists in admins table
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='admins' AND column_name='inviteToken';
‚úÖ inviteToken columns already exist in admins table
Executing (default): SELECT "id", "username", "password", "email", "role", "inviteToken", "inviteTokenExpiry", "createdAt", "updatedAt" FROM "admins" AS "Admin" WHERE "Admin"."username" = 'admin';
Executing (default): SELECT "id", "username", "password", "email", "role", "inviteToken", "inviteTokenExpiry", "createdAt", "updatedAt" FROM "admins" AS "Admin" WHERE "Admin"."role" IS NULL;
Database columns updated successfully.
Executing (default): SELECT count(*) AS "count" FROM "categories" AS "Category";
Database setup completed.
Client connected: ZRQfza4idF9WTNzxAAAC
Client connected: 5OG33sm83bnJlERcAAAD
Client connected: QlO3X4SiPXboX16BAAAF
Executing (default): SELECT "Drink"."id", "Drink"."name", "Drink"."description", "Drink"."price", "Drink"."image", "Drink"."categoryId", "Drink"."subCategoryId", "Drink"."isAvailable", "Drink"."isPopular", "Drink"."isOnOffer", "Drink"."limitedTimeOffer", "Drink"."originalPrice", "Drink"."capacity", "Drink"."capacityPricing", "Drink"."abv", "Drink"."createdAt", "Drink"."updatedAt", "category"."id" AS "category.id", "category"."name" AS "category.name", "category"."description" AS "category.description", "category"."image" AS "category.image", "category"."isActive" AS "category.isActive", "category"."createdAt" AS "category.createdAt", "category"."updatedAt" AS "category.updatedAt", "subCategory"."id" AS "subCategory.id", "subCategory"."name" AS "subCategory.name", "subCategory"."categoryId" AS "subCategory.categoryId", "subCategory"."isActive" AS "subCategory.isActive", "subCategory"."createdAt" AS "subCategory.createdAt", "subCategory"."updatedAt" AS "subCategory.updatedAt" FROM "drinks" AS "Drink" LEFT OUTER JOIN "categories" AS "category" ON "Drink"."categoryId" = "category"."id" LEFT OUTER JOIN "subcategories" AS "subCategory" ON "Drink"."subCategoryId" = "subCategory"."id" ORDER BY "Drink"."name" ASC;
Executing (default): SELECT "id", "name", "description", "image", "isActive", "createdAt", "updatedAt" FROM "categories" AS "Category" ORDER BY "Category"."name" ASC;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."categoryId" = 12;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."categoryId" = 10;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."categoryId" = 8;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."categoryId" = 11;
Returning drinks with capacity pricing: [
  {
    id: 277,
    name: '1659 Sauvignon Blanc',
    capacityPricing: [ [Object] ]
  },
  { id: 281, name: '1659 Sweet Rose', capacityPricing: [ [Object] ] },
  {
    id: 1699,
    name: '1792 Small Batch Whisky',
    capacityPricing: [ [Object] ]
  },
  {
    id: 841,
    name: '1857 Grape juice red',
    capacityPricing: [ [Object] ]
  },
  {
    id: 842,
    name: '1857 Grape juice white',
    capacityPricing: [ [Object] ]
  },
  { id: 304, name: '4th Street Red', capacityPricing: [ [Object] ] },
  {
    id: 292,
    name: '4th Street White 5L',
    capacityPricing: [ [Object] ]
  },
  { id: 998, name: '58 Classic Gin', capacityPricing: [ [Object] ] },
  {
    id: 997,
    name: '58 Gin & Tonic Spiced Orange 330ml',
    capacityPricing: [ [Object] ]
  },
  { id: 1236, name: '8PM Fire Liqueur', capacityPricing: [] },
  { id: 1188, name: '8PM Honey', capacityPricing: [] },
  { id: 222, name: '8PM Indian Whisky', capacityPricing: [ [Object] ] },
  {
    id: 1526,
    name: 'Aberfeldy 12 Years',
    capacityPricing: [ [Object] ]
  },
  {
    id: 1564,
    name: 'Aberfeldy 18 Years',
    capacityPricing: [ [Object] ]
  },
  {
    id: 1706,
    name: 'Aberfeldy 21 Years',
    capacityPricing: [ [Object] ]
  },
  {
    id: 1737,
    name: 'Aberlour 10 Years',
    capacityPricing: [ [Object] ]
  },
  {
    id: 1625,
    name: 'Aberlour 12 Years',
    capacityPricing: [ [Object] ]
  },
  { id: 1543, name: 'Aberlour 18 Years', capacityPricing: null },
  {
    id: 1288,
    name: 'Absolut Citron',
    capacityPricing: [ [Object], [Object] ]
  },
  { id: 1386, name: 'Absolut Elyx', capacityPricing: [ [Object] ] },
  { id: 1292, name: 'Absolut Kurant', capacityPricing: [ [Object] ] },
  {
    id: 1290,
    name: 'Absolut Raspberri',
    capacityPricing: [ [Object] ]
  },
  { id: 1289, name: 'Absolut Vanilla', capacityPricing: [ [Object] ] },
  {
    id: 1006,
    name: 'Absolut Vodka',
    capacityPricing: [ [Object], [Object] ]
  },
  {
    id: 25,
    name: 'Absolut Vodka',
    capacityPricing: [ [Object], [Object] ]
  },
  { id: 365, name: 'Absolut Watkins', capacityPricing: [ [Object] ] },
  { id: 1390, name: 'Absolute Apeach', capacityPricing: [ [Object] ] },
  { id: 1384, name: 'Absolute Oak', capacityPricing: [ [Object] ] },
  { id: 1407, name: 'Absolute Pears', capacityPricing: [ [Object] ] },
  { id: 1391, name: 'Absolute Pepper', capacityPricing: [ [Object] ] },
  { id: 1007, name: 'Absolute Unique', capacityPricing: [ [Object] ] },
  { id: 1392, name: 'Absolute Unique', capacityPricing: [ [Object] ] },
  { id: 1394, name: 'Absolute mango', capacityPricing: [ [Object] ] },
  { id: 1008, name: 'Absolute mango', capacityPricing: [ [Object] ] },
  {
    id: 385,
    name: 'Ace Of Spades Champagne',
    capacityPricing: [ [Object] ]
  },
  {
    id: 941,
    name: 'Afri Bull Cafe Rum',
    capacityPricing: [ [Object] ]
  },
  {
    id: 1241,
    name: 'African Secret Marula Cream Liqueur',
    capacityPricing: []
  },
  { id: 700, name: 'Agavita Anejo', capacityPricing: [ [Object] ] },
  { id: 675, name: 'Agavita Blanco', capacityPricing: [ [Object] ] },
  { id: 1726, name: 'Akashi Red Whisky', capacityPricing: null },
  { id: 1723, name: 'Akashi White Oak', capacityPricing: [ [Object] ] },
  { id: 467, name: 'Akso Aloe Grapes', capacityPricing: [ [Object] ] },
  {
    id: 130,
    name: 'Akso Aloe Grapes',
    capacityPricing: [ [Object], [Object] ]
  },
  { id: 468, name: 'Akso Apple Ice', capacityPricing: [ [Object] ] },
  { id: 461, name: 'Akso Energy Drink', capacityPricing: [ [Object] ] },
  { id: 127, name: 'Akso Energy Drink', capacityPricing: [ [Object] ] },
  { id: 455, name: 'Akso Grape Ice', capacityPricing: [ [Object] ] },
  { id: 458, name: 'Akso Mango Ice', capacityPricing: [ [Object] ] },
  { id: 125, name: 'Akso Mango Ice', capacityPricing: [ [Object] ] },
  { id: 462, name: 'Akso Melon Ice', capacityPricing: [ [Object] ] },
  { id: 128, name: 'Akso Melon Ice', capacityPricing: [ [Object] ] },
  {
    id: 446,
    name: 'Akso Strawberry Ice',
    capacityPricing: [ [Object] ]
  },
  {
    id: 120,
    name: 'Akso Strawberry Ice',
    capacityPricing: [ [Object] ]
  },
  {
    id: 466,
    name: 'Akso Strawberry pitaya',
    capacityPricing: [ [Object] ]
  },
  {
    id: 129,
    name: 'Akso Strawberry pitaya',
    capacityPricing: [ [Object] ]
  },
  { id: 50, name: 'Al Capone Cigar', capacityPricing: [ [Object] ] },
  { id: 1802, name: 'Alamos Malbec', capacityPricing: null },
  {
    id: 224,
    name: 'All Seasons Whiskey',
    capacityPricing: [ [Object], [Object] ]
  },
  {
    id: 294,
    name: 'Alma Mora Pinot Grigio',
    capacityPricing: [ [Object] ]
  },
  { id: 1811, name: 'Alma Mora Shiraz', capacityPricing: [ [Object] ] },
  { id: 1814, name: 'Altar wine', capacityPricing: [ [Object] ] },
  { id: 1189, name: 'Amarula Cream Liqueur', capacityPricing: [] },
  { id: 1217, name: 'Amarula Gold', capacityPricing: [] },
  {
    id: 1242,
    name: 'Amarula Raspberry Chocolate',
    capacityPricing: []
  },
  {
    id: 1230,
    name: 'Amarula Vanilla Spice Cream',
    capacityPricing: []
  },
  {
    id: 1582,
    name: 'American Honey Whiskey Liqueur',
    capacityPricing: null
  },
  { id: 367, name: 'Amsterdam Vodka', capacityPricing: [ [Object] ] },
  {
    id: 903,
    name: 'Angostura 3 Years Old Reserve',
    capacityPricing: [ [Object] ]
  },
  {
    id: 902,
    name: 'Angostura 5 Years Old Superior Gold',
    capacityPricing: [ [Object] ]
  },
  { id: 1209, name: 'Angostura Bitters', capacityPricing: [] },
  {
    id: 904,
    name: 'Angostura Bitters',
    capacityPricing: [ [Object], [Object] ]
  },
  {
    id: 900,
    name: 'Angostura Caribbean Rum 1824',
    capacityPricing: [ [Object] ]
  },
  {
    id: 901,
    name: 'Angostura Caribbean Rum 1919',
    capacityPricing: [ [Object] ]
  },
  { id: 1225, name: 'Anthon Berg Chocolate', capacityPricing: [] },
  {
    id: 807,
    name: 'Aquamist sparkling water',
    capacityPricing: [ [Object] ]
  },
  {
    id: 1757,
    name: 'Arthur Metz Cr√©mant Rose',
    capacityPricing: [ [Object] ]
  },
  {
    id: 372,
    name: 'Arthur Metz Cr√©mant Rose',
    capacityPricing: [ [Object] ]
  },
  {
    id: 375,
    name: "Arthur Metz Cr√©mant d'Alsace",
    capacityPricing: [ [Object] ]
  },
  {
    id: 1761,
    name: "Arthur Metz Cr√©mant d'Alsace",
    capacityPricing: null
  },
  { id: 1824, name: 'Asconi Pastoral', capacityPricing: [ [Object] ] },
  {
    id: 287,
    name: 'Asconi Red Semi Sweet',
    capacityPricing: [ [Object] ]
  },
  {
    id: 541,
    name: 'Atlas Ultra Strong 14',
    capacityPricing: [ [Object] ]
  },
  {
    id: 1714,
    name: 'Auchentoshan 18 Years',
    capacityPricing: [ [Object] ]
  },
  {
    id: 1592,
    name: 'Auchentoshan American Oak',
    capacityPricing: [ [Object] ]
  },
  { id: 662, name: 'Azul Gold Tequila', capacityPricing: [ [Object] ] },
  {
    id: 690,
    name: 'Azul Reposado Tequila',
    capacityPricing: [ [Object] ]
  },
  { id: 930, name: 'Bacardi 8 Years', capacityPricing: [ [Object] ] },
  {
    id: 931,
    name: 'Bacardi Anejo Cuatro',
    capacityPricing: [ [Object] ]
  },
  {
    id: 926,
    name: 'Bacardi Black',
    capacityPricing: [ [Object], [Object] ]
  },
  {
    id: 923,
    name: 'Bacardi Breezer Lime',
    capacityPricing: [ [Object] ]
  },
  {
    id: 922,
    name: 'Bacardi Breezer Peach',
    capacityPricing: [ [Object] ]
  },
  {
    id: 921,
    name: 'Bacardi Breezer Pineapple',
    capacityPricing: [ [Object] ]
  },
  {
    id: 924,
    name: 'Bacardi Breezer Watermelon',
    capacityPricing: [ [Object] ]
  },
  {
    id: 925,
    name: 'Bacardi Carta Blanca',
    capacityPricing: [ [Object], [Object] ]
  },
  {
    id: 929,
    name: 'Bacardi Gold',
    capacityPricing: [ [Object], [Object] ]
  },
  { id: 927, name: 'Bacardi Limon rum', capacityPricing: [ [Object] ] },
  { id: 933, name: 'Bacardi Mojito', capacityPricing: [ [Object] ] },
  {
    id: 928,
    name: 'Bacardi Oakheart [New Bacardi spiced]',
    capacityPricing: [ [Object] ]
  },
  {
    id: 160,
    name: 'Bacardi Superior White Rum',
    capacityPricing: [ [Object] ]
  },
  {
    id: 932,
    name: 'Bacardi spiced Rum',
    capacityPricing: [ [Object] ]
  },
  ... 1288 more items
]
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."categoryId" = 15;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."categoryId" = 16;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."categoryId" = 14;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."categoryId" = 17;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."categoryId" = 1;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."categoryId" = 13;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."categoryId" = 9;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."categoryId" = 6;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."categoryId" = 5;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."categoryId" = 7;
Executing (default): SELECT "image" FROM "drinks" AS "Drink" WHERE ("Drink"."image" IS NOT NULL AND "Drink"."image" != '') AND "Drink"."categoryId" = 11 ORDER BY "Drink"."id" ASC LIMIT 1;
Executing (default): SELECT "image" FROM "drinks" AS "Drink" WHERE ("Drink"."image" IS NOT NULL AND "Drink"."image" != '') AND "Drink"."categoryId" = 10 ORDER BY "Drink"."id" ASC LIMIT 1;
Executing (default): SELECT "image" FROM "drinks" AS "Drink" WHERE ("Drink"."image" IS NOT NULL AND "Drink"."image" != '') AND "Drink"."categoryId" = 8 ORDER BY "Drink"."id" ASC LIMIT 1;
Executing (default): SELECT "image" FROM "drinks" AS "Drink" WHERE ("Drink"."image" IS NOT NULL AND "Drink"."image" != '') AND "Drink"."categoryId" = 12 ORDER BY "Drink"."id" ASC LIMIT 1;
Executing (default): SELECT "image" FROM "drinks" AS "Drink" WHERE ("Drink"."image" IS NOT NULL AND "Drink"."image" != '') AND "Drink"."categoryId" = 15 ORDER BY "Drink"."id" ASC LIMIT 1;
Executing (default): SELECT "image" FROM "drinks" AS "Drink" WHERE ("Drink"."image" IS NOT NULL AND "Drink"."image" != '') AND "Drink"."categoryId" = 16 ORDER BY "Drink"."id" ASC LIMIT 1;
Executing (default): SELECT "Drink"."id", "Drink"."name", "Drink"."description", "Drink"."price", "Drink"."image", "Drink"."categoryId", "Drink"."subCategoryId", "Drink"."isAvailable", "Drink"."isPopular", "Drink"."isOnOffer", "Drink"."limitedTimeOffer", "Drink"."originalPrice", "Drink"."capacity", "Drink"."capacityPricing", "Drink"."abv", "Drink"."createdAt", "Drink"."updatedAt", "category"."id" AS "category.id", "category"."name" AS "category.name", "category"."description" AS "category.description", "category"."image" AS "category.image", "category"."isActive" AS "category.isActive", "category"."createdAt" AS "category.createdAt", "category"."updatedAt" AS "category.updatedAt", "subCategory"."id" AS "subCategory.id", "subCategory"."name" AS "subCategory.name", "subCategory"."categoryId" AS "subCategory.categoryId", "subCategory"."isActive" AS "subCategory.isActive", "subCategory"."createdAt" AS "subCategory.createdAt", "subCategory"."updatedAt" AS "subCategory.updatedAt" FROM "drinks" AS "Drink" LEFT OUTER JOIN "categories" AS "category" ON "Drink"."categoryId" = "category"."id" LEFT OUTER JOIN "subcategories" AS "subCategory" ON "Drink"."subCategoryId" = "subCategory"."id" ORDER BY "Drink"."name" ASC;
Executing (default): SELECT "image" FROM "drinks" AS "Drink" WHERE ("Drink"."image" IS NOT NULL AND "Drink"."image" != '') AND "Drink"."categoryId" = 17 ORDER BY "Drink"."id" ASC LIMIT 1;
Executing (default): SELECT "image" FROM "drinks" AS "Drink" WHERE ("Drink"."image" IS NOT NULL AND "Drink"."image" != '') AND "Drink"."categoryId" = 1 ORDER BY "Drink"."id" ASC LIMIT 1;
Executing (default): SELECT "image" FROM "drinks" AS "Drink" WHERE ("Drink"."image" IS NOT NULL AND "Drink"."image" != '') AND "Drink"."categoryId" = 13 ORDER BY "Drink"."id" ASC LIMIT 1;
Executing (default): SELECT "image" FROM "drinks" AS "Drink" WHERE ("Drink"."image" IS NOT NULL AND "Drink"."image" != '') AND "Drink"."categoryId" = 9 ORDER BY "Drink"."id" ASC LIMIT 1;
Executing (default): SELECT "image" FROM "drinks" AS "Drink" WHERE ("Drink"."image" IS NOT NULL AND "Drink"."image" != '') AND "Drink"."categoryId" = 14 ORDER BY "Drink"."id" ASC LIMIT 1;
Executing (default): SELECT "image" FROM "drinks" AS "Drink" WHERE ("Drink"."image" IS NOT NULL AND "Drink"."image" != '') AND "Drink"."categoryId" = 6 ORDER BY "Drink"."id" ASC LIMIT 1;
Executing (default): SELECT "image" FROM "drinks" AS "Drink" WHERE ("Drink"."image" IS NOT NULL AND "Drink"."image" != '') AND "Drink"."categoryId" = 5 ORDER BY "Drink"."id" ASC LIMIT 1;
Executing (default): SELECT "image" FROM "drinks" AS "Drink" WHERE ("Drink"."image" IS NOT NULL AND "Drink"."image" != '') AND "Drink"."categoryId" = 7 ORDER BY "Drink"."id" ASC LIMIT 1;
Executing (default): SELECT "id", "name", "description", "image", "isActive", "createdAt", "updatedAt" FROM "categories" AS "Category" ORDER BY "Category"."name" ASC;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."categoryId" = 12;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."categoryId" = 10;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."categoryId" = 8;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."categoryId" = 11;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."categoryId" = 15;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."categoryId" = 16;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."categoryId" = 14;
Returning drinks with capacity pricing: [
  {
    id: 277,
    name: '1659 Sauvignon Blanc',
    capacityPricing: [ [Object] ]
  },
  { id: 281, name: '1659 Sweet Rose', capacityPricing: [ [Object] ] },
  {
    id: 1699,
    name: '1792 Small Batch Whisky',
    capacityPricing: [ [Object] ]
  },
  {
    id: 841,
    name: '1857 Grape juice red',
    capacityPricing: [ [Object] ]
  },
  {
    id: 842,
    name: '1857 Grape juice white',
    capacityPricing: [ [Object] ]
  },
  { id: 304, name: '4th Street Red', capacityPricing: [ [Object] ] },
  {
    id: 292,
    name: '4th Street White 5L',
    capacityPricing: [ [Object] ]
  },
  { id: 998, name: '58 Classic Gin', capacityPricing: [ [Object] ] },
  {
    id: 997,
    name: '58 Gin & Tonic Spiced Orange 330ml',
    capacityPricing: [ [Object] ]
  },
  { id: 1236, name: '8PM Fire Liqueur', capacityPricing: [] },
  { id: 1188, name: '8PM Honey', capacityPricing: [] },
  { id: 222, name: '8PM Indian Whisky', capacityPricing: [ [Object] ] },
  {
    id: 1526,
    name: 'Aberfeldy 12 Years',
    capacityPricing: [ [Object] ]
  },
  {
    id: 1564,
    name: 'Aberfeldy 18 Years',
    capacityPricing: [ [Object] ]
  },
  {
    id: 1706,
    name: 'Aberfeldy 21 Years',
    capacityPricing: [ [Object] ]
  },
  {
    id: 1737,
    name: 'Aberlour 10 Years',
    capacityPricing: [ [Object] ]
  },
  {
    id: 1625,
    name: 'Aberlour 12 Years',
    capacityPricing: [ [Object] ]
  },
  { id: 1543, name: 'Aberlour 18 Years', capacityPricing: null },
  {
    id: 1288,
    name: 'Absolut Citron',
    capacityPricing: [ [Object], [Object] ]
  },
  { id: 1386, name: 'Absolut Elyx', capacityPricing: [ [Object] ] },
  { id: 1292, name: 'Absolut Kurant', capacityPricing: [ [Object] ] },
  {
    id: 1290,
    name: 'Absolut Raspberri',
    capacityPricing: [ [Object] ]
  },
  { id: 1289, name: 'Absolut Vanilla', capacityPricing: [ [Object] ] },
  {
    id: 1006,
    name: 'Absolut Vodka',
    capacityPricing: [ [Object], [Object] ]
  },
  {
    id: 25,
    name: 'Absolut Vodka',
    capacityPricing: [ [Object], [Object] ]
  },
  { id: 365, name: 'Absolut Watkins', capacityPricing: [ [Object] ] },
  { id: 1390, name: 'Absolute Apeach', capacityPricing: [ [Object] ] },
  { id: 1384, name: 'Absolute Oak', capacityPricing: [ [Object] ] },
  { id: 1407, name: 'Absolute Pears', capacityPricing: [ [Object] ] },
  { id: 1391, name: 'Absolute Pepper', capacityPricing: [ [Object] ] },
  { id: 1007, name: 'Absolute Unique', capacityPricing: [ [Object] ] },
  { id: 1392, name: 'Absolute Unique', capacityPricing: [ [Object] ] },
  { id: 1394, name: 'Absolute mango', capacityPricing: [ [Object] ] },
  { id: 1008, name: 'Absolute mango', capacityPricing: [ [Object] ] },
  {
    id: 385,
    name: 'Ace Of Spades Champagne',
    capacityPricing: [ [Object] ]
  },
  {
    id: 941,
    name: 'Afri Bull Cafe Rum',
    capacityPricing: [ [Object] ]
  },
  {
    id: 1241,
    name: 'African Secret Marula Cream Liqueur',
    capacityPricing: []
  },
  { id: 700, name: 'Agavita Anejo', capacityPricing: [ [Object] ] },
  { id: 675, name: 'Agavita Blanco', capacityPricing: [ [Object] ] },
  { id: 1726, name: 'Akashi Red Whisky', capacityPricing: null },
  { id: 1723, name: 'Akashi White Oak', capacityPricing: [ [Object] ] },
  { id: 467, name: 'Akso Aloe Grapes', capacityPricing: [ [Object] ] },
  {
    id: 130,
    name: 'Akso Aloe Grapes',
    capacityPricing: [ [Object], [Object] ]
  },
  { id: 468, name: 'Akso Apple Ice', capacityPricing: [ [Object] ] },
  { id: 461, name: 'Akso Energy Drink', capacityPricing: [ [Object] ] },
  { id: 127, name: 'Akso Energy Drink', capacityPricing: [ [Object] ] },
  { id: 455, name: 'Akso Grape Ice', capacityPricing: [ [Object] ] },
  { id: 458, name: 'Akso Mango Ice', capacityPricing: [ [Object] ] },
  { id: 125, name: 'Akso Mango Ice', capacityPricing: [ [Object] ] },
  { id: 462, name: 'Akso Melon Ice', capacityPricing: [ [Object] ] },
  { id: 128, name: 'Akso Melon Ice', capacityPricing: [ [Object] ] },
  {
    id: 446,
    name: 'Akso Strawberry Ice',
    capacityPricing: [ [Object] ]
  },
  {
    id: 120,
    name: 'Akso Strawberry Ice',
    capacityPricing: [ [Object] ]
  },
  {
    id: 466,
    name: 'Akso Strawberry pitaya',
    capacityPricing: [ [Object] ]
  },
  {
    id: 129,
    name: 'Akso Strawberry pitaya',
    capacityPricing: [ [Object] ]
  },
  { id: 50, name: 'Al Capone Cigar', capacityPricing: [ [Object] ] },
  { id: 1802, name: 'Alamos Malbec', capacityPricing: null },
  {
    id: 224,
    name: 'All Seasons Whiskey',
    capacityPricing: [ [Object], [Object] ]
  },
  {
    id: 294,
    name: 'Alma Mora Pinot Grigio',
    capacityPricing: [ [Object] ]
  },
  { id: 1811, name: 'Alma Mora Shiraz', capacityPricing: [ [Object] ] },
  { id: 1814, name: 'Altar wine', capacityPricing: [ [Object] ] },
  { id: 1189, name: 'Amarula Cream Liqueur', capacityPricing: [] },
  { id: 1217, name: 'Amarula Gold', capacityPricing: [] },
  {
    id: 1242,
    name: 'Amarula Raspberry Chocolate',
    capacityPricing: []
  },
  {
    id: 1230,
    name: 'Amarula Vanilla Spice Cream',
    capacityPricing: []
  },
  {
    id: 1582,
    name: 'American Honey Whiskey Liqueur',
    capacityPricing: null
  },
  { id: 367, name: 'Amsterdam Vodka', capacityPricing: [ [Object] ] },
  {
    id: 903,
    name: 'Angostura 3 Years Old Reserve',
    capacityPricing: [ [Object] ]
  },
  {
    id: 902,
    name: 'Angostura 5 Years Old Superior Gold',
    capacityPricing: [ [Object] ]
  },
  { id: 1209, name: 'Angostura Bitters', capacityPricing: [] },
  {
    id: 904,
    name: 'Angostura Bitters',
    capacityPricing: [ [Object], [Object] ]
  },
  {
    id: 900,
    name: 'Angostura Caribbean Rum 1824',
    capacityPricing: [ [Object] ]
  },
  {
    id: 901,
    name: 'Angostura Caribbean Rum 1919',
    capacityPricing: [ [Object] ]
  },
  { id: 1225, name: 'Anthon Berg Chocolate', capacityPricing: [] },
  {
    id: 807,
    name: 'Aquamist sparkling water',
    capacityPricing: [ [Object] ]
  },
  {
    id: 1757,
    name: 'Arthur Metz Cr√©mant Rose',
    capacityPricing: [ [Object] ]
  },
  {
    id: 372,
    name: 'Arthur Metz Cr√©mant Rose',
    capacityPricing: [ [Object] ]
  },
  {
    id: 375,
    name: "Arthur Metz Cr√©mant d'Alsace",
    capacityPricing: [ [Object] ]
  },
  {
    id: 1761,
    name: "Arthur Metz Cr√©mant d'Alsace",
    capacityPricing: null
  },
  { id: 1824, name: 'Asconi Pastoral', capacityPricing: [ [Object] ] },
  {
    id: 287,
    name: 'Asconi Red Semi Sweet',
    capacityPricing: [ [Object] ]
  },
  {
    id: 541,
    name: 'Atlas Ultra Strong 14',
    capacityPricing: [ [Object] ]
  },
  {
    id: 1714,
    name: 'Auchentoshan 18 Years',
    capacityPricing: [ [Object] ]
  },
  {
    id: 1592,
    name: 'Auchentoshan American Oak',
    capacityPricing: [ [Object] ]
  },
  { id: 662, name: 'Azul Gold Tequila', capacityPricing: [ [Object] ] },
  {
    id: 690,
    name: 'Azul Reposado Tequila',
    capacityPricing: [ [Object] ]
  },
  { id: 930, name: 'Bacardi 8 Years', capacityPricing: [ [Object] ] },
  {
    id: 931,
    name: 'Bacardi Anejo Cuatro',
    capacityPricing: [ [Object] ]
  },
  {
    id: 926,
    name: 'Bacardi Black',
    capacityPricing: [ [Object], [Object] ]
  },
  {
    id: 923,
    name: 'Bacardi Breezer Lime',
    capacityPricing: [ [Object] ]
  },
  {
    id: 922,
    name: 'Bacardi Breezer Peach',
    capacityPricing: [ [Object] ]
  },
  {
    id: 921,
    name: 'Bacardi Breezer Pineapple',
    capacityPricing: [ [Object] ]
  },
  {
    id: 924,
    name: 'Bacardi Breezer Watermelon',
    capacityPricing: [ [Object] ]
  },
  {
    id: 925,
    name: 'Bacardi Carta Blanca',
    capacityPricing: [ [Object], [Object] ]
  },
  {
    id: 929,
    name: 'Bacardi Gold',
    capacityPricing: [ [Object], [Object] ]
  },
  { id: 927, name: 'Bacardi Limon rum', capacityPricing: [ [Object] ] },
  { id: 933, name: 'Bacardi Mojito', capacityPricing: [ [Object] ] },
  {
    id: 928,
    name: 'Bacardi Oakheart [New Bacardi spiced]',
    capacityPricing: [ [Object] ]
  },
  {
    id: 160,
    name: 'Bacardi Superior White Rum',
    capacityPricing: [ [Object] ]
  },
  {
    id: 932,
    name: 'Bacardi spiced Rum',
    capacityPricing: [ [Object] ]
  },
  ... 1288 more items
]
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."categoryId" = 17;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."categoryId" = 1;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."categoryId" = 13;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."categoryId" = 9;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."categoryId" = 6;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."categoryId" = 5;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."categoryId" = 7;
Executing (default): SELECT "image" FROM "drinks" AS "Drink" WHERE ("Drink"."image" IS NOT NULL AND "Drink"."image" != '') AND "Drink"."categoryId" = 10 ORDER BY "Drink"."id" ASC LIMIT 1;
Executing (default): SELECT "image" FROM "drinks" AS "Drink" WHERE ("Drink"."image" IS NOT NULL AND "Drink"."image" != '') AND "Drink"."categoryId" = 12 ORDER BY "Drink"."id" ASC LIMIT 1;
Executing (default): SELECT "image" FROM "drinks" AS "Drink" WHERE ("Drink"."image" IS NOT NULL AND "Drink"."image" != '') AND "Drink"."categoryId" = 11 ORDER BY "Drink"."id" ASC LIMIT 1;
Executing (default): SELECT "image" FROM "drinks" AS "Drink" WHERE ("Drink"."image" IS NOT NULL AND "Drink"."image" != '') AND "Drink"."categoryId" = 8 ORDER BY "Drink"."id" ASC LIMIT 1;
Executing (default): SELECT "image" FROM "drinks" AS "Drink" WHERE ("Drink"."image" IS NOT NULL AND "Drink"."image" != '') AND "Drink"."categoryId" = 15 ORDER BY "Drink"."id" ASC LIMIT 1;
Executing (default): SELECT "image" FROM "drinks" AS "Drink" WHERE ("Drink"."image" IS NOT NULL AND "Drink"."image" != '') AND "Drink"."categoryId" = 14 ORDER BY "Drink"."id" ASC LIMIT 1;
Executing (default): SELECT "image" FROM "drinks" AS "Drink" WHERE ("Drink"."image" IS NOT NULL AND "Drink"."image" != '') AND "Drink"."categoryId" = 17 ORDER BY "Drink"."id" ASC LIMIT 1;
Executing (default): SELECT "image" FROM "drinks" AS "Drink" WHERE ("Drink"."image" IS NOT NULL AND "Drink"."image" != '') AND "Drink"."categoryId" = 16 ORDER BY "Drink"."id" ASC LIMIT 1;
Executing (default): SELECT "image" FROM "drinks" AS "Drink" WHERE ("Drink"."image" IS NOT NULL AND "Drink"."image" != '') AND "Drink"."categoryId" = 9 ORDER BY "Drink"."id" ASC LIMIT 1;
Executing (default): SELECT "image" FROM "drinks" AS "Drink" WHERE ("Drink"."image" IS NOT NULL AND "Drink"."image" != '') AND "Drink"."categoryId" = 1 ORDER BY "Drink"."id" ASC LIMIT 1;
Executing (default): SELECT "image" FROM "drinks" AS "Drink" WHERE ("Drink"."image" IS NOT NULL AND "Drink"."image" != '') AND "Drink"."categoryId" = 13 ORDER BY "Drink"."id" ASC LIMIT 1;
Executing (default): SELECT "image" FROM "drinks" AS "Drink" WHERE ("Drink"."image" IS NOT NULL AND "Drink"."image" != '') AND "Drink"."categoryId" = 7 ORDER BY "Drink"."id" ASC LIMIT 1;
Executing (default): SELECT "image" FROM "drinks" AS "Drink" WHERE ("Drink"."image" IS NOT NULL AND "Drink"."image" != '') AND "Drink"."categoryId" = 6 ORDER BY "Drink"."id" ASC LIMIT 1;
Executing (default): SELECT "image" FROM "drinks" AS "Drink" WHERE ("Drink"."image" IS NOT NULL AND "Drink"."image" != '') AND "Drink"."categoryId" = 5 ORDER BY "Drink"."id" ASC LIMIT 1;
‚úÖ Using callback URL from environment: https://homiest-psychopharmacologic-anaya.ngrok-free.dev/api/mpesa/callback
Executing (default): SELECT "id", "key", "value", "createdAt", "updatedAt" FROM "settings" AS "Settings" WHERE "Settings"."key" = 'deliveryFeeWithAlcohol';
Executing (default): SELECT "id", "key", "value", "createdAt", "updatedAt" FROM "settings" AS "Settings" WHERE "Settings"."key" = 'deliveryTestMode';
Executing (default): SELECT "id", "key", "value", "createdAt", "updatedAt" FROM "settings" AS "Settings" WHERE "Settings"."key" = 'deliveryFeeWithoutAlcohol';
Executing (default): SELECT "id", "key", "value", "createdAt", "updatedAt" FROM "settings" AS "Settings" WHERE "Settings"."key" = 'deliveryTestMode';
Executing (default): SELECT "id", "key", "value", "createdAt", "updatedAt" FROM "settings" AS "Settings" WHERE "Settings"."key" = 'deliveryFeeWithAlcohol';
Executing (default): SELECT "id", "key", "value", "createdAt", "updatedAt" FROM "settings" AS "Settings" WHERE "Settings"."key" = 'deliveryFeeWithoutAlcohol';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
üõí Incoming order payload: {
  "customerName": "Hey",
  "customerPhone": "0727893741",
  "customerEmail": "mmumoki@gmail.com",
  "deliveryAddress": "Denali Apartments, Nairobi, Kenya, 1, Floor 1",
  "items": [
    {
      "drinkId": 1826,
      "quantity": 1
    }
  ],
  "paymentType": "pay_now",
  "paymentMethod": "mobile_money",
  "tipAmount": 1
}
üõí Normalized cart items: [
  {
    "drinkId": 1826,
    "quantity": 1,
    "selectedPrice": null,
    "selectedCapacity": null
  }
]
Executing (default): SELECT "id", "key", "value", "createdAt", "updatedAt" FROM "settings" AS "Settings" WHERE "Settings"."key" = 'deliveryTestMode';
Executing (default): SELECT "id", "key", "value", "createdAt", "updatedAt" FROM "settings" AS "Settings" WHERE "Settings"."key" = 'maxTipEnabled';
Executing (4812081d-2d86-4b37-acbe-64ca30e701d6): START TRANSACTION;
Executing (4812081d-2d86-4b37-acbe-64ca30e701d6): SELECT "id", "name", "description", "price", "image", "categoryId", "subCategoryId", "isAvailable", "isPopular", "isOnOffer", "limitedTimeOffer", "originalPrice", "capacity", "capacityPricing", "abv", "createdAt", "updatedAt" FROM "drinks" AS "Drink" WHERE "Drink"."id" = 1826;
[order:create] item {
  drinkId: 1826,
  quantity: 1,
  selectedPrice: null,
  drinkPrice: '1.00',
  computedPrice: 1
}
Executing (default): SELECT "id", "key", "value", "createdAt", "updatedAt" FROM "settings" AS "Settings" WHERE "Settings"."key" = 'deliveryTestMode';
Executing (default): SELECT "id", "key", "value", "createdAt", "updatedAt" FROM "settings" AS "Settings" WHERE "Settings"."key" = 'deliveryFeeWithAlcohol';
Executing (default): SELECT "id", "key", "value", "createdAt", "updatedAt" FROM "settings" AS "Settings" WHERE "Settings"."key" = 'deliveryFeeWithoutAlcohol';
Executing (default): SELECT "Drink"."id", "Drink"."name", "Drink"."description", "Drink"."price", "Drink"."image", "Drink"."categoryId", "Drink"."subCategoryId", "Drink"."isAvailable", "Drink"."isPopular", "Drink"."isOnOffer", "Drink"."limitedTimeOffer", "Drink"."originalPrice", "Drink"."capacity", "Drink"."capacityPricing", "Drink"."abv", "Drink"."createdAt", "Drink"."updatedAt", "category"."id" AS "category.id", "category"."name" AS "category.name", "category"."description" AS "category.description", "category"."image" AS "category.image", "category"."isActive" AS "category.isActive", "category"."createdAt" AS "category.createdAt", "category"."updatedAt" AS "category.updatedAt" FROM "drinks" AS "Drink" LEFT OUTER JOIN "categories" AS "category" ON "Drink"."categoryId" = "category"."id" WHERE "Drink"."id" IN (1826);
Executing (4812081d-2d86-4b37-acbe-64ca30e701d6): INSERT INTO "orders" ("id","customerName","customerPhone","customerEmail","deliveryAddress","totalAmount","tipAmount","status","paymentStatus","notes","paymentType","paymentMethod","driverAccepted","driverPayCredited","driverPayAmount","createdAt","updatedAt") VALUES (DEFAULT,$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16) RETURNING "id","customerName","customerPhone","customerEmail","deliveryAddress","totalAmount","tipAmount","status","paymentStatus","notes","paymentType","paymentMethod","driverId","driverAccepted","driverPayCredited","driverPayCreditedAt","driverPayAmount","createdAt","updatedAt";
Executing (4812081d-2d86-4b37-acbe-64ca30e701d6): SELECT "id", "email", "phone", "username", "password", "customerName", "hasSetPassword", "createdAt", "updatedAt" FROM "customers" AS "Customer" WHERE ("Customer"."email" = 'mmumoki@gmail.com' OR "Customer"."username" = 'mmumoki@gmail.com' OR "Customer"."phone" = '254727893741' OR "Customer"."username" = '254727893741' OR "Customer"."username" = 'mmumoki@gmail.com' OR "Customer"."username" = '254727893741' OR "Customer"."username" = 'hey' OR "Customer"."username" = '0727893741' OR "Customer"."username" = 'mmumoki@gmail.com' OR "Customer"."username" = 'customer-150') LIMIT 1;
[order:create] creating order item { drinkId: 1826, quantity: 1, price: 1 }
Executing (4812081d-2d86-4b37-acbe-64ca30e701d6): INSERT INTO "order_items" ("id","orderId","drinkId","quantity","price","createdAt","updatedAt") VALUES (DEFAULT,$1,$2,$3,$4,$5,$6) RETURNING "id","orderId","drinkId","quantity","price","createdAt","updatedAt";
Executing (4812081d-2d86-4b37-acbe-64ca30e701d6): COMMIT;
Executing (default): SELECT "Order"."id", "Order"."customerName", "Order"."customerPhone", "Order"."customerEmail", "Order"."deliveryAddress", "Order"."totalAmount", "Order"."tipAmount", "Order"."status", "Order"."paymentStatus", "Order"."notes", "Order"."paymentType", "Order"."paymentMethod", "Order"."driverId", "Order"."driverAccepted", "Order"."driverPayCredited", "Order"."driverPayCreditedAt", "Order"."driverPayAmount", "Order"."createdAt", "Order"."updatedAt", "items"."id" AS "items.id", "items"."orderId" AS "items.orderId", "items"."drinkId" AS "items.drinkId", "items"."quantity" AS "items.quantity", "items"."price" AS "items.price", "items"."createdAt" AS "items.createdAt", "items"."updatedAt" AS "items.updatedAt", "items->drink"."id" AS "items.drink.id", "items->drink"."name" AS "items.drink.name", "items->drink"."description" AS "items.drink.description", "items->drink"."price" AS "items.drink.price", "items->drink"."image" AS "items.drink.image", "items->drink"."categoryId" AS "items.drink.categoryId", "items->drink"."subCategoryId" AS "items.drink.subCategoryId", "items->drink"."isAvailable" AS "items.drink.isAvailable", "items->drink"."isPopular" AS "items.drink.isPopular", "items->drink"."isOnOffer" AS "items.drink.isOnOffer", "items->drink"."limitedTimeOffer" AS "items.drink.limitedTimeOffer", "items->drink"."originalPrice" AS "items.drink.originalPrice", "items->drink"."capacity" AS "items.drink.capacity", "items->drink"."capacityPricing" AS "items.drink.capacityPricing", "items->drink"."abv" AS "items.drink.abv", "items->drink"."createdAt" AS "items.drink.createdAt", "items->drink"."updatedAt" AS "items.drink.updatedAt" FROM "orders" AS "Order" LEFT OUTER JOIN "order_items" AS "items" ON "Order"."id" = "items"."orderId" LEFT OUTER JOIN "drinks" AS "items->drink" ON "items"."drinkId" = "items->drink"."id" WHERE "Order"."id" = 150;
Executing (default): SELECT "id", "key", "value", "createdAt", "updatedAt" FROM "settings" AS "Settings" WHERE "Settings"."key" = 'smsEnabled';
üì± SMS notifications are DISABLED - skipping SMS for order #150
Executing (default): SELECT "id", "customerName", "customerPhone", "customerEmail", "deliveryAddress", "totalAmount", "tipAmount", "status", "paymentStatus", "notes", "paymentType", "paymentMethod", "driverId", "driverAccepted", "driverPayCredited", "driverPayCreditedAt", "driverPayAmount", "createdAt", "updatedAt" FROM "orders" AS "Order" WHERE "Order"."id" = 150;
Executing (default): SELECT "id", "key", "value", "createdAt", "updatedAt" FROM "settings" AS "Settings" WHERE "Settings"."key" = 'deliveryTestMode';
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
üöÄ Initiating STK Push with: {
  phoneNumber: '254727893741',
  amount: 4,
  reference: 'ORDER-150',
  description: 'Payment for Order #150',
  orderId: 150,
  testMode: false,
  simulate: false,
  NODE_ENV: undefined,
  FORCE_REAL_MPESA: 'true',
  MPESA_ENVIRONMENT: 'sandbox'
}
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
Phone number formatted: 254727893741 -> 254727893741
‚úÖ Using callback URL from environment: https://homiest-psychopharmacologic-anaya.ngrok-free.dev/api/mpesa/callback
M-Pesa STK Push Request: {
  BusinessShortCode: '174379',
  PhoneNumber: '254727893741',
  Amount: 4,
  CallBackURL: 'https://homiest-psychopharmacologic-anaya.ngrok-free.dev/api/mpesa/callback',
  AccountReference: 'ORDER-150',
  Environment: 'sandbox',
  BaseURL: 'https://sandbox.safaricom.co.ke'
}
Sending STK Push request to M-Pesa...
M-Pesa STK Push response status: 200
M-Pesa STK Push success response: {
  "MerchantRequestID": "5393-4b46-bdd8-b4523da9571f3254",
  "CheckoutRequestID": "ws_CO_13112025071847500727893741",
  "ResponseCode": "0",
  "ResponseDescription": "Success. Request accepted for processing",
  "CustomerMessage": "Success. Request accepted for processing"
}
ResponseCode: 0
CheckoutRequestID: ws_CO_13112025071847500727893741
CustomerMessage: Success. Request accepted for processing
MerchantRequestID: 5393-4b46-bdd8-b4523da9571f3254
STK Push response received: {
  "MerchantRequestID": "5393-4b46-bdd8-b4523da9571f3254",
  "CheckoutRequestID": "ws_CO_13112025071847500727893741",
  "ResponseCode": "0",
  "ResponseDescription": "Success. Request accepted for processing",
  "CustomerMessage": "Success. Request accepted for processing"
}
Response code: 0
Error message: undefined
Request ID: undefined
CheckoutRequestID: ws_CO_13112025071847500727893741
MerchantRequestID: 5393-4b46-bdd8-b4523da9571f3254
CustomerMessage: Success. Request accepted for processing
Has CheckoutRequestID: true
Is success code: true
Executing (default): UPDATE "orders" SET "notes"=$1,"updatedAt"=$2 WHERE "id" = $3
Executing (default): SELECT "Order"."id", "Order"."customerName", "Order"."customerPhone", "Order"."customerEmail", "Order"."deliveryAddress", "Order"."totalAmount", "Order"."tipAmount", "Order"."status", "Order"."paymentStatus", "Order"."notes", "Order"."paymentType", "Order"."paymentMethod", "Order"."driverId", "Order"."driverAccepted", "Order"."driverPayCredited", "Order"."driverPayCreditedAt", "Order"."driverPayAmount", "Order"."createdAt", "Order"."updatedAt", "items"."id" AS "items.id", "items"."orderId" AS "items.orderId", "items"."drinkId" AS "items.drinkId", "items"."quantity" AS "items.quantity", "items"."price" AS "items.price", "items"."createdAt" AS "items.createdAt", "items"."updatedAt" AS "items.updatedAt" FROM "orders" AS "Order" LEFT OUTER JOIN "order_items" AS "items" ON "Order"."id" = "items"."orderId" WHERE "Order"."id" = 150;
Executing (default): SELECT "id", "key", "value", "createdAt", "updatedAt" FROM "settings" AS "Settings" WHERE "Settings"."key" = 'driverPayPerDeliveryEnabled';
Executing (default): SELECT "id", "key", "value", "createdAt", "updatedAt" FROM "settings" AS "Settings" WHERE "Settings"."key" = 'driverPayPerDeliveryAmount';
Executing (default): SELECT "id", "orderId", "driverId", "driverWalletId", "transactionType", "paymentMethod", "paymentProvider", "amount", "status", "paymentStatus", "receiptNumber", "checkoutRequestID", "merchantRequestID", "phoneNumber", "transactionDate", "notes", "createdAt", "updatedAt" FROM "transactions" AS "Transaction" WHERE "Transaction"."orderId" = 150 AND "Transaction"."transactionType" = 'payment' AND "Transaction"."status" != 'completed' ORDER BY "Transaction"."createdAt" DESC LIMIT 1;
Executing (default): INSERT INTO "transactions" ("id","orderId","transactionType","paymentMethod","paymentProvider","amount","status","paymentStatus","checkoutRequestID","merchantRequestID","phoneNumber","notes","createdAt","updatedAt") VALUES (DEFAULT,$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING "id","orderId","driverId","driverWalletId","transactionType","paymentMethod","paymentProvider","amount","status","paymentStatus","receiptNumber","checkoutRequestID","merchantRequestID","phoneNumber","transactionDate","notes","createdAt","updatedAt";
‚úÖ Payment transaction created for Order #150 (transaction #201)
Executing (default): SELECT "id", "orderId", "driverId", "driverWalletId", "transactionType", "paymentMethod", "paymentProvider", "amount", "status", "paymentStatus", "receiptNumber", "checkoutRequestID", "merchantRequestID", "phoneNumber", "transactionDate", "notes", "createdAt", "updatedAt" FROM "transactions" AS "Transaction" WHERE "Transaction"."orderId" = 150 AND "Transaction"."transactionType" = 'delivery_pay' AND "Transaction"."status" != 'completed' ORDER BY "Transaction"."createdAt" DESC LIMIT 1;
Executing (default): INSERT INTO "transactions" ("id","orderId","transactionType","paymentMethod","paymentProvider","amount","status","paymentStatus","checkoutRequestID","merchantRequestID","phoneNumber","notes","createdAt","updatedAt") VALUES (DEFAULT,$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING "id","orderId","driverId","driverWalletId","transactionType","paymentMethod","paymentProvider","amount","status","paymentStatus","receiptNumber","checkoutRequestID","merchantRequestID","phoneNumber","transactionDate","notes","createdAt","updatedAt";
‚úÖ Delivery fee transaction created for Order #150 (transaction #202)
Executing (default): SELECT "id", "orderId", "driverId", "driverWalletId", "transactionType", "paymentMethod", "paymentProvider", "amount", "status", "paymentStatus", "receiptNumber", "checkoutRequestID", "merchantRequestID", "phoneNumber", "transactionDate", "notes", "createdAt", "updatedAt" FROM "transactions" AS "Transaction" WHERE "Transaction"."orderId" = 150 AND "Transaction"."transactionType" = 'delivery_pay' AND "Transaction"."driverId" IS NULL ORDER BY "Transaction"."createdAt" DESC LIMIT 1;
Executing (default): UPDATE "transactions" SET "status"=$1,"paymentStatus"=$2,"amount"=$3,"notes"=$4,"updatedAt"=$5 WHERE "id" = $6
‚úÖ STK Push initiated for Order #150. CheckoutRequestID: ws_CO_13112025071847500727893741
Client connected: ZevpvrMKj8WGRvZ2AAAI
Client ZevpvrMKj8WGRvZ2AAAI joined room: order-150
Executing (default): SELECT "Transaction"."id", "Transaction"."orderId", "Transaction"."driverId", "Transaction"."driverWalletId", "Transaction"."transactionType", "Transaction"."paymentMethod", "Transaction"."paymentProvider", "Transaction"."amount", "Transaction"."status", "Transaction"."paymentStatus", "Transaction"."receiptNumber", "Transaction"."checkoutRequestID", "Transaction"."merchantRequestID", "Transaction"."phoneNumber", "Transaction"."transactionDate", "Transaction"."notes", "Transaction"."createdAt", "Transaction"."updatedAt", "order"."id" AS "order.id", "order"."status" AS "order.status", "order"."paymentStatus" AS "order.paymentStatus", "order"."customerName" AS "order.customerName", "order"."customerEmail" AS "order.customerEmail", "order"."customerPhone" AS "order.customerPhone" FROM "transactions" AS "Transaction" LEFT OUTER JOIN "orders" AS "order" ON "Transaction"."orderId" = "order"."id" WHERE "Transaction"."orderId" = '150' ORDER BY "Transaction"."updatedAt" DESC, "Transaction"."createdAt" DESC LIMIT 1;
üîç Transaction lookup for order 150: Found transaction #202 with status: cancelled, receipt: none
Executing (default): SELECT "Transaction"."id", "Transaction"."orderId", "Transaction"."driverId", "Transaction"."driverWalletId", "Transaction"."transactionType", "Transaction"."paymentMethod", "Transaction"."paymentProvider", "Transaction"."amount", "Transaction"."status", "Transaction"."paymentStatus", "Transaction"."receiptNumber", "Transaction"."checkoutRequestID", "Transaction"."merchantRequestID", "Transaction"."phoneNumber", "Transaction"."transactionDate", "Transaction"."notes", "Transaction"."createdAt", "Transaction"."updatedAt", "order"."id" AS "order.id", "order"."status" AS "order.status", "order"."paymentStatus" AS "order.paymentStatus", "order"."customerName" AS "order.customerName", "order"."customerEmail" AS "order.customerEmail", "order"."customerPhone" AS "order.customerPhone" FROM "transactions" AS "Transaction" LEFT OUTER JOIN "orders" AS "order" ON "Transaction"."orderId" = "order"."id" WHERE "Transaction"."id" = 202;
Executing (default): SELECT "id", "customerName", "customerPhone", "customerEmail", "deliveryAddress", "totalAmount", "tipAmount", "status", "paymentStatus", "notes", "paymentType", "paymentMethod", "driverId", "driverAccepted", "driverPayCredited", "driverPayCreditedAt", "driverPayAmount", "createdAt", "updatedAt" FROM "orders" AS "Order" WHERE "Order"."id" = 150;
Executing (default): SELECT status, "receiptNumber", amount FROM transactions WHERE id = 202
üîç Direct DB query status: cancelled, Sequelize status: cancelled
Executing (default): SELECT status FROM orders WHERE id = 150
üîç Direct DB query order: status=pending
üì§ Returning transaction status for order 150: {
  transactionId: 202,
  status: 'cancelled',
  receiptNumber: null,
  orderStatus: 'pending'
}
Executing (default): SELECT id, status, "receiptNumber", "checkoutRequestID", "orderId", amount, "phoneNumber", "transactionDate"
       FROM transactions 
       WHERE "orderId" = '150' 
         AND "transactionType" = 'payment'
       ORDER BY "updatedAt" DESC, "createdAt" DESC 
       LIMIT 1
Executing (default): SELECT "id", "customerName", "customerPhone", "customerEmail", "deliveryAddress", "totalAmount", "tipAmount", "status", "paymentStatus", "notes", "paymentType", "paymentMethod", "driverId", "driverAccepted", "driverPayCredited", "driverPayCreditedAt", "driverPayAmount", "createdAt", "updatedAt" FROM "orders" AS "Order" WHERE "Order"."id" = '150';
Executing (default): SELECT "id", "customerName", "customerPhone", "customerEmail", "deliveryAddress", "totalAmount", "tipAmount", "status", "paymentStatus", "notes", "paymentType", "paymentMethod", "driverId", "driverAccepted", "driverPayCredited", "driverPayCreditedAt", "driverPayAmount", "createdAt", "updatedAt" FROM "orders" AS "Order" WHERE "Order"."id" = 150;
Executing (default): SELECT id, status FROM orders WHERE id = 150
üîç Order #150 status check:
   Sequelize: status=pending
   Direct DB: status=pending
Status check for order #150: pending (0.1 minutes old)
Executing (default): SELECT "id", "orderId", "driverId", "driverWalletId", "transactionType", "paymentMethod", "paymentProvider", "amount", "status", "paymentStatus", "receiptNumber", "checkoutRequestID", "merchantRequestID", "phoneNumber", "transactionDate", "notes", "createdAt", "updatedAt" FROM "transactions" AS "Transaction" WHERE "Transaction"."orderId" = 150 AND "Transaction"."transactionType" = 'payment' ORDER BY "Transaction"."updatedAt" DESC, "Transaction"."createdAt" DESC LIMIT 1;
üîî CALLBACK ENDPOINT HIT - Timestamp: 2025-11-13T04:18:55.917Z
üîî Request method: POST
üîî Request URL: /callback
üîî Request headers: {
  "host": "homiest-psychopharmacologic-anaya.ngrok-free.dev",
  "user-agent": "ReactorNetty/1.2.9",
  "content-length": "434",
  "accept": "*/*",
  "businessshortcode": "174379",
  "content-type": "application/json;charset=UTF-8",
  "x-forwarded-for": "196.201.214.208",
  "x-forwarded-host": "homiest-psychopharmacologic-anaya.ngrok-free.dev",
  "x-forwarded-proto": "https",
  "accept-encoding": "gzip"
}
‚úÖ Responded to M-Pesa callback with 200 OK
TypeError: setImmediate(...) is not a function
    at /Users/maria/dial-a-drink/backend/routes/mpesa.js:1761:5
    at Layer.handleRequest (/Users/maria/dial-a-drink/backend/node_modules/router/lib/layer.js:152:17)
    at next (/Users/maria/dial-a-drink/backend/node_modules/router/lib/route.js:157:13)
    at Route.dispatch (/Users/maria/dial-a-drink/backend/node_modules/router/lib/route.js:117:3)
    at handle (/Users/maria/dial-a-drink/backend/node_modules/router/index.js:435:11)
    at Layer.handleRequest (/Users/maria/dial-a-drink/backend/node_modules/router/lib/layer.js:152:17)
    at /Users/maria/dial-a-drink/backend/node_modules/router/index.js:295:15
    at processParams (/Users/maria/dial-a-drink/backend/node_modules/router/index.js:582:12)
    at next (/Users/maria/dial-a-drink/backend/node_modules/router/index.js:291:5)
    at Function.handle (/Users/maria/dial-a-drink/backend/node_modules/router/index.js:186:3)
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
üìûüìûüìû M-Pesa Callback received at: 2025-11-13T04:18:55.921Z
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
Full callback data: {
  "Body": {
    "stkCallback": {
      "MerchantRequestID": "5393-4b46-bdd8-b4523da9571f3254",
      "CheckoutRequestID": "ws_CO_13112025071847500727893741",
      "ResultCode": 0,
      "ResultDesc": "The service request is processed successfully.",
      "CallbackMetadata": {
        "Item": [
          {
            "Name": "Amount",
            "Value": 4
          },
          {
            "Name": "MpesaReceiptNumber",
            "Value": "TKDAK9YYWP"
          },
          {
            "Name": "Balance"
          },
          {
            "Name": "TransactionDate",
            "Value": 20251113071854
          },
          {
            "Name": "PhoneNumber",
            "Value": 254727893741
          }
        ]
      }
    }
  }
}
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
üéØ CALLBACK RECEIVED - Check backend logs above for processing details
Raw request body: {
  "Body": {
    "stkCallback": {
      "MerchantRequestID": "5393-4b46-bdd8-b4523da9571f3254",
      "CheckoutRequestID": "ws_CO_13112025071847500727893741",
      "ResultCode": 0,
      "ResultDesc": "The service request is processed successfully.",
      "CallbackMetadata": {
        "Item": [
          {
            "Name": "Amount",
            "Value": 4
          },
          {
            "Name": "MpesaReceiptNumber",
            "Value": "TKDAK9YYWP"
          },
          {
            "Name": "Balance"
          },
          {
            "Name": "TransactionDate",
            "Value": 20251113071854
          },
          {
            "Name": "PhoneNumber",
            "Value": 254727893741
          }
        ]
      }
    }
  }
}
Request headers: {
  "host": "homiest-psychopharmacologic-anaya.ngrok-free.dev",
  "user-agent": "ReactorNetty/1.2.9",
  "content-length": "434",
  "accept": "*/*",
  "businessshortcode": "174379",
  "content-type": "application/json;charset=UTF-8",
  "x-forwarded-for": "196.201.214.208",
  "x-forwarded-host": "homiest-psychopharmacologic-anaya.ngrok-free.dev",
  "x-forwarded-proto": "https",
  "accept-encoding": "gzip"
}
üîç Looking for order with CheckoutRequestID: ws_CO_13112025071847500727893741
Executing (default): SELECT "Transaction"."id", "Transaction"."orderId", "Transaction"."driverId", "Transaction"."driverWalletId", "Transaction"."transactionType", "Transaction"."paymentMethod", "Transaction"."paymentProvider", "Transaction"."amount", "Transaction"."status", "Transaction"."paymentStatus", "Transaction"."receiptNumber", "Transaction"."checkoutRequestID", "Transaction"."merchantRequestID", "Transaction"."phoneNumber", "Transaction"."transactionDate", "Transaction"."notes", "Transaction"."createdAt", "Transaction"."updatedAt", "order"."id" AS "order.id", "order"."customerName" AS "order.customerName", "order"."customerPhone" AS "order.customerPhone", "order"."customerEmail" AS "order.customerEmail", "order"."deliveryAddress" AS "order.deliveryAddress", "order"."totalAmount" AS "order.totalAmount", "order"."tipAmount" AS "order.tipAmount", "order"."status" AS "order.status", "order"."paymentStatus" AS "order.paymentStatus", "order"."notes" AS "order.notes", "order"."paymentType" AS "order.paymentType", "order"."paymentMethod" AS "order.paymentMethod", "order"."driverId" AS "order.driverId", "order"."driverAccepted" AS "order.driverAccepted", "order"."driverPayCredited" AS "order.driverPayCredited", "order"."driverPayCreditedAt" AS "order.driverPayCreditedAt", "order"."driverPayAmount" AS "order.driverPayAmount", "order"."createdAt" AS "order.createdAt", "order"."updatedAt" AS "order.updatedAt" FROM "transactions" AS "Transaction" LEFT OUTER JOIN "orders" AS "order" ON "Transaction"."orderId" = "order"."id" WHERE "Transaction"."checkoutRequestID" = 'ws_CO_13112025071847500727893741' LIMIT 1;
Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client
    at ServerResponse.setHeader (node:_http_outgoing:700:11)
    at ServerResponse.header (/Users/maria/dial-a-drink/backend/node_modules/express/lib/response.js:684:10)
    at ServerResponse.send (/Users/maria/dial-a-drink/backend/node_modules/express/lib/response.js:161:12)
    at ServerResponse.json (/Users/maria/dial-a-drink/backend/node_modules/express/lib/response.js:250:15)
    at /Users/maria/dial-a-drink/backend/app.js:107:19
    at Layer.handleError (/Users/maria/dial-a-drink/backend/node_modules/router/lib/layer.js:116:17)
    at trimPrefix (/Users/maria/dial-a-drink/backend/node_modules/router/index.js:340:13)
    at /Users/maria/dial-a-drink/backend/node_modules/router/index.js:297:9
    at processParams (/Users/maria/dial-a-drink/backend/node_modules/router/index.js:582:12)
    at next (/Users/maria/dial-a-drink/backend/node_modules/router/index.js:291:5)
‚úÖ Found order #150 via transaction lookup
‚úÖ Found order #150 for CheckoutRequestID: ws_CO_13112025071847500727893741
   Order current status: pending, paymentStatus: pending
Executing (default): SELECT "Order"."id", "Order"."customerName", "Order"."customerPhone", "Order"."customerEmail", "Order"."deliveryAddress", "Order"."totalAmount", "Order"."tipAmount", "Order"."status", "Order"."paymentStatus", "Order"."notes", "Order"."paymentType", "Order"."paymentMethod", "Order"."driverId", "Order"."driverAccepted", "Order"."driverPayCredited", "Order"."driverPayCreditedAt", "Order"."driverPayAmount", "Order"."createdAt", "Order"."updatedAt", "items"."id" AS "items.id", "items"."orderId" AS "items.orderId", "items"."drinkId" AS "items.drinkId", "items"."quantity" AS "items.quantity", "items"."price" AS "items.price", "items"."createdAt" AS "items.createdAt", "items"."updatedAt" AS "items.updatedAt" FROM "orders" AS "Order" LEFT OUTER JOIN "order_items" AS "items" ON "Order"."id" = "items"."orderId" WHERE "Order"."id" = 150;
üí∞ Payment details from callback:
   Receipt: TKDAK9YYWP
   Amount: 4
   Phone: 254727893741
   Transaction Date: 20251113071854
Executing (default): SELECT "id", "orderId", "driverId", "driverWalletId", "transactionType", "paymentMethod", "paymentProvider", "amount", "status", "paymentStatus", "receiptNumber", "checkoutRequestID", "merchantRequestID", "phoneNumber", "transactionDate", "notes", "createdAt", "updatedAt" FROM "transactions" AS "Transaction" WHERE "Transaction"."checkoutRequestID" = 'ws_CO_13112025071847500727893741' LIMIT 1;
üîç Transaction lookup by checkoutRequestID: Found #201 (status: pending)
üìù Updating existing transaction #201 for Order #150
   Current status: pending
   Current amount: 1.00, should be: 1
   Updating to: completed
Executing (default): UPDATE transactions SET status = 'completed', "paymentStatus" = 'paid', "receiptNumber" = 'TKDAK9YYWP', "orderId" = 150, amount = 1, "transactionDate" = '2611-09-26 00:11:11.854 +03:00', "phoneNumber" = COALESCE(254727893741, "phoneNumber"), "updatedAt" = NOW(), notes = COALESCE(notes || E'
', '') || '‚úÖ Item payment completed. Receipt: TKDAK9YYWP (items: KES 1.00, delivery: KES 2.00, tip: KES 1.00 separate)' WHERE id = 201
‚ùå Error updating transaction: Error
    at Query.run (/Users/maria/dial-a-drink/backend/node_modules/sequelize/lib/dialects/postgres/query.js:50:25)
    at /Users/maria/dial-a-drink/backend/node_modules/sequelize/lib/sequelize.js:315:28
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async Immediate.<anonymous> (/Users/maria/dial-a-drink/backend/routes/mpesa.js:1145:15) {
  name: 'SequelizeDatabaseError',
  parent: error: COALESCE types bigint and character varying cannot be matched
      at Parser.parseErrorMessage (/Users/maria/dial-a-drink/backend/node_modules/pg-protocol/dist/parser.js:285:98)
      at Parser.handlePacket (/Users/maria/dial-a-drink/backend/node_modules/pg-protocol/dist/parser.js:122:29)
      at Parser.parse (/Users/maria/dial-a-drink/backend/node_modules/pg-protocol/dist/parser.js:35:38)
      at Socket.<anonymous> (/Users/maria/dial-a-drink/backend/node_modules/pg-protocol/dist/index.js:11:42)
      at Socket.emit (node:events:519:28)
      at addChunk (node:internal/streams/readable:561:12)
      at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)
      at Readable.push (node:internal/streams/readable:392:5)
      at TCP.onStreamRead (node:internal/stream_base_commons:189:23) {
    length: 136,
    severity: 'ERROR',
    code: '42804',
    detail: undefined,
    hint: undefined,
    position: '227',
    internalPosition: undefined,
    internalQuery: undefined,
    where: undefined,
    schema: undefined,
    table: undefined,
    column: undefined,
    dataType: undefined,
    constraint: undefined,
    file: 'parse_coerce.c',
    line: '1424',
    routine: 'select_common_type',
    sql: `UPDATE transactions SET status = 'completed', "paymentStatus" = 'paid', "receiptNumber" = 'TKDAK9YYWP', "orderId" = 150, amount = 1, "transactionDate" = '2611-09-26 00:11:11.854 +03:00', "phoneNumber" = COALESCE(254727893741, "phoneNumber"), "updatedAt" = NOW(), notes = COALESCE(notes || E'\n` +
      "', '') || '‚úÖ Item payment completed. Receipt: TKDAK9YYWP (items: KES 1.00, delivery: KES 2.00, tip: KES 1.00 separate)' WHERE id = 201",
    parameters: undefined
  },
  original: error: COALESCE types bigint and character varying cannot be matched
      at Parser.parseErrorMessage (/Users/maria/dial-a-drink/backend/node_modules/pg-protocol/dist/parser.js:285:98)
      at Parser.handlePacket (/Users/maria/dial-a-drink/backend/node_modules/pg-protocol/dist/parser.js:122:29)
      at Parser.parse (/Users/maria/dial-a-drink/backend/node_modules/pg-protocol/dist/parser.js:35:38)
      at Socket.<anonymous> (/Users/maria/dial-a-drink/backend/node_modules/pg-protocol/dist/index.js:11:42)
      at Socket.emit (node:events:519:28)
      at addChunk (node:internal/streams/readable:561:12)
      at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)
      at Readable.push (node:internal/streams/readable:392:5)
      at TCP.onStreamRead (node:internal/stream_base_commons:189:23) {
    length: 136,
    severity: 'ERROR',
    code: '42804',
    detail: undefined,
    hint: undefined,
    position: '227',
    internalPosition: undefined,
    internalQuery: undefined,
    where: undefined,
    schema: undefined,
    table: undefined,
    column: undefined,
    dataType: undefined,
    constraint: undefined,
    file: 'parse_coerce.c',
    line: '1424',
    routine: 'select_common_type',
    sql: `UPDATE transactions SET status = 'completed', "paymentStatus" = 'paid', "receiptNumber" = 'TKDAK9YYWP', "orderId" = 150, amount = 1, "transactionDate" = '2611-09-26 00:11:11.854 +03:00', "phoneNumber" = COALESCE(254727893741, "phoneNumber"), "updatedAt" = NOW(), notes = COALESCE(notes || E'\n` +
      "', '') || '‚úÖ Item payment completed. Receipt: TKDAK9YYWP (items: KES 1.00, delivery: KES 2.00, tip: KES 1.00 separate)' WHERE id = 201",
    parameters: undefined
  },
  sql: `UPDATE transactions SET status = 'completed', "paymentStatus" = 'paid', "receiptNumber" = 'TKDAK9YYWP', "orderId" = 150, amount = 1, "transactionDate" = '2611-09-26 00:11:11.854 +03:00', "phoneNumber" = COALESCE(254727893741, "phoneNumber"), "updatedAt" = NOW(), notes = COALESCE(notes || E'\n` +
    "', '') || '‚úÖ Item payment completed. Receipt: TKDAK9YYWP (items: KES 1.00, delivery: KES 2.00, tip: KES 1.00 separate)' WHERE id = 201",
  parameters: {}
}
Executing (default): UPDATE transactions SET status = 'completed', "paymentStatus" = 'paid', "receiptNumber" = 'TKDAK9YYWP', "updatedAt" = NOW() WHERE id = 201
Executing (default): SELECT "id", "orderId", "driverId", "driverWalletId", "transactionType", "paymentMethod", "paymentProvider", "amount", "status", "paymentStatus", "receiptNumber", "checkoutRequestID", "merchantRequestID", "phoneNumber", "transactionDate", "notes", "createdAt", "updatedAt" FROM "transactions" AS "Transaction" WHERE "Transaction"."id" = 201;
‚úÖ Transaction #201 updated to completed. Status: completed
Executing (default): SELECT "id", "orderId", "driverId", "driverWalletId", "transactionType", "paymentMethod", "paymentProvider", "amount", "status", "paymentStatus", "receiptNumber", "checkoutRequestID", "merchantRequestID", "phoneNumber", "transactionDate", "notes", "createdAt", "updatedAt" FROM "transactions" AS "Transaction" WHERE "Transaction"."id" = 201;
üîç Verified transaction status from DB: completed
Executing (default): SELECT "id", "orderId", "driverId", "driverWalletId", "transactionType", "paymentMethod", "paymentProvider", "amount", "status", "paymentStatus", "receiptNumber", "checkoutRequestID", "merchantRequestID", "phoneNumber", "transactionDate", "notes", "createdAt", "updatedAt" FROM "transactions" AS "Transaction" WHERE "Transaction"."orderId" = 150 AND "Transaction"."transactionType" = 'delivery_pay' ORDER BY "Transaction"."createdAt" DESC LIMIT 1;
Executing (default): UPDATE "transactions" SET "amount"=$1,"status"=$2,"paymentStatus"=$3,"receiptNumber"=$4,"phoneNumber"=$5,"transactionDate"=$6,"notes"=$7,"updatedAt"=$8 WHERE "id" = $9
‚úÖ Updated delivery fee transaction #202 for Order #150
üìù Order #150 was "pending", updating to "confirmed" after payment confirmation
üìù Updating order #150: status from 'pending' to 'confirmed', paymentStatus to 'paid' (transaction completed)
Executing (default): UPDATE orders SET status = 'confirmed', "paymentStatus" = 'paid', "updatedAt" = NOW(), notes = COALESCE(notes || E'
', '') || '‚úÖ M-Pesa Receipt: TKDAK9YYWP
‚úÖ Payment confirmed at: 2025-11-13T04:18:55.938Z' WHERE id = 150
‚úÖ Order #150 updated via raw SQL: status=confirmed, paymentStatus=paid
Executing (default): SELECT "id", "orderId", "driverId", "driverWalletId", "transactionType", "paymentMethod", "paymentProvider", "amount", "status", "paymentStatus", "receiptNumber", "checkoutRequestID", "merchantRequestID", "phoneNumber", "transactionDate", "notes", "createdAt", "updatedAt" FROM "transactions" AS "Transaction" WHERE "Transaction"."orderId" = 150 AND "Transaction"."transactionType" = 'tip' LIMIT 1;
Executing (default): INSERT INTO "transactions" ("id","orderId","transactionType","paymentMethod","paymentProvider","amount","status","paymentStatus","receiptNumber","checkoutRequestID","merchantRequestID","phoneNumber","transactionDate","notes","createdAt","updatedAt") VALUES (DEFAULT,$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15) RETURNING "id","orderId","driverId","driverWalletId","transactionType","paymentMethod","paymentProvider","amount","status","paymentStatus","receiptNumber","checkoutRequestID","merchantRequestID","phoneNumber","transactionDate","notes","createdAt","updatedAt";
‚úÖ Tip transaction created for Order #150: KES 1 (after payment completion)
Executing (default): SELECT "id", "balance", "totalRevenue", "totalOrders", "createdAt", "updatedAt" FROM "admin_wallets" AS "AdminWallet" WHERE "AdminWallet"."id" = 1;
Executing (default): SELECT "Order"."id", "Order"."customerName", "Order"."customerPhone", "Order"."customerEmail", "Order"."deliveryAddress", "Order"."totalAmount", "Order"."tipAmount", "Order"."status", "Order"."paymentStatus", "Order"."notes", "Order"."paymentType", "Order"."paymentMethod", "Order"."driverId", "Order"."driverAccepted", "Order"."driverPayCredited", "Order"."driverPayCreditedAt", "Order"."driverPayAmount", "Order"."createdAt", "Order"."updatedAt", "items"."id" AS "items.id", "items"."orderId" AS "items.orderId", "items"."drinkId" AS "items.drinkId", "items"."quantity" AS "items.quantity", "items"."price" AS "items.price", "items"."createdAt" AS "items.createdAt", "items"."updatedAt" AS "items.updatedAt" FROM "orders" AS "Order" LEFT OUTER JOIN "order_items" AS "items" ON "Order"."id" = "items"."orderId" WHERE "Order"."id" = 150;
Executing (default): SELECT "id", "key", "value", "createdAt", "updatedAt" FROM "settings" AS "Settings" WHERE "Settings"."key" = 'driverPayPerDeliveryEnabled';
Executing (default): SELECT "id", "key", "value", "createdAt", "updatedAt" FROM "settings" AS "Settings" WHERE "Settings"."key" = 'driverPayPerDeliveryAmount';
Executing (default): UPDATE "admin_wallets" SET "balance"=$1,"totalRevenue"=$2,"totalOrders"=$3,"updatedAt"=$4 WHERE "id" = $5
‚úÖ Order payment of KES 3 credited to admin wallet for Order #150
Executing (default): UPDATE "orders" SET "status"=$1,"paymentStatus"=$2,"notes"=$3,"updatedAt"=$4 WHERE "id" = $5
‚úÖ Order #150 also updated via Sequelize
‚úÖ Order #150 status updated to 'confirmed' (triggered by transaction completion)
Executing (default): SELECT "Order"."id", "Order"."customerName", "Order"."customerPhone", "Order"."customerEmail", "Order"."deliveryAddress", "Order"."totalAmount", "Order"."tipAmount", "Order"."status", "Order"."paymentStatus", "Order"."notes", "Order"."paymentType", "Order"."paymentMethod", "Order"."driverId", "Order"."driverAccepted", "Order"."driverPayCredited", "Order"."driverPayCreditedAt", "Order"."driverPayAmount", "Order"."createdAt", "Order"."updatedAt", "orderItems"."id" AS "orderItems.id", "orderItems"."orderId" AS "orderItems.orderId", "orderItems"."drinkId" AS "orderItems.drinkId", "orderItems"."quantity" AS "orderItems.quantity", "orderItems"."price" AS "orderItems.price", "orderItems"."createdAt" AS "orderItems.createdAt", "orderItems"."updatedAt" AS "orderItems.updatedAt", "orderItems->drink"."id" AS "orderItems.drink.id", "orderItems->drink"."name" AS "orderItems.drink.name", "orderItems->drink"."description" AS "orderItems.drink.description", "orderItems->drink"."price" AS "orderItems.drink.price", "orderItems->drink"."image" AS "orderItems.drink.image", "orderItems->drink"."categoryId" AS "orderItems.drink.categoryId", "orderItems->drink"."subCategoryId" AS "orderItems.drink.subCategoryId", "orderItems->drink"."isAvailable" AS "orderItems.drink.isAvailable", "orderItems->drink"."isPopular" AS "orderItems.drink.isPopular", "orderItems->drink"."isOnOffer" AS "orderItems.drink.isOnOffer", "orderItems->drink"."limitedTimeOffer" AS "orderItems.drink.limitedTimeOffer", "orderItems->drink"."originalPrice" AS "orderItems.drink.originalPrice", "orderItems->drink"."capacity" AS "orderItems.drink.capacity", "orderItems->drink"."capacityPricing" AS "orderItems.drink.capacityPricing", "orderItems->drink"."abv" AS "orderItems.drink.abv", "orderItems->drink"."createdAt" AS "orderItems.drink.createdAt", "orderItems->drink"."updatedAt" AS "orderItems.drink.updatedAt" FROM "orders" AS "Order" LEFT OUTER JOIN "order_items" AS "orderItems" ON "Order"."id" = "orderItems"."orderId" LEFT OUTER JOIN "drinks" AS "orderItems->drink" ON "orderItems"."drinkId" = "orderItems->drink"."id" WHERE "Order"."id" = 150;
Executing (default): SELECT id, status, "paymentStatus", "driverId" FROM orders WHERE id = 150
‚úÖ‚úÖ‚úÖ Order #150 AUTOMATICALLY CONFIRMED via M-Pesa payment
   Order Status (DB): confirmed
   Payment Status (DB): paid
   Driver ID: Not assigned
   Receipt: TKDAK9YYWP
   Amount: 4
   Phone: 254727893741
   Transaction ID: 201
   Transaction Status: completed
Executing (default): SELECT "Order"."id", "Order"."customerName", "Order"."customerPhone", "Order"."customerEmail", "Order"."deliveryAddress", "Order"."totalAmount", "Order"."tipAmount", "Order"."status", "Order"."paymentStatus", "Order"."notes", "Order"."paymentType", "Order"."paymentMethod", "Order"."driverId", "Order"."driverAccepted", "Order"."driverPayCredited", "Order"."driverPayCreditedAt", "Order"."driverPayAmount", "Order"."createdAt", "Order"."updatedAt", "orderItems"."id" AS "orderItems.id", "orderItems"."orderId" AS "orderItems.orderId", "orderItems"."drinkId" AS "orderItems.drinkId", "orderItems"."quantity" AS "orderItems.quantity", "orderItems"."price" AS "orderItems.price", "orderItems"."createdAt" AS "orderItems.createdAt", "orderItems"."updatedAt" AS "orderItems.updatedAt", "orderItems->drink"."id" AS "orderItems.drink.id", "orderItems->drink"."name" AS "orderItems.drink.name", "orderItems->drink"."description" AS "orderItems.drink.description", "orderItems->drink"."price" AS "orderItems.drink.price", "orderItems->drink"."image" AS "orderItems.drink.image", "orderItems->drink"."categoryId" AS "orderItems.drink.categoryId", "orderItems->drink"."subCategoryId" AS "orderItems.drink.subCategoryId", "orderItems->drink"."isAvailable" AS "orderItems.drink.isAvailable", "orderItems->drink"."isPopular" AS "orderItems.drink.isPopular", "orderItems->drink"."isOnOffer" AS "orderItems.drink.isOnOffer", "orderItems->drink"."limitedTimeOffer" AS "orderItems.drink.limitedTimeOffer", "orderItems->drink"."originalPrice" AS "orderItems.drink.originalPrice", "orderItems->drink"."capacity" AS "orderItems.drink.capacity", "orderItems->drink"."capacityPricing" AS "orderItems.drink.capacityPricing", "orderItems->drink"."abv" AS "orderItems.drink.abv", "orderItems->drink"."createdAt" AS "orderItems.drink.createdAt", "orderItems->drink"."updatedAt" AS "orderItems.drink.updatedAt" FROM "orders" AS "Order" LEFT OUTER JOIN "order_items" AS "orderItems" ON "Order"."id" = "orderItems"."orderId" LEFT OUTER JOIN "drinks" AS "orderItems->drink" ON "orderItems"."drinkId" = "orderItems->drink"."id" WHERE "Order"."id" = 150;
üì° Preparing payment-confirmed event for Order #150
   Status: confirmed
   PaymentStatus: paid
   Order paymentStatus in data: paid
   Driver ID: Not assigned
‚ö†Ô∏è  No driverId found for Order #150, skipping driver notification
üì° Socket.IO events emitted for Order #150 with transaction status: completed
‚úÖ Callback processing completed
Client disconnected: ZevpvrMKj8WGRvZ2AAAI
Executing (default): SELECT "Order"."id", "Order"."customerName", "Order"."customerPhone", "Order"."customerEmail", "Order"."deliveryAddress", "Order"."totalAmount", "Order"."tipAmount", "Order"."status", "Order"."paymentStatus", "Order"."notes", "Order"."paymentType", "Order"."paymentMethod", "Order"."driverId", "Order"."driverAccepted", "Order"."driverPayCredited", "Order"."driverPayCreditedAt", "Order"."driverPayAmount", "Order"."createdAt", "Order"."updatedAt", "items"."id" AS "items.id", "items"."orderId" AS "items.orderId", "items"."drinkId" AS "items.drinkId", "items"."quantity" AS "items.quantity", "items"."price" AS "items.price", "items"."createdAt" AS "items.createdAt", "items"."updatedAt" AS "items.updatedAt", "items->drink"."id" AS "items.drink.id", "items->drink"."name" AS "items.drink.name", "items->drink"."description" AS "items.drink.description", "items->drink"."price" AS "items.drink.price", "items->drink"."image" AS "items.drink.image", "items->drink"."categoryId" AS "items.drink.categoryId", "items->drink"."subCategoryId" AS "items.drink.subCategoryId", "items->drink"."isAvailable" AS "items.drink.isAvailable", "items->drink"."isPopular" AS "items.drink.isPopular", "items->drink"."isOnOffer" AS "items.drink.isOnOffer", "items->drink"."limitedTimeOffer" AS "items.drink.limitedTimeOffer", "items->drink"."originalPrice" AS "items.drink.originalPrice", "items->drink"."capacity" AS "items.drink.capacity", "items->drink"."capacityPricing" AS "items.drink.capacityPricing", "items->drink"."abv" AS "items.drink.abv", "items->drink"."createdAt" AS "items.drink.createdAt", "items->drink"."updatedAt" AS "items.drink.updatedAt" FROM "orders" AS "Order" LEFT OUTER JOIN "order_items" AS "items" ON "Order"."id" = "items"."orderId" LEFT OUTER JOIN "drinks" AS "items->drink" ON "items"."drinkId" = "items->drink"."id" WHERE "Order"."id" = '150';
Executing (default): SELECT "Order"."id", "Order"."customerName", "Order"."customerPhone", "Order"."customerEmail", "Order"."deliveryAddress", "Order"."totalAmount", "Order"."tipAmount", "Order"."status", "Order"."paymentStatus", "Order"."notes", "Order"."paymentType", "Order"."paymentMethod", "Order"."driverId", "Order"."driverAccepted", "Order"."driverPayCredited", "Order"."driverPayCreditedAt", "Order"."driverPayAmount", "Order"."createdAt", "Order"."updatedAt", "items"."id" AS "items.id", "items"."orderId" AS "items.orderId", "items"."drinkId" AS "items.drinkId", "items"."quantity" AS "items.quantity", "items"."price" AS "items.price", "items"."createdAt" AS "items.createdAt", "items"."updatedAt" AS "items.updatedAt", "items->drink"."id" AS "items.drink.id", "items->drink"."name" AS "items.drink.name", "items->drink"."description" AS "items.drink.description", "items->drink"."price" AS "items.drink.price", "items->drink"."image" AS "items.drink.image", "items->drink"."categoryId" AS "items.drink.categoryId", "items->drink"."subCategoryId" AS "items.drink.subCategoryId", "items->drink"."isAvailable" AS "items.drink.isAvailable", "items->drink"."isPopular" AS "items.drink.isPopular", "items->drink"."isOnOffer" AS "items.drink.isOnOffer", "items->drink"."limitedTimeOffer" AS "items.drink.limitedTimeOffer", "items->drink"."originalPrice" AS "items.drink.originalPrice", "items->drink"."capacity" AS "items.drink.capacity", "items->drink"."capacityPricing" AS "items.drink.capacityPricing", "items->drink"."abv" AS "items.drink.abv", "items->drink"."createdAt" AS "items.drink.createdAt", "items->drink"."updatedAt" AS "items.drink.updatedAt" FROM "orders" AS "Order" LEFT OUTER JOIN "order_items" AS "items" ON "Order"."id" = "items"."orderId" LEFT OUTER JOIN "drinks" AS "items->drink" ON "items"."drinkId" = "items->drink"."id" WHERE "Order"."id" = 150 ORDER BY "Order"."createdAt" DESC;
Client connected: B0XA0VUzppKjW5lUAAAK
Client B0XA0VUzppKjW5lUAAAK joined room: order-150
Client connected: ygLRiVBEyuf_pwSWAAAO
Client disconnected: B0XA0VUzppKjW5lUAAAK
Client connected: 5VrdGdKyJesri6DPAAAP
Client ygLRiVBEyuf_pwSWAAAO joined room: order-150
Client 5VrdGdKyJesri6DPAAAP joined room: order-150
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "customerName", "customerPhone", "customerEmail", "deliveryAddress", "totalAmount", "tipAmount", "status", "paymentStatus", "notes", "paymentType", "paymentMethod", "driverId", "driverAccepted", "driverPayCredited", "driverPayCreditedAt", "driverPayAmount", "createdAt", "updatedAt" FROM "orders" AS "Order" WHERE "Order"."id" = '149';
Executing (default): UPDATE "orders" SET "status"=$1,"updatedAt"=$2 WHERE "id" = $3
Executing (default): SELECT "id", "customerName", "customerPhone", "customerEmail", "deliveryAddress", "totalAmount", "tipAmount", "status", "paymentStatus", "notes", "paymentType", "paymentMethod", "driverId", "driverAccepted", "driverPayCredited", "driverPayCreditedAt", "driverPayAmount", "createdAt", "updatedAt" FROM "orders" AS "Order" WHERE "Order"."id" = 149;
Executing (default): SELECT "Order"."id", "Order"."customerName", "Order"."customerPhone", "Order"."customerEmail", "Order"."deliveryAddress", "Order"."totalAmount", "Order"."tipAmount", "Order"."status", "Order"."paymentStatus", "Order"."notes", "Order"."paymentType", "Order"."paymentMethod", "Order"."driverId", "Order"."driverAccepted", "Order"."driverPayCredited", "Order"."driverPayCreditedAt", "Order"."driverPayAmount", "Order"."createdAt", "Order"."updatedAt", "items"."id" AS "items.id", "items"."orderId" AS "items.orderId", "items"."drinkId" AS "items.drinkId", "items"."quantity" AS "items.quantity", "items"."price" AS "items.price", "items"."createdAt" AS "items.createdAt", "items"."updatedAt" AS "items.updatedAt" FROM "orders" AS "Order" LEFT OUTER JOIN "order_items" AS "items" ON "Order"."id" = "items"."orderId" WHERE "Order"."id" = 149;
Executing (default): SELECT "id", "orderId", "driverId", "driverWalletId", "transactionType", "paymentMethod", "paymentProvider", "amount", "status", "paymentStatus", "receiptNumber", "checkoutRequestID", "merchantRequestID", "phoneNumber", "transactionDate", "notes", "createdAt", "updatedAt" FROM "transactions" AS "Transaction" WHERE "Transaction"."orderId" = 149 AND "Transaction"."transactionType" = 'payment' AND "Transaction"."status" = 'completed' ORDER BY "Transaction"."transactionDate" DESC, "Transaction"."createdAt" DESC LIMIT 1;
Executing (default): SELECT "id", "key", "value", "createdAt", "updatedAt" FROM "settings" AS "Settings" WHERE "Settings"."key" = 'driverPayPerDeliveryEnabled';
Executing (default): SELECT "id", "key", "value", "createdAt", "updatedAt" FROM "settings" AS "Settings" WHERE "Settings"."key" = 'driverPayPerDeliveryAmount';
Executing (default): SELECT "id", "orderId", "driverId", "driverWalletId", "transactionType", "paymentMethod", "paymentProvider", "amount", "status", "paymentStatus", "receiptNumber", "checkoutRequestID", "merchantRequestID", "phoneNumber", "transactionDate", "notes", "createdAt", "updatedAt" FROM "transactions" AS "Transaction" WHERE "Transaction"."orderId" = 149 AND "Transaction"."transactionType" = 'delivery_pay' ORDER BY "Transaction"."updatedAt" DESC, "Transaction"."createdAt" DESC;
Executing (default): UPDATE "transactions" SET "amount"=$1,"notes"=$2,"updatedAt"=$3 WHERE "id" = $4
Executing (default): SELECT "Order"."id", "Order"."customerName", "Order"."customerPhone", "Order"."customerEmail", "Order"."deliveryAddress", "Order"."totalAmount", "Order"."tipAmount", "Order"."status", "Order"."paymentStatus", "Order"."notes", "Order"."paymentType", "Order"."paymentMethod", "Order"."driverId", "Order"."driverAccepted", "Order"."driverPayCredited", "Order"."driverPayCreditedAt", "Order"."driverPayAmount", "Order"."createdAt", "Order"."updatedAt", "items"."id" AS "items.id", "items"."orderId" AS "items.orderId", "items"."drinkId" AS "items.drinkId", "items"."quantity" AS "items.quantity", "items"."price" AS "items.price", "items"."createdAt" AS "items.createdAt", "items"."updatedAt" AS "items.updatedAt", "items->drink"."id" AS "items.drink.id", "items->drink"."name" AS "items.drink.name", "items->drink"."description" AS "items.drink.description", "items->drink"."price" AS "items.drink.price", "items->drink"."image" AS "items.drink.image", "items->drink"."categoryId" AS "items.drink.categoryId", "items->drink"."subCategoryId" AS "items.drink.subCategoryId", "items->drink"."isAvailable" AS "items.drink.isAvailable", "items->drink"."isPopular" AS "items.drink.isPopular", "items->drink"."isOnOffer" AS "items.drink.isOnOffer", "items->drink"."limitedTimeOffer" AS "items.drink.limitedTimeOffer", "items->drink"."originalPrice" AS "items.drink.originalPrice", "items->drink"."capacity" AS "items.drink.capacity", "items->drink"."capacityPricing" AS "items.drink.capacityPricing", "items->drink"."abv" AS "items.drink.abv", "items->drink"."createdAt" AS "items.drink.createdAt", "items->drink"."updatedAt" AS "items.drink.updatedAt", "transactions"."id" AS "transactions.id", "transactions"."orderId" AS "transactions.orderId", "transactions"."driverId" AS "transactions.driverId", "transactions"."driverWalletId" AS "transactions.driverWalletId", "transactions"."transactionType" AS "transactions.transactionType", "transactions"."paymentMethod" AS "transactions.paymentMethod", "transactions"."paymentProvider" AS "transactions.paymentProvider", "transactions"."amount" AS "transactions.amount", "transactions"."status" AS "transactions.status", "transactions"."paymentStatus" AS "transactions.paymentStatus", "transactions"."receiptNumber" AS "transactions.receiptNumber", "transactions"."checkoutRequestID" AS "transactions.checkoutRequestID", "transactions"."merchantRequestID" AS "transactions.merchantRequestID", "transactions"."phoneNumber" AS "transactions.phoneNumber", "transactions"."transactionDate" AS "transactions.transactionDate", "transactions"."notes" AS "transactions.notes", "transactions"."createdAt" AS "transactions.createdAt", "transactions"."updatedAt" AS "transactions.updatedAt", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."phoneNumber" AS "driver.phoneNumber", "driver"."pushToken" AS "driver.pushToken", "driver"."status" AS "driver.status", "driver"."lastActivity" AS "driver.lastActivity", "driver"."pinHash" AS "driver.pinHash", "driver"."createdAt" AS "driver.createdAt", "driver"."updatedAt" AS "driver.updatedAt" FROM "orders" AS "Order" LEFT OUTER JOIN "order_items" AS "items" ON "Order"."id" = "items"."orderId" LEFT OUTER JOIN "drinks" AS "items->drink" ON "items"."drinkId" = "items->drink"."id" LEFT OUTER JOIN "transactions" AS "transactions" ON "Order"."id" = "transactions"."orderId" LEFT OUTER JOIN "drivers" AS "driver" ON "Order"."driverId" = "driver"."id" WHERE "Order"."id" = 149;
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Client disconnected: 5OG33sm83bnJlERcAAAD
Executing (default): SELECT "id", "name", "phoneNumber", "pushToken", "status", "lastActivity", "pinHash", "createdAt", "updatedAt" FROM "drivers" AS "Driver" ORDER BY "Driver"."lastActivity" DESC, "Driver"."createdAt" DESC;
Executing (default): SELECT "id", "name", "phoneNumber", "pushToken", "status", "lastActivity", "pinHash", "createdAt", "updatedAt" FROM "drivers" AS "Driver" ORDER BY "Driver"."lastActivity" DESC, "Driver"."createdAt" DESC;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "name", "phoneNumber", "pushToken", "status", "lastActivity", "pinHash", "createdAt", "updatedAt" FROM "drivers" AS "Driver" WHERE "Driver"."phoneNumber" = '0727893741';
Executing (default): INSERT INTO "drivers" ("id","name","phoneNumber","status","lastActivity","createdAt","updatedAt") VALUES (DEFAULT,$1,$2,$3,$4,$5,$6) RETURNING "id","name","phoneNumber","pushToken","status","lastActivity","pinHash","createdAt","updatedAt";
Executing (default): SELECT "id", "name", "phoneNumber", "pushToken", "status", "lastActivity", "pinHash", "createdAt", "updatedAt" FROM "drivers" AS "Driver" ORDER BY "Driver"."lastActivity" DESC, "Driver"."createdAt" DESC;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Admin auth token verification failed: jwt expired
Client disconnected: ZRQfza4idF9WTNzxAAAC
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT "id", "username", "password", "email", "role", "inviteToken", "inviteTokenExpiry", "createdAt", "updatedAt" FROM "admins" AS "Admin" WHERE ("Admin"."username" = 'admin' OR "Admin"."email" = 'admin') LIMIT 1;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Client connected: zS78XFi4ms0BJUJQAAAT
Client connected: I5Oce73F6YNCyWmnAAAU
Client zS78XFi4ms0BJUJQAAAT joined admin room
Client I5Oce73F6YNCyWmnAAAU joined admin room
Executing (default): SELECT "Transaction"."id", "Transaction"."orderId", "Transaction"."driverId", "Transaction"."driverWalletId", "Transaction"."transactionType", "Transaction"."paymentMethod", "Transaction"."paymentProvider", "Transaction"."amount", "Transaction"."status", "Transaction"."paymentStatus", "Transaction"."receiptNumber", "Transaction"."checkoutRequestID", "Transaction"."merchantRequestID", "Transaction"."phoneNumber", "Transaction"."transactionDate", "Transaction"."notes", "Transaction"."createdAt", "Transaction"."updatedAt", "order"."id" AS "order.id", "order"."customerName" AS "order.customerName" FROM "transactions" AS "Transaction" LEFT OUTER JOIN "orders" AS "order" ON "Transaction"."orderId" = "order"."id" ORDER BY "Transaction"."createdAt" DESC LIMIT 10;
Executing (default): SELECT "id", "customerName", "status", "totalAmount", "createdAt" FROM "orders" AS "Order" ORDER BY "Order"."createdAt" DESC LIMIT 10;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT "OrderItem"."drinkId", SUM("quantity") AS "totalQuantity", COUNT(DISTINCT("orderId")) AS "ordersCount", "drink"."id" AS "drink.id", "drink"."name" AS "drink.name", "drink"."categoryId" AS "drink.categoryId", "drink->category"."id" AS "drink.category.id", "drink->category"."name" AS "drink.category.name" FROM "order_items" AS "OrderItem" LEFT OUTER JOIN "drinks" AS "drink" ON "OrderItem"."drinkId" = "drink"."id" LEFT OUTER JOIN "categories" AS "drink->category" ON "drink"."categoryId" = "drink->category"."id" GROUP BY "OrderItem"."drinkId", "drink"."id", "drink->category"."id" ORDER BY SUM("quantity") DESC;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT "id", "customerName", "status", "totalAmount", "createdAt" FROM "orders" AS "Order" ORDER BY "Order"."createdAt" DESC LIMIT 10;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "Transaction"."id", "Transaction"."orderId", "Transaction"."driverId", "Transaction"."driverWalletId", "Transaction"."transactionType", "Transaction"."paymentMethod", "Transaction"."paymentProvider", "Transaction"."amount", "Transaction"."status", "Transaction"."paymentStatus", "Transaction"."receiptNumber", "Transaction"."checkoutRequestID", "Transaction"."merchantRequestID", "Transaction"."phoneNumber", "Transaction"."transactionDate", "Transaction"."notes", "Transaction"."createdAt", "Transaction"."updatedAt", "order"."id" AS "order.id", "order"."customerName" AS "order.customerName" FROM "transactions" AS "Transaction" LEFT OUTER JOIN "orders" AS "order" ON "Transaction"."orderId" = "order"."id" ORDER BY "Transaction"."createdAt" DESC LIMIT 10;
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT "OrderItem"."drinkId", SUM("quantity") AS "totalQuantity", COUNT(DISTINCT("orderId")) AS "ordersCount", "drink"."id" AS "drink.id", "drink"."name" AS "drink.name", "drink"."categoryId" AS "drink.categoryId", "drink->category"."id" AS "drink.category.id", "drink->category"."name" AS "drink.category.name" FROM "order_items" AS "OrderItem" LEFT OUTER JOIN "drinks" AS "drink" ON "OrderItem"."drinkId" = "drink"."id" LEFT OUTER JOIN "categories" AS "drink->category" ON "drink"."categoryId" = "drink->category"."id" GROUP BY "OrderItem"."drinkId", "drink"."id", "drink->category"."id" ORDER BY SUM("quantity") DESC;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Client disconnected: zS78XFi4ms0BJUJQAAAT
Client connected: 0bnQqe0GbkwSXhSBAAAX
Executing (default): SELECT "Order"."id", "Order"."customerName", "Order"."customerPhone", "Order"."customerEmail", "Order"."deliveryAddress", "Order"."totalAmount", "Order"."tipAmount", "Order"."status", "Order"."paymentStatus", "Order"."notes", "Order"."paymentType", "Order"."paymentMethod", "Order"."driverId", "Order"."driverAccepted", "Order"."driverPayCredited", "Order"."driverPayCreditedAt", "Order"."driverPayAmount", "Order"."createdAt", "Order"."updatedAt", "items"."id" AS "items.id", "items"."orderId" AS "items.orderId", "items"."drinkId" AS "items.drinkId", "items"."quantity" AS "items.quantity", "items"."price" AS "items.price", "items"."createdAt" AS "items.createdAt", "items"."updatedAt" AS "items.updatedAt", "items->drink"."id" AS "items.drink.id", "items->drink"."name" AS "items.drink.name", "items->drink"."description" AS "items.drink.description", "items->drink"."price" AS "items.drink.price", "items->drink"."image" AS "items.drink.image", "items->drink"."categoryId" AS "items.drink.categoryId", "items->drink"."subCategoryId" AS "items.drink.subCategoryId", "items->drink"."isAvailable" AS "items.drink.isAvailable", "items->drink"."isPopular" AS "items.drink.isPopular", "items->drink"."isOnOffer" AS "items.drink.isOnOffer", "items->drink"."limitedTimeOffer" AS "items.drink.limitedTimeOffer", "items->drink"."originalPrice" AS "items.drink.originalPrice", "items->drink"."capacity" AS "items.drink.capacity", "items->drink"."capacityPricing" AS "items.drink.capacityPricing", "items->drink"."abv" AS "items.drink.abv", "items->drink"."createdAt" AS "items.drink.createdAt", "items->drink"."updatedAt" AS "items.drink.updatedAt", "transactions"."id" AS "transactions.id", "transactions"."orderId" AS "transactions.orderId", "transactions"."driverId" AS "transactions.driverId", "transactions"."driverWalletId" AS "transactions.driverWalletId", "transactions"."transactionType" AS "transactions.transactionType", "transactions"."paymentMethod" AS "transactions.paymentMethod", "transactions"."paymentProvider" AS "transactions.paymentProvider", "transactions"."amount" AS "transactions.amount", "transactions"."status" AS "transactions.status", "transactions"."paymentStatus" AS "transactions.paymentStatus", "transactions"."receiptNumber" AS "transactions.receiptNumber", "transactions"."checkoutRequestID" AS "transactions.checkoutRequestID", "transactions"."merchantRequestID" AS "transactions.merchantRequestID", "transactions"."phoneNumber" AS "transactions.phoneNumber", "transactions"."transactionDate" AS "transactions.transactionDate", "transactions"."notes" AS "transactions.notes", "transactions"."createdAt" AS "transactions.createdAt", "transactions"."updatedAt" AS "transactions.updatedAt", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."phoneNumber" AS "driver.phoneNumber", "driver"."status" AS "driver.status" FROM "orders" AS "Order" LEFT OUTER JOIN "order_items" AS "items" ON "Order"."id" = "items"."orderId" LEFT OUTER JOIN "drinks" AS "items->drink" ON "items"."drinkId" = "items->drink"."id" LEFT OUTER JOIN "transactions" AS "transactions" ON "Order"."id" = "transactions"."orderId" LEFT OUTER JOIN "drivers" AS "driver" ON "Order"."driverId" = "driver"."id" ORDER BY "Order"."createdAt" DESC;
Executing (default): SELECT "id", "name", "phoneNumber", "pushToken", "status", "lastActivity", "pinHash", "createdAt", "updatedAt" FROM "drivers" AS "Driver" ORDER BY "Driver"."lastActivity" DESC, "Driver"."createdAt" DESC;
Client 0bnQqe0GbkwSXhSBAAAX joined admin room
Executing (default): SELECT "id", "name", "phoneNumber", "pushToken", "status", "lastActivity", "pinHash", "createdAt", "updatedAt" FROM "drivers" AS "Driver" ORDER BY "Driver"."lastActivity" DESC, "Driver"."createdAt" DESC;
Executing (default): SELECT "Order"."id", "Order"."customerName", "Order"."customerPhone", "Order"."customerEmail", "Order"."deliveryAddress", "Order"."totalAmount", "Order"."tipAmount", "Order"."status", "Order"."paymentStatus", "Order"."notes", "Order"."paymentType", "Order"."paymentMethod", "Order"."driverId", "Order"."driverAccepted", "Order"."driverPayCredited", "Order"."driverPayCreditedAt", "Order"."driverPayAmount", "Order"."createdAt", "Order"."updatedAt", "items"."id" AS "items.id", "items"."orderId" AS "items.orderId", "items"."drinkId" AS "items.drinkId", "items"."quantity" AS "items.quantity", "items"."price" AS "items.price", "items"."createdAt" AS "items.createdAt", "items"."updatedAt" AS "items.updatedAt", "items->drink"."id" AS "items.drink.id", "items->drink"."name" AS "items.drink.name", "items->drink"."description" AS "items.drink.description", "items->drink"."price" AS "items.drink.price", "items->drink"."image" AS "items.drink.image", "items->drink"."categoryId" AS "items.drink.categoryId", "items->drink"."subCategoryId" AS "items.drink.subCategoryId", "items->drink"."isAvailable" AS "items.drink.isAvailable", "items->drink"."isPopular" AS "items.drink.isPopular", "items->drink"."isOnOffer" AS "items.drink.isOnOffer", "items->drink"."limitedTimeOffer" AS "items.drink.limitedTimeOffer", "items->drink"."originalPrice" AS "items.drink.originalPrice", "items->drink"."capacity" AS "items.drink.capacity", "items->drink"."capacityPricing" AS "items.drink.capacityPricing", "items->drink"."abv" AS "items.drink.abv", "items->drink"."createdAt" AS "items.drink.createdAt", "items->drink"."updatedAt" AS "items.drink.updatedAt", "transactions"."id" AS "transactions.id", "transactions"."orderId" AS "transactions.orderId", "transactions"."driverId" AS "transactions.driverId", "transactions"."driverWalletId" AS "transactions.driverWalletId", "transactions"."transactionType" AS "transactions.transactionType", "transactions"."paymentMethod" AS "transactions.paymentMethod", "transactions"."paymentProvider" AS "transactions.paymentProvider", "transactions"."amount" AS "transactions.amount", "transactions"."status" AS "transactions.status", "transactions"."paymentStatus" AS "transactions.paymentStatus", "transactions"."receiptNumber" AS "transactions.receiptNumber", "transactions"."checkoutRequestID" AS "transactions.checkoutRequestID", "transactions"."merchantRequestID" AS "transactions.merchantRequestID", "transactions"."phoneNumber" AS "transactions.phoneNumber", "transactions"."transactionDate" AS "transactions.transactionDate", "transactions"."notes" AS "transactions.notes", "transactions"."createdAt" AS "transactions.createdAt", "transactions"."updatedAt" AS "transactions.updatedAt", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."phoneNumber" AS "driver.phoneNumber", "driver"."status" AS "driver.status" FROM "orders" AS "Order" LEFT OUTER JOIN "order_items" AS "items" ON "Order"."id" = "items"."orderId" LEFT OUTER JOIN "drinks" AS "items->drink" ON "items"."drinkId" = "items->drink"."id" LEFT OUTER JOIN "transactions" AS "transactions" ON "Order"."id" = "transactions"."orderId" LEFT OUTER JOIN "drivers" AS "driver" ON "Order"."driverId" = "driver"."id" ORDER BY "Order"."createdAt" DESC;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "name", "phoneNumber", "pushToken", "status", "lastActivity", "pinHash", "createdAt", "updatedAt" FROM "drivers" AS "Driver" WHERE "Driver"."phoneNumber" = '254727893741';
Executing (default): SELECT "id", "name", "phoneNumber", "pushToken", "status", "lastActivity", "pinHash", "createdAt", "updatedAt" FROM "drivers" AS "Driver" WHERE "Driver"."phoneNumber" = '0727893741';
Executing (default): SELECT "id", "customerName", "customerPhone", "customerEmail", "deliveryAddress", "totalAmount", "tipAmount", "status", "paymentStatus", "notes", "paymentType", "paymentMethod", "driverId", "driverAccepted", "driverPayCredited", "driverPayCreditedAt", "driverPayAmount", "createdAt", "updatedAt" FROM "orders" AS "Order" WHERE "Order"."customerPhone" LIKE '%254727893741%' ORDER BY "Order"."createdAt" DESC LIMIT 1;
Executing (default): SELECT "id", "email", "phone", "username", "password", "customerName", "hasSetPassword", "createdAt", "updatedAt" FROM "customers" AS "Customer" WHERE ("Customer"."phone" = '254727893741' OR "Customer"."username" = '254727893741') LIMIT 1;
Executing (default): SELECT "id", "name", "phoneNumber", "pushToken", "status", "lastActivity", "pinHash", "createdAt", "updatedAt" FROM "drivers" AS "Driver" WHERE "Driver"."phoneNumber" IN ('254727893741', '0727893741', '727893741') LIMIT 1;
üì± Driver OTP generated: 4 digits
üì± Driver found: Lewisss (0727893741)
Executing (default): UPDATE "otps" SET "isUsed"=$1,"updatedAt"=$2 WHERE "phoneNumber" = $3 AND "isUsed" = $4
Executing (default): INSERT INTO "otps" ("id","phoneNumber","otpCode","expiresAt","isUsed","attempts","createdAt","updatedAt") VALUES (DEFAULT,$1,$2,$3,$4,$5,$6,$7) RETURNING "id","phoneNumber","otpCode","expiresAt","isUsed","attempts","createdAt","updatedAt";
üì± Sending OTP to 254727893741 via Advanta OTP API
üì± API URL: https://quicksms.advantasms.com/api/services/sendotp
üì± Payload: {
  "apikey": "172172cbc7c1e27c9447c94a8ea4a34a",
  "partnerID": "14944",
  "message": "Your Dial A Drink login code is: 1619. This code is valid for 3 hours. Do not share this code with anyone.",
  "shortcode": "AdvantaSMS",
  "mobile": "254727893741"
}
üì± API Key configured: Yes
üì± Partner ID: 14944
üì± Sender ID: AdvantaSMS
‚ùå Error sending OTP to 254727893741: Request failed with status code 402
API error response: {
  success: false,
  message: 'Low credit units to send message, Current balance 0.00, Required 1'
}
API error status: 402
‚ö†Ô∏è  ADVANTA ACCOUNT HAS INSUFFICIENT CREDITS!
‚ö†Ô∏è  Please top up your Advanta SMS account to continue sending OTPs.
Failed to send OTP to driver: SMS service account has insufficient credits. Please contact administrator.
üì± Driver OTP generated (SMS failed): 1619 - Admin can provide from dashboard
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Client disconnected: 0bnQqe0GbkwSXhSBAAAX
Executing (default): SELECT "id", "name", "phoneNumber", "pushToken", "status", "lastActivity", "pinHash", "createdAt", "updatedAt" FROM "drivers" AS "Driver" ORDER BY "Driver"."lastActivity" DESC, "Driver"."createdAt" DESC;
Executing (default): SELECT "id", "name", "phoneNumber", "pushToken", "status", "lastActivity", "pinHash", "createdAt", "updatedAt" FROM "drivers" AS "Driver" ORDER BY "Driver"."lastActivity" DESC, "Driver"."createdAt" DESC;
Executing (default): SELECT "id", "name", "phoneNumber", "pushToken", "status", "lastActivity", "pinHash", "createdAt", "updatedAt" FROM "drivers" AS "Driver" WHERE "Driver"."id" = '2';
Executing (default): SELECT "id", "phoneNumber", "otpCode", "expiresAt", "isUsed", "attempts", "createdAt", "updatedAt" FROM "otps" AS "Otp" WHERE "Otp"."phoneNumber" = '0727893741' AND "Otp"."isUsed" = false ORDER BY "Otp"."createdAt" DESC LIMIT 1;
Executing (default): SELECT "id", "phoneNumber", "otpCode", "expiresAt", "isUsed", "attempts", "createdAt", "updatedAt" FROM "otps" AS "Otp" WHERE "Otp"."phoneNumber" = '07893741' AND "Otp"."isUsed" = false ORDER BY "Otp"."createdAt" DESC LIMIT 1;
Executing (default): SELECT "id", "phoneNumber", "otpCode", "expiresAt", "isUsed", "attempts", "createdAt", "updatedAt" FROM "otps" AS "Otp" WHERE "Otp"."phoneNumber" = '7893741' AND "Otp"."isUsed" = false ORDER BY "Otp"."createdAt" DESC LIMIT 1;
Executing (default): SELECT "id", "phoneNumber", "otpCode", "expiresAt", "isUsed", "attempts", "createdAt", "updatedAt" FROM "otps" AS "Otp" WHERE "Otp"."phoneNumber" = '254727893741' AND "Otp"."isUsed" = false ORDER BY "Otp"."createdAt" DESC LIMIT 1;
Executing (default): SELECT "id", "phoneNumber", "otpCode", "expiresAt", "isUsed", "attempts", "createdAt", "updatedAt" FROM "otps" AS "Otp" WHERE "Otp"."phoneNumber" IN ('254727893741', '0727893741', '727893741') AND "Otp"."isUsed" = false ORDER BY "Otp"."createdAt" DESC LIMIT 1;
Executing (default): UPDATE "otps" SET "isUsed"=$1,"updatedAt"=$2 WHERE "id" = $3
Executing (default): SELECT "id", "name", "phoneNumber", "pushToken", "status", "lastActivity", "pinHash", "createdAt", "updatedAt" FROM "drivers" AS "Driver" WHERE "Driver"."phoneNumber" IN ('254727893741', '0727893741', '727893741') LIMIT 1;
‚úÖ Driver OTP verified for: Lewisss (0727893741)
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT "id", "name", "phoneNumber", "pushToken", "status", "lastActivity", "pinHash", "createdAt", "updatedAt" FROM "drivers" AS "Driver" WHERE "Driver"."phoneNumber" = '254727893741';
Executing (default): SELECT "id", "name", "phoneNumber", "pushToken", "status", "lastActivity", "pinHash", "createdAt", "updatedAt" FROM "drivers" AS "Driver" WHERE "Driver"."phoneNumber" = '0727893741';
Executing (default): UPDATE "drivers" SET "pinHash"=$1,"lastActivity"=$2,"status"=$3,"updatedAt"=$4 WHERE "id" = $5
‚úÖ PIN set for driver: Lewisss (0727893741)
Executing (default): SELECT "id", "name", "phoneNumber", "pushToken", "status", "lastActivity", "pinHash", "createdAt", "updatedAt" FROM "drivers" AS "Driver" WHERE "Driver"."phoneNumber" = '254727893741';
Executing (default): SELECT "id", "name", "phoneNumber", "pushToken", "status", "lastActivity", "pinHash", "createdAt", "updatedAt" FROM "drivers" AS "Driver" WHERE "Driver"."phoneNumber" = '0727893741';
Executing (default): SELECT "id", "name", "phoneNumber", "pushToken", "status", "lastActivity", "pinHash", "createdAt", "updatedAt" FROM "drivers" AS "Driver" WHERE "Driver"."phoneNumber" = '254727893741';
Executing (default): SELECT "id", "name", "phoneNumber", "pushToken", "status", "lastActivity", "pinHash", "createdAt", "updatedAt" FROM "drivers" AS "Driver" WHERE "Driver"."phoneNumber" = '0727893741';
Executing (default): SELECT "Order"."id", "Order"."customerName", "Order"."customerPhone", "Order"."customerEmail", "Order"."deliveryAddress", "Order"."totalAmount", "Order"."tipAmount", "Order"."status", "Order"."paymentStatus", "Order"."notes", "Order"."paymentType", "Order"."paymentMethod", "Order"."driverId", "Order"."driverAccepted", "Order"."driverPayCredited", "Order"."driverPayCreditedAt", "Order"."driverPayAmount", "Order"."createdAt", "Order"."updatedAt", "items"."id" AS "items.id", "items"."orderId" AS "items.orderId", "items"."drinkId" AS "items.drinkId", "items"."quantity" AS "items.quantity", "items"."price" AS "items.price", "items"."createdAt" AS "items.createdAt", "items"."updatedAt" AS "items.updatedAt", "items->drink"."id" AS "items.drink.id", "items->drink"."name" AS "items.drink.name", "items->drink"."description" AS "items.drink.description", "items->drink"."price" AS "items.drink.price", "items->drink"."image" AS "items.drink.image", "items->drink"."categoryId" AS "items.drink.categoryId", "items->drink"."subCategoryId" AS "items.drink.subCategoryId", "items->drink"."isAvailable" AS "items.drink.isAvailable", "items->drink"."isPopular" AS "items.drink.isPopular", "items->drink"."isOnOffer" AS "items.drink.isOnOffer", "items->drink"."limitedTimeOffer" AS "items.drink.limitedTimeOffer", "items->drink"."originalPrice" AS "items.drink.originalPrice", "items->drink"."capacity" AS "items.drink.capacity", "items->drink"."capacityPricing" AS "items.drink.capacityPricing", "items->drink"."abv" AS "items.drink.abv", "items->drink"."createdAt" AS "items.drink.createdAt", "items->drink"."updatedAt" AS "items.drink.updatedAt" FROM "orders" AS "Order" LEFT OUTER JOIN "order_items" AS "items" ON "Order"."id" = "items"."orderId" LEFT OUTER JOIN "drinks" AS "items->drink" ON "items"."drinkId" = "items->drink"."id" WHERE "Order"."driverId" = 2 ORDER BY "Order"."createdAt" DESC;
Executing (default): SELECT "Order"."id", "Order"."customerName", "Order"."customerPhone", "Order"."customerEmail", "Order"."deliveryAddress", "Order"."totalAmount", "Order"."tipAmount", "Order"."status", "Order"."paymentStatus", "Order"."notes", "Order"."paymentType", "Order"."paymentMethod", "Order"."driverId", "Order"."driverAccepted", "Order"."driverPayCredited", "Order"."driverPayCreditedAt", "Order"."driverPayAmount", "Order"."createdAt", "Order"."updatedAt", "items"."id" AS "items.id", "items"."orderId" AS "items.orderId", "items"."drinkId" AS "items.drinkId", "items"."quantity" AS "items.quantity", "items"."price" AS "items.price", "items"."createdAt" AS "items.createdAt", "items"."updatedAt" AS "items.updatedAt", "items->drink"."id" AS "items.drink.id", "items->drink"."name" AS "items.drink.name", "items->drink"."description" AS "items.drink.description", "items->drink"."price" AS "items.drink.price", "items->drink"."image" AS "items.drink.image", "items->drink"."categoryId" AS "items.drink.categoryId", "items->drink"."subCategoryId" AS "items.drink.subCategoryId", "items->drink"."isAvailable" AS "items.drink.isAvailable", "items->drink"."isPopular" AS "items.drink.isPopular", "items->drink"."isOnOffer" AS "items.drink.isOnOffer", "items->drink"."limitedTimeOffer" AS "items.drink.limitedTimeOffer", "items->drink"."originalPrice" AS "items.drink.originalPrice", "items->drink"."capacity" AS "items.drink.capacity", "items->drink"."capacityPricing" AS "items.drink.capacityPricing", "items->drink"."abv" AS "items.drink.abv", "items->drink"."createdAt" AS "items.drink.createdAt", "items->drink"."updatedAt" AS "items.drink.updatedAt" FROM "orders" AS "Order" LEFT OUTER JOIN "order_items" AS "items" ON "Order"."id" = "items"."orderId" LEFT OUTER JOIN "drinks" AS "items->drink" ON "items"."drinkId" = "items->drink"."id" WHERE "Order"."driverId" = 2 ORDER BY "Order"."createdAt" DESC;
Executing (default): SELECT "id", "name", "phoneNumber", "pushToken", "status", "lastActivity", "pinHash", "createdAt", "updatedAt" FROM "drivers" AS "Driver" ORDER BY "Driver"."lastActivity" DESC, "Driver"."createdAt" DESC;
Executing (default): SELECT "Order"."id", "Order"."customerName", "Order"."customerPhone", "Order"."customerEmail", "Order"."deliveryAddress", "Order"."totalAmount", "Order"."tipAmount", "Order"."status", "Order"."paymentStatus", "Order"."notes", "Order"."paymentType", "Order"."paymentMethod", "Order"."driverId", "Order"."driverAccepted", "Order"."driverPayCredited", "Order"."driverPayCreditedAt", "Order"."driverPayAmount", "Order"."createdAt", "Order"."updatedAt", "items"."id" AS "items.id", "items"."orderId" AS "items.orderId", "items"."drinkId" AS "items.drinkId", "items"."quantity" AS "items.quantity", "items"."price" AS "items.price", "items"."createdAt" AS "items.createdAt", "items"."updatedAt" AS "items.updatedAt", "items->drink"."id" AS "items.drink.id", "items->drink"."name" AS "items.drink.name", "items->drink"."description" AS "items.drink.description", "items->drink"."price" AS "items.drink.price", "items->drink"."image" AS "items.drink.image", "items->drink"."categoryId" AS "items.drink.categoryId", "items->drink"."subCategoryId" AS "items.drink.subCategoryId", "items->drink"."isAvailable" AS "items.drink.isAvailable", "items->drink"."isPopular" AS "items.drink.isPopular", "items->drink"."isOnOffer" AS "items.drink.isOnOffer", "items->drink"."limitedTimeOffer" AS "items.drink.limitedTimeOffer", "items->drink"."originalPrice" AS "items.drink.originalPrice", "items->drink"."capacity" AS "items.drink.capacity", "items->drink"."capacityPricing" AS "items.drink.capacityPricing", "items->drink"."abv" AS "items.drink.abv", "items->drink"."createdAt" AS "items.drink.createdAt", "items->drink"."updatedAt" AS "items.drink.updatedAt", "transactions"."id" AS "transactions.id", "transactions"."orderId" AS "transactions.orderId", "transactions"."driverId" AS "transactions.driverId", "transactions"."driverWalletId" AS "transactions.driverWalletId", "transactions"."transactionType" AS "transactions.transactionType", "transactions"."paymentMethod" AS "transactions.paymentMethod", "transactions"."paymentProvider" AS "transactions.paymentProvider", "transactions"."amount" AS "transactions.amount", "transactions"."status" AS "transactions.status", "transactions"."paymentStatus" AS "transactions.paymentStatus", "transactions"."receiptNumber" AS "transactions.receiptNumber", "transactions"."checkoutRequestID" AS "transactions.checkoutRequestID", "transactions"."merchantRequestID" AS "transactions.merchantRequestID", "transactions"."phoneNumber" AS "transactions.phoneNumber", "transactions"."transactionDate" AS "transactions.transactionDate", "transactions"."notes" AS "transactions.notes", "transactions"."createdAt" AS "transactions.createdAt", "transactions"."updatedAt" AS "transactions.updatedAt", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."phoneNumber" AS "driver.phoneNumber", "driver"."status" AS "driver.status" FROM "orders" AS "Order" LEFT OUTER JOIN "order_items" AS "items" ON "Order"."id" = "items"."orderId" LEFT OUTER JOIN "drinks" AS "items->drink" ON "items"."drinkId" = "items->drink"."id" LEFT OUTER JOIN "transactions" AS "transactions" ON "Order"."id" = "transactions"."orderId" LEFT OUTER JOIN "drivers" AS "driver" ON "Order"."driverId" = "driver"."id" ORDER BY "Order"."createdAt" DESC;
Client connected: gUKSqBnJNCqPxzfpAAAa
Executing (default): SELECT "id", "name", "phoneNumber", "pushToken", "status", "lastActivity", "pinHash", "createdAt", "updatedAt" FROM "drivers" AS "Driver" ORDER BY "Driver"."lastActivity" DESC, "Driver"."createdAt" DESC;
Client gUKSqBnJNCqPxzfpAAAa joined admin room
Executing (default): SELECT "Order"."id", "Order"."customerName", "Order"."customerPhone", "Order"."customerEmail", "Order"."deliveryAddress", "Order"."totalAmount", "Order"."tipAmount", "Order"."status", "Order"."paymentStatus", "Order"."notes", "Order"."paymentType", "Order"."paymentMethod", "Order"."driverId", "Order"."driverAccepted", "Order"."driverPayCredited", "Order"."driverPayCreditedAt", "Order"."driverPayAmount", "Order"."createdAt", "Order"."updatedAt", "items"."id" AS "items.id", "items"."orderId" AS "items.orderId", "items"."drinkId" AS "items.drinkId", "items"."quantity" AS "items.quantity", "items"."price" AS "items.price", "items"."createdAt" AS "items.createdAt", "items"."updatedAt" AS "items.updatedAt", "items->drink"."id" AS "items.drink.id", "items->drink"."name" AS "items.drink.name", "items->drink"."description" AS "items.drink.description", "items->drink"."price" AS "items.drink.price", "items->drink"."image" AS "items.drink.image", "items->drink"."categoryId" AS "items.drink.categoryId", "items->drink"."subCategoryId" AS "items.drink.subCategoryId", "items->drink"."isAvailable" AS "items.drink.isAvailable", "items->drink"."isPopular" AS "items.drink.isPopular", "items->drink"."isOnOffer" AS "items.drink.isOnOffer", "items->drink"."limitedTimeOffer" AS "items.drink.limitedTimeOffer", "items->drink"."originalPrice" AS "items.drink.originalPrice", "items->drink"."capacity" AS "items.drink.capacity", "items->drink"."capacityPricing" AS "items.drink.capacityPricing", "items->drink"."abv" AS "items.drink.abv", "items->drink"."createdAt" AS "items.drink.createdAt", "items->drink"."updatedAt" AS "items.drink.updatedAt", "transactions"."id" AS "transactions.id", "transactions"."orderId" AS "transactions.orderId", "transactions"."driverId" AS "transactions.driverId", "transactions"."driverWalletId" AS "transactions.driverWalletId", "transactions"."transactionType" AS "transactions.transactionType", "transactions"."paymentMethod" AS "transactions.paymentMethod", "transactions"."paymentProvider" AS "transactions.paymentProvider", "transactions"."amount" AS "transactions.amount", "transactions"."status" AS "transactions.status", "transactions"."paymentStatus" AS "transactions.paymentStatus", "transactions"."receiptNumber" AS "transactions.receiptNumber", "transactions"."checkoutRequestID" AS "transactions.checkoutRequestID", "transactions"."merchantRequestID" AS "transactions.merchantRequestID", "transactions"."phoneNumber" AS "transactions.phoneNumber", "transactions"."transactionDate" AS "transactions.transactionDate", "transactions"."notes" AS "transactions.notes", "transactions"."createdAt" AS "transactions.createdAt", "transactions"."updatedAt" AS "transactions.updatedAt", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."phoneNumber" AS "driver.phoneNumber", "driver"."status" AS "driver.status" FROM "orders" AS "Order" LEFT OUTER JOIN "order_items" AS "items" ON "Order"."id" = "items"."orderId" LEFT OUTER JOIN "drinks" AS "items->drink" ON "items"."drinkId" = "items->drink"."id" LEFT OUTER JOIN "transactions" AS "transactions" ON "Order"."id" = "transactions"."orderId" LEFT OUTER JOIN "drivers" AS "driver" ON "Order"."driverId" = "driver"."id" ORDER BY "Order"."createdAt" DESC;
Client connected: VEaaSo_IHfB3y6BiAAAc
Client VEaaSo_IHfB3y6BiAAAc joined driver room: driver-2
Client disconnected: gUKSqBnJNCqPxzfpAAAa
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT "id", "customerName", "status", "totalAmount", "createdAt" FROM "orders" AS "Order" ORDER BY "Order"."createdAt" DESC LIMIT 10;
Client connected: lx7oPAG_E_Yc8J6XAAAf
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Client lx7oPAG_E_Yc8J6XAAAf joined admin room
Executing (default): SELECT "OrderItem"."drinkId", SUM("quantity") AS "totalQuantity", COUNT(DISTINCT("orderId")) AS "ordersCount", "drink"."id" AS "drink.id", "drink"."name" AS "drink.name", "drink"."categoryId" AS "drink.categoryId", "drink->category"."id" AS "drink.category.id", "drink->category"."name" AS "drink.category.name" FROM "order_items" AS "OrderItem" LEFT OUTER JOIN "drinks" AS "drink" ON "OrderItem"."drinkId" = "drink"."id" LEFT OUTER JOIN "categories" AS "drink->category" ON "drink"."categoryId" = "drink->category"."id" GROUP BY "OrderItem"."drinkId", "drink"."id", "drink->category"."id" ORDER BY SUM("quantity") DESC;
Executing (default): SELECT "id", "customerName", "status", "totalAmount", "createdAt" FROM "orders" AS "Order" ORDER BY "Order"."createdAt" DESC LIMIT 10;
Executing (default): SELECT "Transaction"."id", "Transaction"."orderId", "Transaction"."driverId", "Transaction"."driverWalletId", "Transaction"."transactionType", "Transaction"."paymentMethod", "Transaction"."paymentProvider", "Transaction"."amount", "Transaction"."status", "Transaction"."paymentStatus", "Transaction"."receiptNumber", "Transaction"."checkoutRequestID", "Transaction"."merchantRequestID", "Transaction"."phoneNumber", "Transaction"."transactionDate", "Transaction"."notes", "Transaction"."createdAt", "Transaction"."updatedAt", "order"."id" AS "order.id", "order"."customerName" AS "order.customerName" FROM "transactions" AS "Transaction" LEFT OUTER JOIN "orders" AS "order" ON "Transaction"."orderId" = "order"."id" ORDER BY "Transaction"."createdAt" DESC LIMIT 10;
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT "Transaction"."id", "Transaction"."orderId", "Transaction"."driverId", "Transaction"."driverWalletId", "Transaction"."transactionType", "Transaction"."paymentMethod", "Transaction"."paymentProvider", "Transaction"."amount", "Transaction"."status", "Transaction"."paymentStatus", "Transaction"."receiptNumber", "Transaction"."checkoutRequestID", "Transaction"."merchantRequestID", "Transaction"."phoneNumber", "Transaction"."transactionDate", "Transaction"."notes", "Transaction"."createdAt", "Transaction"."updatedAt", "order"."id" AS "order.id", "order"."customerName" AS "order.customerName" FROM "transactions" AS "Transaction" LEFT OUTER JOIN "orders" AS "order" ON "Transaction"."orderId" = "order"."id" ORDER BY "Transaction"."createdAt" DESC LIMIT 10;
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "OrderItem"."drinkId", SUM("quantity") AS "totalQuantity", COUNT(DISTINCT("orderId")) AS "ordersCount", "drink"."id" AS "drink.id", "drink"."name" AS "drink.name", "drink"."categoryId" AS "drink.categoryId", "drink->category"."id" AS "drink.category.id", "drink->category"."name" AS "drink.category.name" FROM "order_items" AS "OrderItem" LEFT OUTER JOIN "drinks" AS "drink" ON "OrderItem"."drinkId" = "drink"."id" LEFT OUTER JOIN "categories" AS "drink->category" ON "drink"."categoryId" = "drink->category"."id" GROUP BY "OrderItem"."drinkId", "drink"."id", "drink->category"."id" ORDER BY SUM("quantity") DESC;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Client disconnected: lx7oPAG_E_Yc8J6XAAAf
Client connected: 85H_qWf4_HGMjhEeAAAi
Executing (default): SELECT "Order"."id", "Order"."customerName", "Order"."customerPhone", "Order"."customerEmail", "Order"."deliveryAddress", "Order"."totalAmount", "Order"."tipAmount", "Order"."status", "Order"."paymentStatus", "Order"."notes", "Order"."paymentType", "Order"."paymentMethod", "Order"."driverId", "Order"."driverAccepted", "Order"."driverPayCredited", "Order"."driverPayCreditedAt", "Order"."driverPayAmount", "Order"."createdAt", "Order"."updatedAt", "items"."id" AS "items.id", "items"."orderId" AS "items.orderId", "items"."drinkId" AS "items.drinkId", "items"."quantity" AS "items.quantity", "items"."price" AS "items.price", "items"."createdAt" AS "items.createdAt", "items"."updatedAt" AS "items.updatedAt", "items->drink"."id" AS "items.drink.id", "items->drink"."name" AS "items.drink.name", "items->drink"."description" AS "items.drink.description", "items->drink"."price" AS "items.drink.price", "items->drink"."image" AS "items.drink.image", "items->drink"."categoryId" AS "items.drink.categoryId", "items->drink"."subCategoryId" AS "items.drink.subCategoryId", "items->drink"."isAvailable" AS "items.drink.isAvailable", "items->drink"."isPopular" AS "items.drink.isPopular", "items->drink"."isOnOffer" AS "items.drink.isOnOffer", "items->drink"."limitedTimeOffer" AS "items.drink.limitedTimeOffer", "items->drink"."originalPrice" AS "items.drink.originalPrice", "items->drink"."capacity" AS "items.drink.capacity", "items->drink"."capacityPricing" AS "items.drink.capacityPricing", "items->drink"."abv" AS "items.drink.abv", "items->drink"."createdAt" AS "items.drink.createdAt", "items->drink"."updatedAt" AS "items.drink.updatedAt", "transactions"."id" AS "transactions.id", "transactions"."orderId" AS "transactions.orderId", "transactions"."driverId" AS "transactions.driverId", "transactions"."driverWalletId" AS "transactions.driverWalletId", "transactions"."transactionType" AS "transactions.transactionType", "transactions"."paymentMethod" AS "transactions.paymentMethod", "transactions"."paymentProvider" AS "transactions.paymentProvider", "transactions"."amount" AS "transactions.amount", "transactions"."status" AS "transactions.status", "transactions"."paymentStatus" AS "transactions.paymentStatus", "transactions"."receiptNumber" AS "transactions.receiptNumber", "transactions"."checkoutRequestID" AS "transactions.checkoutRequestID", "transactions"."merchantRequestID" AS "transactions.merchantRequestID", "transactions"."phoneNumber" AS "transactions.phoneNumber", "transactions"."transactionDate" AS "transactions.transactionDate", "transactions"."notes" AS "transactions.notes", "transactions"."createdAt" AS "transactions.createdAt", "transactions"."updatedAt" AS "transactions.updatedAt", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."phoneNumber" AS "driver.phoneNumber", "driver"."status" AS "driver.status" FROM "orders" AS "Order" LEFT OUTER JOIN "order_items" AS "items" ON "Order"."id" = "items"."orderId" LEFT OUTER JOIN "drinks" AS "items->drink" ON "items"."drinkId" = "items->drink"."id" LEFT OUTER JOIN "transactions" AS "transactions" ON "Order"."id" = "transactions"."orderId" LEFT OUTER JOIN "drivers" AS "driver" ON "Order"."driverId" = "driver"."id" ORDER BY "Order"."createdAt" DESC;
Executing (default): SELECT "id", "name", "phoneNumber", "pushToken", "status", "lastActivity", "pinHash", "createdAt", "updatedAt" FROM "drivers" AS "Driver" ORDER BY "Driver"."lastActivity" DESC, "Driver"."createdAt" DESC;
Client 85H_qWf4_HGMjhEeAAAi joined admin room
Executing (default): SELECT "id", "name", "phoneNumber", "pushToken", "status", "lastActivity", "pinHash", "createdAt", "updatedAt" FROM "drivers" AS "Driver" ORDER BY "Driver"."lastActivity" DESC, "Driver"."createdAt" DESC;
Executing (default): SELECT "Order"."id", "Order"."customerName", "Order"."customerPhone", "Order"."customerEmail", "Order"."deliveryAddress", "Order"."totalAmount", "Order"."tipAmount", "Order"."status", "Order"."paymentStatus", "Order"."notes", "Order"."paymentType", "Order"."paymentMethod", "Order"."driverId", "Order"."driverAccepted", "Order"."driverPayCredited", "Order"."driverPayCreditedAt", "Order"."driverPayAmount", "Order"."createdAt", "Order"."updatedAt", "items"."id" AS "items.id", "items"."orderId" AS "items.orderId", "items"."drinkId" AS "items.drinkId", "items"."quantity" AS "items.quantity", "items"."price" AS "items.price", "items"."createdAt" AS "items.createdAt", "items"."updatedAt" AS "items.updatedAt", "items->drink"."id" AS "items.drink.id", "items->drink"."name" AS "items.drink.name", "items->drink"."description" AS "items.drink.description", "items->drink"."price" AS "items.drink.price", "items->drink"."image" AS "items.drink.image", "items->drink"."categoryId" AS "items.drink.categoryId", "items->drink"."subCategoryId" AS "items.drink.subCategoryId", "items->drink"."isAvailable" AS "items.drink.isAvailable", "items->drink"."isPopular" AS "items.drink.isPopular", "items->drink"."isOnOffer" AS "items.drink.isOnOffer", "items->drink"."limitedTimeOffer" AS "items.drink.limitedTimeOffer", "items->drink"."originalPrice" AS "items.drink.originalPrice", "items->drink"."capacity" AS "items.drink.capacity", "items->drink"."capacityPricing" AS "items.drink.capacityPricing", "items->drink"."abv" AS "items.drink.abv", "items->drink"."createdAt" AS "items.drink.createdAt", "items->drink"."updatedAt" AS "items.drink.updatedAt", "transactions"."id" AS "transactions.id", "transactions"."orderId" AS "transactions.orderId", "transactions"."driverId" AS "transactions.driverId", "transactions"."driverWalletId" AS "transactions.driverWalletId", "transactions"."transactionType" AS "transactions.transactionType", "transactions"."paymentMethod" AS "transactions.paymentMethod", "transactions"."paymentProvider" AS "transactions.paymentProvider", "transactions"."amount" AS "transactions.amount", "transactions"."status" AS "transactions.status", "transactions"."paymentStatus" AS "transactions.paymentStatus", "transactions"."receiptNumber" AS "transactions.receiptNumber", "transactions"."checkoutRequestID" AS "transactions.checkoutRequestID", "transactions"."merchantRequestID" AS "transactions.merchantRequestID", "transactions"."phoneNumber" AS "transactions.phoneNumber", "transactions"."transactionDate" AS "transactions.transactionDate", "transactions"."notes" AS "transactions.notes", "transactions"."createdAt" AS "transactions.createdAt", "transactions"."updatedAt" AS "transactions.updatedAt", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."phoneNumber" AS "driver.phoneNumber", "driver"."status" AS "driver.status" FROM "orders" AS "Order" LEFT OUTER JOIN "order_items" AS "items" ON "Order"."id" = "items"."orderId" LEFT OUTER JOIN "drinks" AS "items->drink" ON "items"."drinkId" = "items->drink"."id" LEFT OUTER JOIN "transactions" AS "transactions" ON "Order"."id" = "transactions"."orderId" LEFT OUTER JOIN "drivers" AS "driver" ON "Order"."driverId" = "driver"."id" ORDER BY "Order"."createdAt" DESC;
Executing (default): SELECT "id", "customerName", "customerPhone", "customerEmail", "deliveryAddress", "totalAmount", "tipAmount", "status", "paymentStatus", "notes", "paymentType", "paymentMethod", "driverId", "driverAccepted", "driverPayCredited", "driverPayCreditedAt", "driverPayAmount", "createdAt", "updatedAt" FROM "orders" AS "Order" WHERE "Order"."id" = '148';
Executing (default): UPDATE "orders" SET "driverId"=$1,"updatedAt"=$2 WHERE "id" = $3
Executing (default): SELECT "Order"."id", "Order"."customerName", "Order"."customerPhone", "Order"."customerEmail", "Order"."deliveryAddress", "Order"."totalAmount", "Order"."tipAmount", "Order"."status", "Order"."paymentStatus", "Order"."notes", "Order"."paymentType", "Order"."paymentMethod", "Order"."driverId", "Order"."driverAccepted", "Order"."driverPayCredited", "Order"."driverPayCreditedAt", "Order"."driverPayAmount", "Order"."createdAt", "Order"."updatedAt", "items"."id" AS "items.id", "items"."orderId" AS "items.orderId", "items"."drinkId" AS "items.drinkId", "items"."quantity" AS "items.quantity", "items"."price" AS "items.price", "items"."createdAt" AS "items.createdAt", "items"."updatedAt" AS "items.updatedAt", "items->drink"."id" AS "items.drink.id", "items->drink"."name" AS "items.drink.name", "items->drink"."description" AS "items.drink.description", "items->drink"."price" AS "items.drink.price", "items->drink"."image" AS "items.drink.image", "items->drink"."categoryId" AS "items.drink.categoryId", "items->drink"."subCategoryId" AS "items.drink.subCategoryId", "items->drink"."isAvailable" AS "items.drink.isAvailable", "items->drink"."isPopular" AS "items.drink.isPopular", "items->drink"."isOnOffer" AS "items.drink.isOnOffer", "items->drink"."limitedTimeOffer" AS "items.drink.limitedTimeOffer", "items->drink"."originalPrice" AS "items.drink.originalPrice", "items->drink"."capacity" AS "items.drink.capacity", "items->drink"."capacityPricing" AS "items.drink.capacityPricing", "items->drink"."abv" AS "items.drink.abv", "items->drink"."createdAt" AS "items.drink.createdAt", "items->drink"."updatedAt" AS "items.drink.updatedAt", "transactions"."id" AS "transactions.id", "transactions"."orderId" AS "transactions.orderId", "transactions"."driverId" AS "transactions.driverId", "transactions"."driverWalletId" AS "transactions.driverWalletId", "transactions"."transactionType" AS "transactions.transactionType", "transactions"."paymentMethod" AS "transactions.paymentMethod", "transactions"."paymentProvider" AS "transactions.paymentProvider", "transactions"."amount" AS "transactions.amount", "transactions"."status" AS "transactions.status", "transactions"."paymentStatus" AS "transactions.paymentStatus", "transactions"."receiptNumber" AS "transactions.receiptNumber", "transactions"."checkoutRequestID" AS "transactions.checkoutRequestID", "transactions"."merchantRequestID" AS "transactions.merchantRequestID", "transactions"."phoneNumber" AS "transactions.phoneNumber", "transactions"."transactionDate" AS "transactions.transactionDate", "transactions"."notes" AS "transactions.notes", "transactions"."createdAt" AS "transactions.createdAt", "transactions"."updatedAt" AS "transactions.updatedAt", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."phoneNumber" AS "driver.phoneNumber", "driver"."status" AS "driver.status" FROM "orders" AS "Order" LEFT OUTER JOIN "order_items" AS "items" ON "Order"."id" = "items"."orderId" LEFT OUTER JOIN "drinks" AS "items->drink" ON "items"."drinkId" = "items->drink"."id" LEFT OUTER JOIN "transactions" AS "transactions" ON "Order"."id" = "transactions"."orderId" LEFT OUTER JOIN "drivers" AS "driver" ON "Order"."driverId" = "driver"."id" WHERE "Order"."id" = 148;
Executing (default): SELECT "Order"."id", "Order"."customerName", "Order"."customerPhone", "Order"."customerEmail", "Order"."deliveryAddress", "Order"."totalAmount", "Order"."tipAmount", "Order"."status", "Order"."paymentStatus", "Order"."notes", "Order"."paymentType", "Order"."paymentMethod", "Order"."driverId", "Order"."driverAccepted", "Order"."driverPayCredited", "Order"."driverPayCreditedAt", "Order"."driverPayAmount", "Order"."createdAt", "Order"."updatedAt", "items"."id" AS "items.id", "items"."orderId" AS "items.orderId", "items"."drinkId" AS "items.drinkId", "items"."quantity" AS "items.quantity", "items"."price" AS "items.price", "items"."createdAt" AS "items.createdAt", "items"."updatedAt" AS "items.updatedAt", "items->drink"."id" AS "items.drink.id", "items->drink"."name" AS "items.drink.name", "items->drink"."description" AS "items.drink.description", "items->drink"."price" AS "items.drink.price", "items->drink"."image" AS "items.drink.image", "items->drink"."categoryId" AS "items.drink.categoryId", "items->drink"."subCategoryId" AS "items.drink.subCategoryId", "items->drink"."isAvailable" AS "items.drink.isAvailable", "items->drink"."isPopular" AS "items.drink.isPopular", "items->drink"."isOnOffer" AS "items.drink.isOnOffer", "items->drink"."limitedTimeOffer" AS "items.drink.limitedTimeOffer", "items->drink"."originalPrice" AS "items.drink.originalPrice", "items->drink"."capacity" AS "items.drink.capacity", "items->drink"."capacityPricing" AS "items.drink.capacityPricing", "items->drink"."abv" AS "items.drink.abv", "items->drink"."createdAt" AS "items.drink.createdAt", "items->drink"."updatedAt" AS "items.drink.updatedAt", "transactions"."id" AS "transactions.id", "transactions"."orderId" AS "transactions.orderId", "transactions"."driverId" AS "transactions.driverId", "transactions"."driverWalletId" AS "transactions.driverWalletId", "transactions"."transactionType" AS "transactions.transactionType", "transactions"."paymentMethod" AS "transactions.paymentMethod", "transactions"."paymentProvider" AS "transactions.paymentProvider", "transactions"."amount" AS "transactions.amount", "transactions"."status" AS "transactions.status", "transactions"."paymentStatus" AS "transactions.paymentStatus", "transactions"."receiptNumber" AS "transactions.receiptNumber", "transactions"."checkoutRequestID" AS "transactions.checkoutRequestID", "transactions"."merchantRequestID" AS "transactions.merchantRequestID", "transactions"."phoneNumber" AS "transactions.phoneNumber", "transactions"."transactionDate" AS "transactions.transactionDate", "transactions"."notes" AS "transactions.notes", "transactions"."createdAt" AS "transactions.createdAt", "transactions"."updatedAt" AS "transactions.updatedAt", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."phoneNumber" AS "driver.phoneNumber", "driver"."status" AS "driver.status" FROM "orders" AS "Order" LEFT OUTER JOIN "order_items" AS "items" ON "Order"."id" = "items"."orderId" LEFT OUTER JOIN "drinks" AS "items->drink" ON "items"."drinkId" = "items->drink"."id" LEFT OUTER JOIN "transactions" AS "transactions" ON "Order"."id" = "transactions"."orderId" LEFT OUTER JOIN "drivers" AS "driver" ON "Order"."driverId" = "driver"."id" WHERE "Order"."id" = 148;
Executing (default): SELECT "Order"."id", "Order"."customerName", "Order"."customerPhone", "Order"."customerEmail", "Order"."deliveryAddress", "Order"."totalAmount", "Order"."tipAmount", "Order"."status", "Order"."paymentStatus", "Order"."notes", "Order"."paymentType", "Order"."paymentMethod", "Order"."driverId", "Order"."driverAccepted", "Order"."driverPayCredited", "Order"."driverPayCreditedAt", "Order"."driverPayAmount", "Order"."createdAt", "Order"."updatedAt", "items"."id" AS "items.id", "items"."orderId" AS "items.orderId", "items"."drinkId" AS "items.drinkId", "items"."quantity" AS "items.quantity", "items"."price" AS "items.price", "items"."createdAt" AS "items.createdAt", "items"."updatedAt" AS "items.updatedAt" FROM "orders" AS "Order" LEFT OUTER JOIN "order_items" AS "items" ON "Order"."id" = "items"."orderId" WHERE "Order"."id" = 148;
Executing (default): SELECT "id", "orderId", "driverId", "driverWalletId", "transactionType", "paymentMethod", "paymentProvider", "amount", "status", "paymentStatus", "receiptNumber", "checkoutRequestID", "merchantRequestID", "phoneNumber", "transactionDate", "notes", "createdAt", "updatedAt" FROM "transactions" AS "Transaction" WHERE "Transaction"."orderId" = 148 AND "Transaction"."transactionType" = 'payment' AND "Transaction"."status" = 'completed' ORDER BY "Transaction"."transactionDate" DESC, "Transaction"."createdAt" DESC LIMIT 1;
Executing (default): SELECT "id", "key", "value", "createdAt", "updatedAt" FROM "settings" AS "Settings" WHERE "Settings"."key" = 'driverPayPerDeliveryEnabled';
Executing (default): SELECT "id", "key", "value", "createdAt", "updatedAt" FROM "settings" AS "Settings" WHERE "Settings"."key" = 'driverPayPerDeliveryAmount';
Executing (default): SELECT "id", "orderId", "driverId", "driverWalletId", "transactionType", "paymentMethod", "paymentProvider", "amount", "status", "paymentStatus", "receiptNumber", "checkoutRequestID", "merchantRequestID", "phoneNumber", "transactionDate", "notes", "createdAt", "updatedAt" FROM "transactions" AS "Transaction" WHERE "Transaction"."orderId" = 148 AND "Transaction"."transactionType" = 'delivery_pay' ORDER BY "Transaction"."updatedAt" DESC, "Transaction"."createdAt" DESC;
Executing (default): INSERT INTO "transactions" ("id","orderId","driverId","driverWalletId","transactionType","paymentMethod","paymentProvider","amount","status","paymentStatus","receiptNumber","checkoutRequestID","merchantRequestID","phoneNumber","transactionDate","notes","createdAt","updatedAt") VALUES (DEFAULT,$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17) RETURNING "id","orderId","driverId","driverWalletId","transactionType","paymentMethod","paymentProvider","amount","status","paymentStatus","receiptNumber","checkoutRequestID","merchantRequestID","phoneNumber","transactionDate","notes","createdAt","updatedAt";
Executing (default): SELECT "id", "driverId", "balance", "totalTipsReceived", "totalTipsCount", "totalDeliveryPay", "totalDeliveryPayCount", "createdAt", "updatedAt" FROM "driver_wallets" AS "DriverWallet" WHERE "DriverWallet"."driverId" = 2;
Executing (default): INSERT INTO "driver_wallets" ("id","driverId","balance","totalTipsReceived","totalTipsCount","totalDeliveryPay","totalDeliveryPayCount","createdAt","updatedAt") VALUES (DEFAULT,$1,$2,$3,$4,$5,$6,$7,$8) RETURNING "id","driverId","balance","totalTipsReceived","totalTipsCount","totalDeliveryPay","totalDeliveryPayCount","createdAt","updatedAt";
Executing (default): UPDATE "transactions" SET "amount"=$1,"driverId"=$2,"driverWalletId"=$3,"notes"=$4,"updatedAt"=$5 WHERE "id" = $6
Executing (default): UPDATE "orders" SET "driverPayCredited"=$1,"driverPayCreditedAt"=$2,"driverPayAmount"=$3,"updatedAt"=$4 WHERE "id" = $5
Executing (default): SELECT "id", "name", "phoneNumber", "pushToken", "status", "lastActivity", "pinHash", "createdAt", "updatedAt" FROM "drivers" AS "Driver" WHERE "Driver"."id" = 2;
Executing (default): SELECT "Order"."id", "Order"."customerName", "Order"."customerPhone", "Order"."customerEmail", "Order"."deliveryAddress", "Order"."totalAmount", "Order"."tipAmount", "Order"."status", "Order"."paymentStatus", "Order"."notes", "Order"."paymentType", "Order"."paymentMethod", "Order"."driverId", "Order"."driverAccepted", "Order"."driverPayCredited", "Order"."driverPayCreditedAt", "Order"."driverPayAmount", "Order"."createdAt", "Order"."updatedAt", "items"."id" AS "items.id", "items"."orderId" AS "items.orderId", "items"."drinkId" AS "items.drinkId", "items"."quantity" AS "items.quantity", "items"."price" AS "items.price", "items"."createdAt" AS "items.createdAt", "items"."updatedAt" AS "items.updatedAt", "items->drink"."id" AS "items.drink.id", "items->drink"."name" AS "items.drink.name", "items->drink"."description" AS "items.drink.description", "items->drink"."price" AS "items.drink.price", "items->drink"."image" AS "items.drink.image", "items->drink"."categoryId" AS "items.drink.categoryId", "items->drink"."subCategoryId" AS "items.drink.subCategoryId", "items->drink"."isAvailable" AS "items.drink.isAvailable", "items->drink"."isPopular" AS "items.drink.isPopular", "items->drink"."isOnOffer" AS "items.drink.isOnOffer", "items->drink"."limitedTimeOffer" AS "items.drink.limitedTimeOffer", "items->drink"."originalPrice" AS "items.drink.originalPrice", "items->drink"."capacity" AS "items.drink.capacity", "items->drink"."capacityPricing" AS "items.drink.capacityPricing", "items->drink"."abv" AS "items.drink.abv", "items->drink"."createdAt" AS "items.drink.createdAt", "items->drink"."updatedAt" AS "items.drink.updatedAt", "transactions"."id" AS "transactions.id", "transactions"."orderId" AS "transactions.orderId", "transactions"."driverId" AS "transactions.driverId", "transactions"."driverWalletId" AS "transactions.driverWalletId", "transactions"."transactionType" AS "transactions.transactionType", "transactions"."paymentMethod" AS "transactions.paymentMethod", "transactions"."paymentProvider" AS "transactions.paymentProvider", "transactions"."amount" AS "transactions.amount", "transactions"."status" AS "transactions.status", "transactions"."paymentStatus" AS "transactions.paymentStatus", "transactions"."receiptNumber" AS "transactions.receiptNumber", "transactions"."checkoutRequestID" AS "transactions.checkoutRequestID", "transactions"."merchantRequestID" AS "transactions.merchantRequestID", "transactions"."phoneNumber" AS "transactions.phoneNumber", "transactions"."transactionDate" AS "transactions.transactionDate", "transactions"."notes" AS "transactions.notes", "transactions"."createdAt" AS "transactions.createdAt", "transactions"."updatedAt" AS "transactions.updatedAt", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."phoneNumber" AS "driver.phoneNumber", "driver"."status" AS "driver.status" FROM "orders" AS "Order" LEFT OUTER JOIN "order_items" AS "items" ON "Order"."id" = "items"."orderId" LEFT OUTER JOIN "drinks" AS "items->drink" ON "items"."drinkId" = "items->drink"."id" LEFT OUTER JOIN "transactions" AS "transactions" ON "Order"."id" = "transactions"."orderId" LEFT OUTER JOIN "drivers" AS "driver" ON "Order"."driverId" = "driver"."id" ORDER BY "Order"."createdAt" DESC;
Executing (default): SELECT "Order"."id", "Order"."customerName", "Order"."customerPhone", "Order"."customerEmail", "Order"."deliveryAddress", "Order"."totalAmount", "Order"."tipAmount", "Order"."status", "Order"."paymentStatus", "Order"."notes", "Order"."paymentType", "Order"."paymentMethod", "Order"."driverId", "Order"."driverAccepted", "Order"."driverPayCredited", "Order"."driverPayCreditedAt", "Order"."driverPayAmount", "Order"."createdAt", "Order"."updatedAt", "items"."id" AS "items.id", "items"."orderId" AS "items.orderId", "items"."drinkId" AS "items.drinkId", "items"."quantity" AS "items.quantity", "items"."price" AS "items.price", "items"."createdAt" AS "items.createdAt", "items"."updatedAt" AS "items.updatedAt", "items->drink"."id" AS "items.drink.id", "items->drink"."name" AS "items.drink.name", "items->drink"."description" AS "items.drink.description", "items->drink"."price" AS "items.drink.price", "items->drink"."image" AS "items.drink.image", "items->drink"."categoryId" AS "items.drink.categoryId", "items->drink"."subCategoryId" AS "items.drink.subCategoryId", "items->drink"."isAvailable" AS "items.drink.isAvailable", "items->drink"."isPopular" AS "items.drink.isPopular", "items->drink"."isOnOffer" AS "items.drink.isOnOffer", "items->drink"."limitedTimeOffer" AS "items.drink.limitedTimeOffer", "items->drink"."originalPrice" AS "items.drink.originalPrice", "items->drink"."capacity" AS "items.drink.capacity", "items->drink"."capacityPricing" AS "items.drink.capacityPricing", "items->drink"."abv" AS "items.drink.abv", "items->drink"."createdAt" AS "items.drink.createdAt", "items->drink"."updatedAt" AS "items.drink.updatedAt", "transactions"."id" AS "transactions.id", "transactions"."orderId" AS "transactions.orderId", "transactions"."driverId" AS "transactions.driverId", "transactions"."driverWalletId" AS "transactions.driverWalletId", "transactions"."transactionType" AS "transactions.transactionType", "transactions"."paymentMethod" AS "transactions.paymentMethod", "transactions"."paymentProvider" AS "transactions.paymentProvider", "transactions"."amount" AS "transactions.amount", "transactions"."status" AS "transactions.status", "transactions"."paymentStatus" AS "transactions.paymentStatus", "transactions"."receiptNumber" AS "transactions.receiptNumber", "transactions"."checkoutRequestID" AS "transactions.checkoutRequestID", "transactions"."merchantRequestID" AS "transactions.merchantRequestID", "transactions"."phoneNumber" AS "transactions.phoneNumber", "transactions"."transactionDate" AS "transactions.transactionDate", "transactions"."notes" AS "transactions.notes", "transactions"."createdAt" AS "transactions.createdAt", "transactions"."updatedAt" AS "transactions.updatedAt", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."phoneNumber" AS "driver.phoneNumber", "driver"."status" AS "driver.status" FROM "orders" AS "Order" LEFT OUTER JOIN "order_items" AS "items" ON "Order"."id" = "items"."orderId" LEFT OUTER JOIN "drinks" AS "items->drink" ON "items"."drinkId" = "items->drink"."id" LEFT OUTER JOIN "transactions" AS "transactions" ON "Order"."id" = "transactions"."orderId" LEFT OUTER JOIN "drivers" AS "driver" ON "Order"."driverId" = "driver"."id" ORDER BY "Order"."createdAt" DESC;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "Order"."id", "Order"."customerName", "Order"."customerPhone", "Order"."customerEmail", "Order"."deliveryAddress", "Order"."totalAmount", "Order"."tipAmount", "Order"."status", "Order"."paymentStatus", "Order"."notes", "Order"."paymentType", "Order"."paymentMethod", "Order"."driverId", "Order"."driverAccepted", "Order"."driverPayCredited", "Order"."driverPayCreditedAt", "Order"."driverPayAmount", "Order"."createdAt", "Order"."updatedAt", "orderItems"."id" AS "orderItems.id", "orderItems"."orderId" AS "orderItems.orderId", "orderItems"."drinkId" AS "orderItems.drinkId", "orderItems"."quantity" AS "orderItems.quantity", "orderItems"."price" AS "orderItems.price", "orderItems"."createdAt" AS "orderItems.createdAt", "orderItems"."updatedAt" AS "orderItems.updatedAt", "orderItems->drink"."id" AS "orderItems.drink.id", "orderItems->drink"."name" AS "orderItems.drink.name", "orderItems->drink"."description" AS "orderItems.drink.description", "orderItems->drink"."price" AS "orderItems.drink.price", "orderItems->drink"."image" AS "orderItems.drink.image", "orderItems->drink"."categoryId" AS "orderItems.drink.categoryId", "orderItems->drink"."subCategoryId" AS "orderItems.drink.subCategoryId", "orderItems->drink"."isAvailable" AS "orderItems.drink.isAvailable", "orderItems->drink"."isPopular" AS "orderItems.drink.isPopular", "orderItems->drink"."isOnOffer" AS "orderItems.drink.isOnOffer", "orderItems->drink"."limitedTimeOffer" AS "orderItems.drink.limitedTimeOffer", "orderItems->drink"."originalPrice" AS "orderItems.drink.originalPrice", "orderItems->drink"."capacity" AS "orderItems.drink.capacity", "orderItems->drink"."capacityPricing" AS "orderItems.drink.capacityPricing", "orderItems->drink"."abv" AS "orderItems.drink.abv", "orderItems->drink"."createdAt" AS "orderItems.drink.createdAt", "orderItems->drink"."updatedAt" AS "orderItems.drink.updatedAt" FROM "orders" AS "Order" LEFT OUTER JOIN "order_items" AS "orderItems" ON "Order"."id" = "orderItems"."orderId" LEFT OUTER JOIN "drinks" AS "orderItems->drink" ON "orderItems"."drinkId" = "orderItems->drink"."id" WHERE "Order"."id" = '148';
Executing (default): UPDATE "orders" SET "driverAccepted"=$1,"updatedAt"=$2 WHERE "id" = $3
Executing (default): SELECT "Order"."id", "Order"."customerName", "Order"."customerPhone", "Order"."customerEmail", "Order"."deliveryAddress", "Order"."totalAmount", "Order"."tipAmount", "Order"."status", "Order"."paymentStatus", "Order"."notes", "Order"."paymentType", "Order"."paymentMethod", "Order"."driverId", "Order"."driverAccepted", "Order"."driverPayCredited", "Order"."driverPayCreditedAt", "Order"."driverPayAmount", "Order"."createdAt", "Order"."updatedAt", "items"."id" AS "items.id", "items"."orderId" AS "items.orderId", "items"."drinkId" AS "items.drinkId", "items"."quantity" AS "items.quantity", "items"."price" AS "items.price", "items"."createdAt" AS "items.createdAt", "items"."updatedAt" AS "items.updatedAt", "items->drink"."id" AS "items.drink.id", "items->drink"."name" AS "items.drink.name", "items->drink"."description" AS "items.drink.description", "items->drink"."price" AS "items.drink.price", "items->drink"."image" AS "items.drink.image", "items->drink"."categoryId" AS "items.drink.categoryId", "items->drink"."subCategoryId" AS "items.drink.subCategoryId", "items->drink"."isAvailable" AS "items.drink.isAvailable", "items->drink"."isPopular" AS "items.drink.isPopular", "items->drink"."isOnOffer" AS "items.drink.isOnOffer", "items->drink"."limitedTimeOffer" AS "items.drink.limitedTimeOffer", "items->drink"."originalPrice" AS "items.drink.originalPrice", "items->drink"."capacity" AS "items.drink.capacity", "items->drink"."capacityPricing" AS "items.drink.capacityPricing", "items->drink"."abv" AS "items.drink.abv", "items->drink"."createdAt" AS "items.drink.createdAt", "items->drink"."updatedAt" AS "items.drink.updatedAt", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."phoneNumber" AS "driver.phoneNumber", "driver"."pushToken" AS "driver.pushToken", "driver"."status" AS "driver.status", "driver"."lastActivity" AS "driver.lastActivity", "driver"."pinHash" AS "driver.pinHash", "driver"."createdAt" AS "driver.createdAt", "driver"."updatedAt" AS "driver.updatedAt" FROM "orders" AS "Order" LEFT OUTER JOIN "order_items" AS "items" ON "Order"."id" = "items"."orderId" LEFT OUTER JOIN "drinks" AS "items->drink" ON "items"."drinkId" = "items->drink"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Order"."driverId" = "driver"."id" WHERE "Order"."id" = 148;
Executing (default): SELECT "id", "name", "phoneNumber", "pushToken", "status", "lastActivity", "pinHash", "createdAt", "updatedAt" FROM "drivers" AS "Driver" WHERE "Driver"."phoneNumber" = '254727893741';
Executing (default): SELECT "id", "name", "phoneNumber", "pushToken", "status", "lastActivity", "pinHash", "createdAt", "updatedAt" FROM "drivers" AS "Driver" WHERE "Driver"."phoneNumber" = '0727893741';
Executing (default): SELECT "id", "name", "phoneNumber", "pushToken", "status", "lastActivity", "pinHash", "createdAt", "updatedAt" FROM "drivers" AS "Driver" WHERE "Driver"."phoneNumber" = '254727893741';
Executing (default): SELECT "id", "name", "phoneNumber", "pushToken", "status", "lastActivity", "pinHash", "createdAt", "updatedAt" FROM "drivers" AS "Driver" WHERE "Driver"."phoneNumber" = '0727893741';
Executing (default): SELECT "Order"."id", "Order"."customerName", "Order"."customerPhone", "Order"."customerEmail", "Order"."deliveryAddress", "Order"."totalAmount", "Order"."tipAmount", "Order"."status", "Order"."paymentStatus", "Order"."notes", "Order"."paymentType", "Order"."paymentMethod", "Order"."driverId", "Order"."driverAccepted", "Order"."driverPayCredited", "Order"."driverPayCreditedAt", "Order"."driverPayAmount", "Order"."createdAt", "Order"."updatedAt", "items"."id" AS "items.id", "items"."orderId" AS "items.orderId", "items"."drinkId" AS "items.drinkId", "items"."quantity" AS "items.quantity", "items"."price" AS "items.price", "items"."createdAt" AS "items.createdAt", "items"."updatedAt" AS "items.updatedAt", "items->drink"."id" AS "items.drink.id", "items->drink"."name" AS "items.drink.name", "items->drink"."description" AS "items.drink.description", "items->drink"."price" AS "items.drink.price", "items->drink"."image" AS "items.drink.image", "items->drink"."categoryId" AS "items.drink.categoryId", "items->drink"."subCategoryId" AS "items.drink.subCategoryId", "items->drink"."isAvailable" AS "items.drink.isAvailable", "items->drink"."isPopular" AS "items.drink.isPopular", "items->drink"."isOnOffer" AS "items.drink.isOnOffer", "items->drink"."limitedTimeOffer" AS "items.drink.limitedTimeOffer", "items->drink"."originalPrice" AS "items.drink.originalPrice", "items->drink"."capacity" AS "items.drink.capacity", "items->drink"."capacityPricing" AS "items.drink.capacityPricing", "items->drink"."abv" AS "items.drink.abv", "items->drink"."createdAt" AS "items.drink.createdAt", "items->drink"."updatedAt" AS "items.drink.updatedAt" FROM "orders" AS "Order" LEFT OUTER JOIN "order_items" AS "items" ON "Order"."id" = "items"."orderId" LEFT OUTER JOIN "drinks" AS "items->drink" ON "items"."drinkId" = "items->drink"."id" WHERE "Order"."driverId" = 2 ORDER BY "Order"."createdAt" DESC;
Executing (default): SELECT "Order"."id", "Order"."customerName", "Order"."customerPhone", "Order"."customerEmail", "Order"."deliveryAddress", "Order"."totalAmount", "Order"."tipAmount", "Order"."status", "Order"."paymentStatus", "Order"."notes", "Order"."paymentType", "Order"."paymentMethod", "Order"."driverId", "Order"."driverAccepted", "Order"."driverPayCredited", "Order"."driverPayCreditedAt", "Order"."driverPayAmount", "Order"."createdAt", "Order"."updatedAt", "items"."id" AS "items.id", "items"."orderId" AS "items.orderId", "items"."drinkId" AS "items.drinkId", "items"."quantity" AS "items.quantity", "items"."price" AS "items.price", "items"."createdAt" AS "items.createdAt", "items"."updatedAt" AS "items.updatedAt", "items->drink"."id" AS "items.drink.id", "items->drink"."name" AS "items.drink.name", "items->drink"."description" AS "items.drink.description", "items->drink"."price" AS "items.drink.price", "items->drink"."image" AS "items.drink.image", "items->drink"."categoryId" AS "items.drink.categoryId", "items->drink"."subCategoryId" AS "items.drink.subCategoryId", "items->drink"."isAvailable" AS "items.drink.isAvailable", "items->drink"."isPopular" AS "items.drink.isPopular", "items->drink"."isOnOffer" AS "items.drink.isOnOffer", "items->drink"."limitedTimeOffer" AS "items.drink.limitedTimeOffer", "items->drink"."originalPrice" AS "items.drink.originalPrice", "items->drink"."capacity" AS "items.drink.capacity", "items->drink"."capacityPricing" AS "items.drink.capacityPricing", "items->drink"."abv" AS "items.drink.abv", "items->drink"."createdAt" AS "items.drink.createdAt", "items->drink"."updatedAt" AS "items.drink.updatedAt" FROM "orders" AS "Order" LEFT OUTER JOIN "order_items" AS "items" ON "Order"."id" = "items"."orderId" LEFT OUTER JOIN "drinks" AS "items->drink" ON "items"."drinkId" = "items->drink"."id" WHERE "Order"."driverId" = 2 ORDER BY "Order"."createdAt" DESC;
Client connected: 4ds_1IPYE54KCa1CAAAk
Client 4ds_1IPYE54KCa1CAAAk joined driver room: driver-2
Client connected: JpAuGJkCJclPeFwOAAAm
Client JpAuGJkCJclPeFwOAAAm joined room: order-148
Client disconnected: JpAuGJkCJclPeFwOAAAm
Client connected: bGUdTmxzSEIvhzYuAAAo
Client bGUdTmxzSEIvhzYuAAAo joined room: order-148
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Client disconnected: bGUdTmxzSEIvhzYuAAAo
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT "id", "customerName", "customerPhone", "customerEmail", "deliveryAddress", "totalAmount", "tipAmount", "status", "paymentStatus", "notes", "paymentType", "paymentMethod", "driverId", "driverAccepted", "driverPayCredited", "driverPayCreditedAt", "driverPayAmount", "createdAt", "updatedAt" FROM "orders" AS "Order" WHERE "Order"."id" = '148';
Executing (default): UPDATE "orders" SET "status"=$1,"updatedAt"=$2 WHERE "id" = $3
Executing (default): SELECT "id", "customerName", "customerPhone", "customerEmail", "deliveryAddress", "totalAmount", "tipAmount", "status", "paymentStatus", "notes", "paymentType", "paymentMethod", "driverId", "driverAccepted", "driverPayCredited", "driverPayCreditedAt", "driverPayAmount", "createdAt", "updatedAt" FROM "orders" AS "Order" WHERE "Order"."id" = 148;
Executing (default): SELECT "Order"."id", "Order"."customerName", "Order"."customerPhone", "Order"."customerEmail", "Order"."deliveryAddress", "Order"."totalAmount", "Order"."tipAmount", "Order"."status", "Order"."paymentStatus", "Order"."notes", "Order"."paymentType", "Order"."paymentMethod", "Order"."driverId", "Order"."driverAccepted", "Order"."driverPayCredited", "Order"."driverPayCreditedAt", "Order"."driverPayAmount", "Order"."createdAt", "Order"."updatedAt", "items"."id" AS "items.id", "items"."orderId" AS "items.orderId", "items"."drinkId" AS "items.drinkId", "items"."quantity" AS "items.quantity", "items"."price" AS "items.price", "items"."createdAt" AS "items.createdAt", "items"."updatedAt" AS "items.updatedAt" FROM "orders" AS "Order" LEFT OUTER JOIN "order_items" AS "items" ON "Order"."id" = "items"."orderId" WHERE "Order"."id" = 148;
Executing (default): SELECT "id", "orderId", "driverId", "driverWalletId", "transactionType", "paymentMethod", "paymentProvider", "amount", "status", "paymentStatus", "receiptNumber", "checkoutRequestID", "merchantRequestID", "phoneNumber", "transactionDate", "notes", "createdAt", "updatedAt" FROM "transactions" AS "Transaction" WHERE "Transaction"."orderId" = 148 AND "Transaction"."transactionType" = 'payment' AND "Transaction"."status" = 'completed' ORDER BY "Transaction"."transactionDate" DESC, "Transaction"."createdAt" DESC LIMIT 1;
Executing (default): SELECT "id", "key", "value", "createdAt", "updatedAt" FROM "settings" AS "Settings" WHERE "Settings"."key" = 'driverPayPerDeliveryEnabled';
Executing (default): SELECT "id", "key", "value", "createdAt", "updatedAt" FROM "settings" AS "Settings" WHERE "Settings"."key" = 'driverPayPerDeliveryAmount';
Executing (default): SELECT "id", "orderId", "driverId", "driverWalletId", "transactionType", "paymentMethod", "paymentProvider", "amount", "status", "paymentStatus", "receiptNumber", "checkoutRequestID", "merchantRequestID", "phoneNumber", "transactionDate", "notes", "createdAt", "updatedAt" FROM "transactions" AS "Transaction" WHERE "Transaction"."orderId" = 148 AND "Transaction"."transactionType" = 'delivery_pay' ORDER BY "Transaction"."updatedAt" DESC, "Transaction"."createdAt" DESC;
Executing (default): UPDATE "transactions" SET "amount"=$1,"notes"=$2,"updatedAt"=$3 WHERE "id" = $4
Executing (default): SELECT "id", "driverId", "balance", "totalTipsReceived", "totalTipsCount", "totalDeliveryPay", "totalDeliveryPayCount", "createdAt", "updatedAt" FROM "driver_wallets" AS "DriverWallet" WHERE "DriverWallet"."driverId" = 2;
Executing (default): UPDATE "transactions" SET "amount"=$1,"notes"=$2,"updatedAt"=$3 WHERE "id" = $4
Executing (default): UPDATE "orders" SET "driverPayAmount"=$1,"updatedAt"=$2 WHERE "id" = $3
Executing (default): SELECT "Order"."id", "Order"."customerName", "Order"."customerPhone", "Order"."customerEmail", "Order"."deliveryAddress", "Order"."totalAmount", "Order"."tipAmount", "Order"."status", "Order"."paymentStatus", "Order"."notes", "Order"."paymentType", "Order"."paymentMethod", "Order"."driverId", "Order"."driverAccepted", "Order"."driverPayCredited", "Order"."driverPayCreditedAt", "Order"."driverPayAmount", "Order"."createdAt", "Order"."updatedAt", "items"."id" AS "items.id", "items"."orderId" AS "items.orderId", "items"."drinkId" AS "items.drinkId", "items"."quantity" AS "items.quantity", "items"."price" AS "items.price", "items"."createdAt" AS "items.createdAt", "items"."updatedAt" AS "items.updatedAt", "items->drink"."id" AS "items.drink.id", "items->drink"."name" AS "items.drink.name", "items->drink"."description" AS "items.drink.description", "items->drink"."price" AS "items.drink.price", "items->drink"."image" AS "items.drink.image", "items->drink"."categoryId" AS "items.drink.categoryId", "items->drink"."subCategoryId" AS "items.drink.subCategoryId", "items->drink"."isAvailable" AS "items.drink.isAvailable", "items->drink"."isPopular" AS "items.drink.isPopular", "items->drink"."isOnOffer" AS "items.drink.isOnOffer", "items->drink"."limitedTimeOffer" AS "items.drink.limitedTimeOffer", "items->drink"."originalPrice" AS "items.drink.originalPrice", "items->drink"."capacity" AS "items.drink.capacity", "items->drink"."capacityPricing" AS "items.drink.capacityPricing", "items->drink"."abv" AS "items.drink.abv", "items->drink"."createdAt" AS "items.drink.createdAt", "items->drink"."updatedAt" AS "items.drink.updatedAt", "transactions"."id" AS "transactions.id", "transactions"."orderId" AS "transactions.orderId", "transactions"."driverId" AS "transactions.driverId", "transactions"."driverWalletId" AS "transactions.driverWalletId", "transactions"."transactionType" AS "transactions.transactionType", "transactions"."paymentMethod" AS "transactions.paymentMethod", "transactions"."paymentProvider" AS "transactions.paymentProvider", "transactions"."amount" AS "transactions.amount", "transactions"."status" AS "transactions.status", "transactions"."paymentStatus" AS "transactions.paymentStatus", "transactions"."receiptNumber" AS "transactions.receiptNumber", "transactions"."checkoutRequestID" AS "transactions.checkoutRequestID", "transactions"."merchantRequestID" AS "transactions.merchantRequestID", "transactions"."phoneNumber" AS "transactions.phoneNumber", "transactions"."transactionDate" AS "transactions.transactionDate", "transactions"."notes" AS "transactions.notes", "transactions"."createdAt" AS "transactions.createdAt", "transactions"."updatedAt" AS "transactions.updatedAt", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."phoneNumber" AS "driver.phoneNumber", "driver"."pushToken" AS "driver.pushToken", "driver"."status" AS "driver.status", "driver"."lastActivity" AS "driver.lastActivity", "driver"."pinHash" AS "driver.pinHash", "driver"."createdAt" AS "driver.createdAt", "driver"."updatedAt" AS "driver.updatedAt" FROM "orders" AS "Order" LEFT OUTER JOIN "order_items" AS "items" ON "Order"."id" = "items"."orderId" LEFT OUTER JOIN "drinks" AS "items->drink" ON "items"."drinkId" = "items->drink"."id" LEFT OUTER JOIN "transactions" AS "transactions" ON "Order"."id" = "transactions"."orderId" LEFT OUTER JOIN "drivers" AS "driver" ON "Order"."driverId" = "driver"."id" WHERE "Order"."id" = 148;
Client connected: 4kk_JG5FAwNuaHV6AAAq
Client 4kk_JG5FAwNuaHV6AAAq joined room: order-148
Executing (default): SELECT "Order"."id", "Order"."customerName", "Order"."customerPhone", "Order"."customerEmail", "Order"."deliveryAddress", "Order"."totalAmount", "Order"."tipAmount", "Order"."status", "Order"."paymentStatus", "Order"."notes", "Order"."paymentType", "Order"."paymentMethod", "Order"."driverId", "Order"."driverAccepted", "Order"."driverPayCredited", "Order"."driverPayCreditedAt", "Order"."driverPayAmount", "Order"."createdAt", "Order"."updatedAt", "orderItems"."id" AS "orderItems.id", "orderItems"."orderId" AS "orderItems.orderId", "orderItems"."drinkId" AS "orderItems.drinkId", "orderItems"."quantity" AS "orderItems.quantity", "orderItems"."price" AS "orderItems.price", "orderItems"."createdAt" AS "orderItems.createdAt", "orderItems"."updatedAt" AS "orderItems.updatedAt" FROM "orders" AS "Order" LEFT OUTER JOIN "order_items" AS "orderItems" ON "Order"."id" = "orderItems"."orderId" WHERE "Order"."id" = '148';
Executing (default): UPDATE "orders" SET "status"=$1,"updatedAt"=$2 WHERE "id" = $3
Executing (default): SELECT "id", "name", "phoneNumber", "pushToken", "status", "lastActivity", "pinHash", "createdAt", "updatedAt" FROM "drivers" AS "Driver" WHERE "Driver"."id" = 2;
Executing (default): UPDATE "drivers" SET "status"=$1,"lastActivity"=$2,"updatedAt"=$3 WHERE "id" = $4
Executing (default): SELECT "Order"."id", "Order"."customerName", "Order"."customerPhone", "Order"."customerEmail", "Order"."deliveryAddress", "Order"."totalAmount", "Order"."tipAmount", "Order"."status", "Order"."paymentStatus", "Order"."notes", "Order"."paymentType", "Order"."paymentMethod", "Order"."driverId", "Order"."driverAccepted", "Order"."driverPayCredited", "Order"."driverPayCreditedAt", "Order"."driverPayAmount", "Order"."createdAt", "Order"."updatedAt", "orderItems"."id" AS "orderItems.id", "orderItems"."orderId" AS "orderItems.orderId", "orderItems"."drinkId" AS "orderItems.drinkId", "orderItems"."quantity" AS "orderItems.quantity", "orderItems"."price" AS "orderItems.price", "orderItems"."createdAt" AS "orderItems.createdAt", "orderItems"."updatedAt" AS "orderItems.updatedAt", "orderItems->drink"."id" AS "orderItems.drink.id", "orderItems->drink"."name" AS "orderItems.drink.name", "orderItems->drink"."description" AS "orderItems.drink.description", "orderItems->drink"."price" AS "orderItems.drink.price", "orderItems->drink"."image" AS "orderItems.drink.image", "orderItems->drink"."categoryId" AS "orderItems.drink.categoryId", "orderItems->drink"."subCategoryId" AS "orderItems.drink.subCategoryId", "orderItems->drink"."isAvailable" AS "orderItems.drink.isAvailable", "orderItems->drink"."isPopular" AS "orderItems.drink.isPopular", "orderItems->drink"."isOnOffer" AS "orderItems.drink.isOnOffer", "orderItems->drink"."limitedTimeOffer" AS "orderItems.drink.limitedTimeOffer", "orderItems->drink"."originalPrice" AS "orderItems.drink.originalPrice", "orderItems->drink"."capacity" AS "orderItems.drink.capacity", "orderItems->drink"."capacityPricing" AS "orderItems.drink.capacityPricing", "orderItems->drink"."abv" AS "orderItems.drink.abv", "orderItems->drink"."createdAt" AS "orderItems.drink.createdAt", "orderItems->drink"."updatedAt" AS "orderItems.drink.updatedAt" FROM "orders" AS "Order" LEFT OUTER JOIN "order_items" AS "orderItems" ON "Order"."id" = "orderItems"."orderId" LEFT OUTER JOIN "drinks" AS "orderItems->drink" ON "orderItems"."drinkId" = "orderItems->drink"."id" WHERE "Order"."id" = 148;
Executing (default): SELECT "Order"."id", "Order"."customerName", "Order"."customerPhone", "Order"."customerEmail", "Order"."deliveryAddress", "Order"."totalAmount", "Order"."tipAmount", "Order"."status", "Order"."paymentStatus", "Order"."notes", "Order"."paymentType", "Order"."paymentMethod", "Order"."driverId", "Order"."driverAccepted", "Order"."driverPayCredited", "Order"."driverPayCreditedAt", "Order"."driverPayAmount", "Order"."createdAt", "Order"."updatedAt", "orderItems"."id" AS "orderItems.id", "orderItems"."orderId" AS "orderItems.orderId", "orderItems"."drinkId" AS "orderItems.drinkId", "orderItems"."quantity" AS "orderItems.quantity", "orderItems"."price" AS "orderItems.price", "orderItems"."createdAt" AS "orderItems.createdAt", "orderItems"."updatedAt" AS "orderItems.updatedAt", "orderItems->drink"."id" AS "orderItems.drink.id", "orderItems->drink"."name" AS "orderItems.drink.name", "orderItems->drink"."description" AS "orderItems.drink.description", "orderItems->drink"."price" AS "orderItems.drink.price", "orderItems->drink"."image" AS "orderItems.drink.image", "orderItems->drink"."categoryId" AS "orderItems.drink.categoryId", "orderItems->drink"."subCategoryId" AS "orderItems.drink.subCategoryId", "orderItems->drink"."isAvailable" AS "orderItems.drink.isAvailable", "orderItems->drink"."isPopular" AS "orderItems.drink.isPopular", "orderItems->drink"."isOnOffer" AS "orderItems.drink.isOnOffer", "orderItems->drink"."limitedTimeOffer" AS "orderItems.drink.limitedTimeOffer", "orderItems->drink"."originalPrice" AS "orderItems.drink.originalPrice", "orderItems->drink"."capacity" AS "orderItems.drink.capacity", "orderItems->drink"."capacityPricing" AS "orderItems.drink.capacityPricing", "orderItems->drink"."abv" AS "orderItems.drink.abv", "orderItems->drink"."createdAt" AS "orderItems.drink.createdAt", "orderItems->drink"."updatedAt" AS "orderItems.drink.updatedAt" FROM "orders" AS "Order" LEFT OUTER JOIN "order_items" AS "orderItems" ON "Order"."id" = "orderItems"."orderId" LEFT OUTER JOIN "drinks" AS "orderItems->drink" ON "orderItems"."drinkId" = "orderItems->drink"."id" WHERE "Order"."id" = 148;
üì° Emitting order-status-updated for Order #148
   Status: preparing ‚Üí out_for_delivery
   PaymentStatus: paid
üì° Also emitted to driver-2 room
üì° Emitted order-status-updated to admin room for Order #148: preparing ‚Üí out_for_delivery
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "Order"."id", "Order"."customerName", "Order"."customerPhone", "Order"."customerEmail", "Order"."deliveryAddress", "Order"."totalAmount", "Order"."tipAmount", "Order"."status", "Order"."paymentStatus", "Order"."notes", "Order"."paymentType", "Order"."paymentMethod", "Order"."driverId", "Order"."driverAccepted", "Order"."driverPayCredited", "Order"."driverPayCreditedAt", "Order"."driverPayAmount", "Order"."createdAt", "Order"."updatedAt", "orderItems"."id" AS "orderItems.id", "orderItems"."orderId" AS "orderItems.orderId", "orderItems"."drinkId" AS "orderItems.drinkId", "orderItems"."quantity" AS "orderItems.quantity", "orderItems"."price" AS "orderItems.price", "orderItems"."createdAt" AS "orderItems.createdAt", "orderItems"."updatedAt" AS "orderItems.updatedAt" FROM "orders" AS "Order" LEFT OUTER JOIN "order_items" AS "orderItems" ON "Order"."id" = "orderItems"."orderId" WHERE "Order"."id" = '148';
Executing (default): UPDATE "orders" SET "status"=$1,"updatedAt"=$2 WHERE "id" = $3
Executing (default): SELECT "id", "name", "phoneNumber", "pushToken", "status", "lastActivity", "pinHash", "createdAt", "updatedAt" FROM "drivers" AS "Driver" WHERE "Driver"."id" = 2;
Executing (default): UPDATE "drivers" SET "status"=$1,"lastActivity"=$2,"updatedAt"=$3 WHERE "id" = $4
Executing (default): SELECT "Order"."id", "Order"."customerName", "Order"."customerPhone", "Order"."customerEmail", "Order"."deliveryAddress", "Order"."totalAmount", "Order"."tipAmount", "Order"."status", "Order"."paymentStatus", "Order"."notes", "Order"."paymentType", "Order"."paymentMethod", "Order"."driverId", "Order"."driverAccepted", "Order"."driverPayCredited", "Order"."driverPayCreditedAt", "Order"."driverPayAmount", "Order"."createdAt", "Order"."updatedAt", "orderItems"."id" AS "orderItems.id", "orderItems"."orderId" AS "orderItems.orderId", "orderItems"."drinkId" AS "orderItems.drinkId", "orderItems"."quantity" AS "orderItems.quantity", "orderItems"."price" AS "orderItems.price", "orderItems"."createdAt" AS "orderItems.createdAt", "orderItems"."updatedAt" AS "orderItems.updatedAt" FROM "orders" AS "Order" LEFT OUTER JOIN "order_items" AS "orderItems" ON "Order"."id" = "orderItems"."orderId" WHERE "Order"."id" = 148;
Executing (default): SELECT "Order"."id", "Order"."customerName", "Order"."customerPhone", "Order"."customerEmail", "Order"."deliveryAddress", "Order"."totalAmount", "Order"."tipAmount", "Order"."status", "Order"."paymentStatus", "Order"."notes", "Order"."paymentType", "Order"."paymentMethod", "Order"."driverId", "Order"."driverAccepted", "Order"."driverPayCredited", "Order"."driverPayCreditedAt", "Order"."driverPayAmount", "Order"."createdAt", "Order"."updatedAt", "items"."id" AS "items.id", "items"."orderId" AS "items.orderId", "items"."drinkId" AS "items.drinkId", "items"."quantity" AS "items.quantity", "items"."price" AS "items.price", "items"."createdAt" AS "items.createdAt", "items"."updatedAt" AS "items.updatedAt" FROM "orders" AS "Order" LEFT OUTER JOIN "order_items" AS "items" ON "Order"."id" = "items"."orderId" WHERE "Order"."id" = 148;
Executing (default): SELECT "id", "orderId", "driverId", "driverWalletId", "transactionType", "paymentMethod", "paymentProvider", "amount", "status", "paymentStatus", "receiptNumber", "checkoutRequestID", "merchantRequestID", "phoneNumber", "transactionDate", "notes", "createdAt", "updatedAt" FROM "transactions" AS "Transaction" WHERE "Transaction"."orderId" = 148 AND "Transaction"."transactionType" = 'payment' AND "Transaction"."status" = 'completed' ORDER BY "Transaction"."transactionDate" DESC, "Transaction"."createdAt" DESC LIMIT 1;
Executing (default): SELECT "id", "key", "value", "createdAt", "updatedAt" FROM "settings" AS "Settings" WHERE "Settings"."key" = 'driverPayPerDeliveryEnabled';
Executing (default): SELECT "id", "key", "value", "createdAt", "updatedAt" FROM "settings" AS "Settings" WHERE "Settings"."key" = 'driverPayPerDeliveryAmount';
Executing (default): SELECT "id", "orderId", "driverId", "driverWalletId", "transactionType", "paymentMethod", "paymentProvider", "amount", "status", "paymentStatus", "receiptNumber", "checkoutRequestID", "merchantRequestID", "phoneNumber", "transactionDate", "notes", "createdAt", "updatedAt" FROM "transactions" AS "Transaction" WHERE "Transaction"."orderId" = 148 AND "Transaction"."transactionType" = 'delivery_pay' ORDER BY "Transaction"."updatedAt" DESC, "Transaction"."createdAt" DESC;
Executing (default): UPDATE "transactions" SET "amount"=$1,"notes"=$2,"updatedAt"=$3 WHERE "id" = $4
Executing (default): SELECT "id", "driverId", "balance", "totalTipsReceived", "totalTipsCount", "totalDeliveryPay", "totalDeliveryPayCount", "createdAt", "updatedAt" FROM "driver_wallets" AS "DriverWallet" WHERE "DriverWallet"."driverId" = 2;
Executing (default): UPDATE "transactions" SET "amount"=$1,"notes"=$2,"updatedAt"=$3 WHERE "id" = $4
Executing (default): UPDATE "orders" SET "driverPayAmount"=$1,"updatedAt"=$2 WHERE "id" = $3
Executing (default): SELECT "Order"."id", "Order"."customerName", "Order"."customerPhone", "Order"."customerEmail", "Order"."deliveryAddress", "Order"."totalAmount", "Order"."tipAmount", "Order"."status", "Order"."paymentStatus", "Order"."notes", "Order"."paymentType", "Order"."paymentMethod", "Order"."driverId", "Order"."driverAccepted", "Order"."driverPayCredited", "Order"."driverPayCreditedAt", "Order"."driverPayAmount", "Order"."createdAt", "Order"."updatedAt", "orderItems"."id" AS "orderItems.id", "orderItems"."orderId" AS "orderItems.orderId", "orderItems"."drinkId" AS "orderItems.drinkId", "orderItems"."quantity" AS "orderItems.quantity", "orderItems"."price" AS "orderItems.price", "orderItems"."createdAt" AS "orderItems.createdAt", "orderItems"."updatedAt" AS "orderItems.updatedAt", "orderItems->drink"."id" AS "orderItems.drink.id", "orderItems->drink"."name" AS "orderItems.drink.name", "orderItems->drink"."description" AS "orderItems.drink.description", "orderItems->drink"."price" AS "orderItems.drink.price", "orderItems->drink"."image" AS "orderItems.drink.image", "orderItems->drink"."categoryId" AS "orderItems.drink.categoryId", "orderItems->drink"."subCategoryId" AS "orderItems.drink.subCategoryId", "orderItems->drink"."isAvailable" AS "orderItems.drink.isAvailable", "orderItems->drink"."isPopular" AS "orderItems.drink.isPopular", "orderItems->drink"."isOnOffer" AS "orderItems.drink.isOnOffer", "orderItems->drink"."limitedTimeOffer" AS "orderItems.drink.limitedTimeOffer", "orderItems->drink"."originalPrice" AS "orderItems.drink.originalPrice", "orderItems->drink"."capacity" AS "orderItems.drink.capacity", "orderItems->drink"."capacityPricing" AS "orderItems.drink.capacityPricing", "orderItems->drink"."abv" AS "orderItems.drink.abv", "orderItems->drink"."createdAt" AS "orderItems.drink.createdAt", "orderItems->drink"."updatedAt" AS "orderItems.drink.updatedAt" FROM "orders" AS "Order" LEFT OUTER JOIN "order_items" AS "orderItems" ON "Order"."id" = "orderItems"."orderId" LEFT OUTER JOIN "drinks" AS "orderItems->drink" ON "orderItems"."drinkId" = "orderItems->drink"."id" WHERE "Order"."id" = 148;
Executing (default): SELECT "Order"."id", "Order"."customerName", "Order"."customerPhone", "Order"."customerEmail", "Order"."deliveryAddress", "Order"."totalAmount", "Order"."tipAmount", "Order"."status", "Order"."paymentStatus", "Order"."notes", "Order"."paymentType", "Order"."paymentMethod", "Order"."driverId", "Order"."driverAccepted", "Order"."driverPayCredited", "Order"."driverPayCreditedAt", "Order"."driverPayAmount", "Order"."createdAt", "Order"."updatedAt", "orderItems"."id" AS "orderItems.id", "orderItems"."orderId" AS "orderItems.orderId", "orderItems"."drinkId" AS "orderItems.drinkId", "orderItems"."quantity" AS "orderItems.quantity", "orderItems"."price" AS "orderItems.price", "orderItems"."createdAt" AS "orderItems.createdAt", "orderItems"."updatedAt" AS "orderItems.updatedAt", "orderItems->drink"."id" AS "orderItems.drink.id", "orderItems->drink"."name" AS "orderItems.drink.name", "orderItems->drink"."description" AS "orderItems.drink.description", "orderItems->drink"."price" AS "orderItems.drink.price", "orderItems->drink"."image" AS "orderItems.drink.image", "orderItems->drink"."categoryId" AS "orderItems.drink.categoryId", "orderItems->drink"."subCategoryId" AS "orderItems.drink.subCategoryId", "orderItems->drink"."isAvailable" AS "orderItems.drink.isAvailable", "orderItems->drink"."isPopular" AS "orderItems.drink.isPopular", "orderItems->drink"."isOnOffer" AS "orderItems.drink.isOnOffer", "orderItems->drink"."limitedTimeOffer" AS "orderItems.drink.limitedTimeOffer", "orderItems->drink"."originalPrice" AS "orderItems.drink.originalPrice", "orderItems->drink"."capacity" AS "orderItems.drink.capacity", "orderItems->drink"."capacityPricing" AS "orderItems.drink.capacityPricing", "orderItems->drink"."abv" AS "orderItems.drink.abv", "orderItems->drink"."createdAt" AS "orderItems.drink.createdAt", "orderItems->drink"."updatedAt" AS "orderItems.drink.updatedAt" FROM "orders" AS "Order" LEFT OUTER JOIN "order_items" AS "orderItems" ON "Order"."id" = "orderItems"."orderId" LEFT OUTER JOIN "drinks" AS "orderItems->drink" ON "orderItems"."drinkId" = "orderItems->drink"."id" WHERE "Order"."id" = 148;
üì° Emitting order-status-updated for Order #148
   Status: out_for_delivery ‚Üí completed
   PaymentStatus: paid
üì° Also emitted to driver-2 room
üì° Emitted order-status-updated to admin room for Order #148: out_for_delivery ‚Üí completed
Executing (default): SELECT "Order"."id", "Order"."customerName", "Order"."customerPhone", "Order"."customerEmail", "Order"."deliveryAddress", "Order"."totalAmount", "Order"."tipAmount", "Order"."status", "Order"."paymentStatus", "Order"."notes", "Order"."paymentType", "Order"."paymentMethod", "Order"."driverId", "Order"."driverAccepted", "Order"."driverPayCredited", "Order"."driverPayCreditedAt", "Order"."driverPayAmount", "Order"."createdAt", "Order"."updatedAt", "orderItems"."id" AS "orderItems.id", "orderItems"."orderId" AS "orderItems.orderId", "orderItems"."drinkId" AS "orderItems.drinkId", "orderItems"."quantity" AS "orderItems.quantity", "orderItems"."price" AS "orderItems.price", "orderItems"."createdAt" AS "orderItems.createdAt", "orderItems"."updatedAt" AS "orderItems.updatedAt" FROM "orders" AS "Order" LEFT OUTER JOIN "order_items" AS "orderItems" ON "Order"."id" = "orderItems"."orderId" WHERE "Order"."id" = '148';
Client disconnected: 4kk_JG5FAwNuaHV6AAAq
Executing (default): SELECT "id", "name", "phoneNumber", "pushToken", "status", "lastActivity", "pinHash", "createdAt", "updatedAt" FROM "drivers" AS "Driver" WHERE "Driver"."phoneNumber" = '254727893741';
Executing (default): SELECT "id", "name", "phoneNumber", "pushToken", "status", "lastActivity", "pinHash", "createdAt", "updatedAt" FROM "drivers" AS "Driver" WHERE "Driver"."phoneNumber" = '0727893741';
Executing (default): SELECT "Order"."id", "Order"."customerName", "Order"."customerPhone", "Order"."customerEmail", "Order"."deliveryAddress", "Order"."totalAmount", "Order"."tipAmount", "Order"."status", "Order"."paymentStatus", "Order"."notes", "Order"."paymentType", "Order"."paymentMethod", "Order"."driverId", "Order"."driverAccepted", "Order"."driverPayCredited", "Order"."driverPayCreditedAt", "Order"."driverPayAmount", "Order"."createdAt", "Order"."updatedAt", "items"."id" AS "items.id", "items"."orderId" AS "items.orderId", "items"."drinkId" AS "items.drinkId", "items"."quantity" AS "items.quantity", "items"."price" AS "items.price", "items"."createdAt" AS "items.createdAt", "items"."updatedAt" AS "items.updatedAt", "items->drink"."id" AS "items.drink.id", "items->drink"."name" AS "items.drink.name", "items->drink"."description" AS "items.drink.description", "items->drink"."price" AS "items.drink.price", "items->drink"."image" AS "items.drink.image", "items->drink"."categoryId" AS "items.drink.categoryId", "items->drink"."subCategoryId" AS "items.drink.subCategoryId", "items->drink"."isAvailable" AS "items.drink.isAvailable", "items->drink"."isPopular" AS "items.drink.isPopular", "items->drink"."isOnOffer" AS "items.drink.isOnOffer", "items->drink"."limitedTimeOffer" AS "items.drink.limitedTimeOffer", "items->drink"."originalPrice" AS "items.drink.originalPrice", "items->drink"."capacity" AS "items.drink.capacity", "items->drink"."capacityPricing" AS "items.drink.capacityPricing", "items->drink"."abv" AS "items.drink.abv", "items->drink"."createdAt" AS "items.drink.createdAt", "items->drink"."updatedAt" AS "items.drink.updatedAt" FROM "orders" AS "Order" LEFT OUTER JOIN "order_items" AS "items" ON "Order"."id" = "items"."orderId" LEFT OUTER JOIN "drinks" AS "items->drink" ON "items"."drinkId" = "items->drink"."id" WHERE "Order"."driverId" = 2 ORDER BY "Order"."createdAt" DESC;
Executing (default): SELECT "id", "name", "phoneNumber", "pushToken", "status", "lastActivity", "pinHash", "createdAt", "updatedAt" FROM "drivers" AS "Driver" WHERE "Driver"."phoneNumber" = '254727893741';
Executing (default): SELECT "id", "name", "phoneNumber", "pushToken", "status", "lastActivity", "pinHash", "createdAt", "updatedAt" FROM "drivers" AS "Driver" WHERE "Driver"."phoneNumber" = '0727893741';
Executing (default): SELECT "id", "name", "phoneNumber", "pushToken", "status", "lastActivity", "pinHash", "createdAt", "updatedAt" FROM "drivers" AS "Driver" WHERE "Driver"."phoneNumber" = '254727893741';
Executing (default): SELECT "id", "name", "phoneNumber", "pushToken", "status", "lastActivity", "pinHash", "createdAt", "updatedAt" FROM "drivers" AS "Driver" WHERE "Driver"."phoneNumber" = '0727893741';
Executing (default): SELECT "DriverWallet"."id", "DriverWallet"."driverId", "DriverWallet"."balance", "DriverWallet"."totalTipsReceived", "DriverWallet"."totalTipsCount", "DriverWallet"."totalDeliveryPay", "DriverWallet"."totalDeliveryPayCount", "DriverWallet"."createdAt", "DriverWallet"."updatedAt", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."phoneNumber" AS "driver.phoneNumber" FROM "driver_wallets" AS "DriverWallet" LEFT OUTER JOIN "drivers" AS "driver" ON "DriverWallet"."driverId" = "driver"."id" WHERE "DriverWallet"."driverId" = '2';
Executing (default): SELECT "Transaction"."id", "Transaction"."orderId", "Transaction"."driverId", "Transaction"."driverWalletId", "Transaction"."transactionType", "Transaction"."paymentMethod", "Transaction"."paymentProvider", "Transaction"."amount", "Transaction"."status", "Transaction"."paymentStatus", "Transaction"."receiptNumber", "Transaction"."checkoutRequestID", "Transaction"."merchantRequestID", "Transaction"."phoneNumber", "Transaction"."transactionDate", "Transaction"."notes", "Transaction"."createdAt", "Transaction"."updatedAt", "order"."id" AS "order.id", "order"."customerName" AS "order.customerName", "order"."createdAt" AS "order.createdAt", "order"."status" AS "order.status" FROM "transactions" AS "Transaction" LEFT OUTER JOIN "orders" AS "order" ON "Transaction"."orderId" = "order"."id" WHERE "Transaction"."driverId" = '2' AND "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' ORDER BY "Transaction"."createdAt" DESC LIMIT 50;
Executing (default): SELECT "Transaction"."id", "Transaction"."orderId", "Transaction"."driverId", "Transaction"."driverWalletId", "Transaction"."transactionType", "Transaction"."paymentMethod", "Transaction"."paymentProvider", "Transaction"."amount", "Transaction"."status", "Transaction"."paymentStatus", "Transaction"."receiptNumber", "Transaction"."checkoutRequestID", "Transaction"."merchantRequestID", "Transaction"."phoneNumber", "Transaction"."transactionDate", "Transaction"."notes", "Transaction"."createdAt", "Transaction"."updatedAt", "order"."id" AS "order.id", "order"."customerName" AS "order.customerName", "order"."createdAt" AS "order.createdAt", "order"."status" AS "order.status" FROM "transactions" AS "Transaction" LEFT OUTER JOIN "orders" AS "order" ON "Transaction"."orderId" = "order"."id" WHERE "Transaction"."driverId" = '2' AND "Transaction"."transactionType" = 'delivery_pay' AND "Transaction"."driverWalletId" IS NOT NULL AND "Transaction"."status" = 'completed' ORDER BY "Transaction"."createdAt" DESC LIMIT 50;
Executing (default): SELECT "Transaction"."id", "Transaction"."orderId", "Transaction"."driverId", "Transaction"."driverWalletId", "Transaction"."transactionType", "Transaction"."paymentMethod", "Transaction"."paymentProvider", "Transaction"."amount", "Transaction"."status", "Transaction"."paymentStatus", "Transaction"."receiptNumber", "Transaction"."checkoutRequestID", "Transaction"."merchantRequestID", "Transaction"."phoneNumber", "Transaction"."transactionDate", "Transaction"."notes", "Transaction"."createdAt", "Transaction"."updatedAt", "order"."id" AS "order.id", "order"."customerName" AS "order.customerName", "order"."createdAt" AS "order.createdAt", "order"."status" AS "order.status" FROM "transactions" AS "Transaction" LEFT OUTER JOIN "orders" AS "order" ON "Transaction"."orderId" = "order"."id" WHERE "Transaction"."driverId" = '2' AND "Transaction"."transactionType" = 'cash_settlement' AND "Transaction"."status" = 'completed' ORDER BY "Transaction"."createdAt" DESC LIMIT 50;
Executing (default): SELECT "id", "orderId", "driverId", "driverWalletId", "transactionType", "paymentMethod", "paymentProvider", "amount", "status", "paymentStatus", "receiptNumber", "checkoutRequestID", "merchantRequestID", "phoneNumber", "transactionDate", "notes", "createdAt", "updatedAt" FROM "transactions" AS "Transaction" WHERE "Transaction"."driverId" = '2' AND "Transaction"."transactionType" = 'withdrawal' ORDER BY "Transaction"."createdAt" DESC LIMIT 20;
Executing (default): SELECT "id", "name", "phoneNumber", "pushToken", "status", "lastActivity", "pinHash", "createdAt", "updatedAt" FROM "drivers" AS "Driver" WHERE "Driver"."phoneNumber" = '254727893741';
Executing (default): SELECT "id", "name", "phoneNumber", "pushToken", "status", "lastActivity", "pinHash", "createdAt", "updatedAt" FROM "drivers" AS "Driver" WHERE "Driver"."phoneNumber" = '0727893741';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "name", "phoneNumber", "pushToken", "status", "lastActivity", "pinHash", "createdAt", "updatedAt" FROM "drivers" AS "Driver" WHERE "Driver"."phoneNumber" = '254727893741';
Executing (default): SELECT "id", "name", "phoneNumber", "pushToken", "status", "lastActivity", "pinHash", "createdAt", "updatedAt" FROM "drivers" AS "Driver" WHERE "Driver"."phoneNumber" = '0727893741';
Executing (default): SELECT "DriverWallet"."id", "DriverWallet"."driverId", "DriverWallet"."balance", "DriverWallet"."totalTipsReceived", "DriverWallet"."totalTipsCount", "DriverWallet"."totalDeliveryPay", "DriverWallet"."totalDeliveryPayCount", "DriverWallet"."createdAt", "DriverWallet"."updatedAt", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."phoneNumber" AS "driver.phoneNumber" FROM "driver_wallets" AS "DriverWallet" LEFT OUTER JOIN "drivers" AS "driver" ON "DriverWallet"."driverId" = "driver"."id" WHERE "DriverWallet"."driverId" = '2';
Executing (default): SELECT "Transaction"."id", "Transaction"."orderId", "Transaction"."driverId", "Transaction"."driverWalletId", "Transaction"."transactionType", "Transaction"."paymentMethod", "Transaction"."paymentProvider", "Transaction"."amount", "Transaction"."status", "Transaction"."paymentStatus", "Transaction"."receiptNumber", "Transaction"."checkoutRequestID", "Transaction"."merchantRequestID", "Transaction"."phoneNumber", "Transaction"."transactionDate", "Transaction"."notes", "Transaction"."createdAt", "Transaction"."updatedAt", "order"."id" AS "order.id", "order"."customerName" AS "order.customerName", "order"."createdAt" AS "order.createdAt", "order"."status" AS "order.status" FROM "transactions" AS "Transaction" LEFT OUTER JOIN "orders" AS "order" ON "Transaction"."orderId" = "order"."id" WHERE "Transaction"."driverId" = '2' AND "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' ORDER BY "Transaction"."createdAt" DESC LIMIT 50;
Executing (default): SELECT "Transaction"."id", "Transaction"."orderId", "Transaction"."driverId", "Transaction"."driverWalletId", "Transaction"."transactionType", "Transaction"."paymentMethod", "Transaction"."paymentProvider", "Transaction"."amount", "Transaction"."status", "Transaction"."paymentStatus", "Transaction"."receiptNumber", "Transaction"."checkoutRequestID", "Transaction"."merchantRequestID", "Transaction"."phoneNumber", "Transaction"."transactionDate", "Transaction"."notes", "Transaction"."createdAt", "Transaction"."updatedAt", "order"."id" AS "order.id", "order"."customerName" AS "order.customerName", "order"."createdAt" AS "order.createdAt", "order"."status" AS "order.status" FROM "transactions" AS "Transaction" LEFT OUTER JOIN "orders" AS "order" ON "Transaction"."orderId" = "order"."id" WHERE "Transaction"."driverId" = '2' AND "Transaction"."transactionType" = 'delivery_pay' AND "Transaction"."driverWalletId" IS NOT NULL AND "Transaction"."status" = 'completed' ORDER BY "Transaction"."createdAt" DESC LIMIT 50;
Executing (default): SELECT "Transaction"."id", "Transaction"."orderId", "Transaction"."driverId", "Transaction"."driverWalletId", "Transaction"."transactionType", "Transaction"."paymentMethod", "Transaction"."paymentProvider", "Transaction"."amount", "Transaction"."status", "Transaction"."paymentStatus", "Transaction"."receiptNumber", "Transaction"."checkoutRequestID", "Transaction"."merchantRequestID", "Transaction"."phoneNumber", "Transaction"."transactionDate", "Transaction"."notes", "Transaction"."createdAt", "Transaction"."updatedAt", "order"."id" AS "order.id", "order"."customerName" AS "order.customerName", "order"."createdAt" AS "order.createdAt", "order"."status" AS "order.status" FROM "transactions" AS "Transaction" LEFT OUTER JOIN "orders" AS "order" ON "Transaction"."orderId" = "order"."id" WHERE "Transaction"."driverId" = '2' AND "Transaction"."transactionType" = 'cash_settlement' AND "Transaction"."status" = 'completed' ORDER BY "Transaction"."createdAt" DESC LIMIT 50;
Executing (default): SELECT "id", "orderId", "driverId", "driverWalletId", "transactionType", "paymentMethod", "paymentProvider", "amount", "status", "paymentStatus", "receiptNumber", "checkoutRequestID", "merchantRequestID", "phoneNumber", "transactionDate", "notes", "createdAt", "updatedAt" FROM "transactions" AS "Transaction" WHERE "Transaction"."driverId" = '2' AND "Transaction"."transactionType" = 'withdrawal' ORDER BY "Transaction"."createdAt" DESC LIMIT 20;
Executing (default): SELECT "id", "name", "phoneNumber", "pushToken", "status", "lastActivity", "pinHash", "createdAt", "updatedAt" FROM "drivers" AS "Driver" WHERE "Driver"."phoneNumber" = '254727893741';
Executing (default): SELECT "id", "name", "phoneNumber", "pushToken", "status", "lastActivity", "pinHash", "createdAt", "updatedAt" FROM "drivers" AS "Driver" WHERE "Driver"."phoneNumber" = '0727893741';
Executing (default): SELECT "DriverWallet"."id", "DriverWallet"."driverId", "DriverWallet"."balance", "DriverWallet"."totalTipsReceived", "DriverWallet"."totalTipsCount", "DriverWallet"."totalDeliveryPay", "DriverWallet"."totalDeliveryPayCount", "DriverWallet"."createdAt", "DriverWallet"."updatedAt", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."phoneNumber" AS "driver.phoneNumber" FROM "driver_wallets" AS "DriverWallet" LEFT OUTER JOIN "drivers" AS "driver" ON "DriverWallet"."driverId" = "driver"."id" WHERE "DriverWallet"."driverId" = '2';
Executing (default): SELECT "Transaction"."id", "Transaction"."orderId", "Transaction"."driverId", "Transaction"."driverWalletId", "Transaction"."transactionType", "Transaction"."paymentMethod", "Transaction"."paymentProvider", "Transaction"."amount", "Transaction"."status", "Transaction"."paymentStatus", "Transaction"."receiptNumber", "Transaction"."checkoutRequestID", "Transaction"."merchantRequestID", "Transaction"."phoneNumber", "Transaction"."transactionDate", "Transaction"."notes", "Transaction"."createdAt", "Transaction"."updatedAt", "order"."id" AS "order.id", "order"."customerName" AS "order.customerName", "order"."createdAt" AS "order.createdAt", "order"."status" AS "order.status" FROM "transactions" AS "Transaction" LEFT OUTER JOIN "orders" AS "order" ON "Transaction"."orderId" = "order"."id" WHERE "Transaction"."driverId" = '2' AND "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' ORDER BY "Transaction"."createdAt" DESC LIMIT 50;
Executing (default): SELECT "Transaction"."id", "Transaction"."orderId", "Transaction"."driverId", "Transaction"."driverWalletId", "Transaction"."transactionType", "Transaction"."paymentMethod", "Transaction"."paymentProvider", "Transaction"."amount", "Transaction"."status", "Transaction"."paymentStatus", "Transaction"."receiptNumber", "Transaction"."checkoutRequestID", "Transaction"."merchantRequestID", "Transaction"."phoneNumber", "Transaction"."transactionDate", "Transaction"."notes", "Transaction"."createdAt", "Transaction"."updatedAt", "order"."id" AS "order.id", "order"."customerName" AS "order.customerName", "order"."createdAt" AS "order.createdAt", "order"."status" AS "order.status" FROM "transactions" AS "Transaction" LEFT OUTER JOIN "orders" AS "order" ON "Transaction"."orderId" = "order"."id" WHERE "Transaction"."driverId" = '2' AND "Transaction"."transactionType" = 'delivery_pay' AND "Transaction"."driverWalletId" IS NOT NULL AND "Transaction"."status" = 'completed' ORDER BY "Transaction"."createdAt" DESC LIMIT 50;
Executing (default): SELECT "Transaction"."id", "Transaction"."orderId", "Transaction"."driverId", "Transaction"."driverWalletId", "Transaction"."transactionType", "Transaction"."paymentMethod", "Transaction"."paymentProvider", "Transaction"."amount", "Transaction"."status", "Transaction"."paymentStatus", "Transaction"."receiptNumber", "Transaction"."checkoutRequestID", "Transaction"."merchantRequestID", "Transaction"."phoneNumber", "Transaction"."transactionDate", "Transaction"."notes", "Transaction"."createdAt", "Transaction"."updatedAt", "order"."id" AS "order.id", "order"."customerName" AS "order.customerName", "order"."createdAt" AS "order.createdAt", "order"."status" AS "order.status" FROM "transactions" AS "Transaction" LEFT OUTER JOIN "orders" AS "order" ON "Transaction"."orderId" = "order"."id" WHERE "Transaction"."driverId" = '2' AND "Transaction"."transactionType" = 'cash_settlement' AND "Transaction"."status" = 'completed' ORDER BY "Transaction"."createdAt" DESC LIMIT 50;
Executing (default): SELECT "id", "orderId", "driverId", "driverWalletId", "transactionType", "paymentMethod", "paymentProvider", "amount", "status", "paymentStatus", "receiptNumber", "checkoutRequestID", "merchantRequestID", "phoneNumber", "transactionDate", "notes", "createdAt", "updatedAt" FROM "transactions" AS "Transaction" WHERE "Transaction"."driverId" = '2' AND "Transaction"."transactionType" = 'withdrawal' ORDER BY "Transaction"."createdAt" DESC LIMIT 20;
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Client disconnected: VEaaSo_IHfB3y6BiAAAc
Client disconnected: 4ds_1IPYE54KCa1CAAAk
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node server.js`[39m
[dotenv@17.2.3] injecting env (19) from .env -- tip: üîê prevent committing .env to code: https://dotenvx.com/precommit
Starting server initialization...
Executing (default): SELECT 1+1 AS result
Database connection established successfully.
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'categories'
üöÄ Server is running on 0.0.0.0:5001
üîó Health check: http://0.0.0.0:5001/api/health
üìä API endpoints:
   - GET  /api/health
   - GET  /api/categories
   - GET  /api/drinks
   - POST /api/orders
   - GET  /api/admin/orders
üåê Server ready to accept requests!
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'categories' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'subcategories'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'subcategories' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'drinks'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'drinks' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'drivers'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_drivers_status' GROUP BY 1
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'drivers' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'orders'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_orders_status' GROUP BY 1
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_orders_paymentStatus' GROUP BY 1
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_orders_paymentType' GROUP BY 1
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_orders_paymentMethod' GROUP BY 1
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'orders' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'order_items'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'order_items' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'countdowns'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'countdowns' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'settings'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'settings' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'admins'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_admins_role' GROUP BY 1
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'admins' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'driver_wallets'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'driver_wallets' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'transactions'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_transactions_transactionType' GROUP BY 1
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_transactions_paymentMethod' GROUP BY 1
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_transactions_status' GROUP BY 1
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_transactions_paymentStatus' GROUP BY 1
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'transactions' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'order_notifications'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'order_notifications' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'otps'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'otps' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'email_confirmations'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'email_confirmations' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'customers'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'customers' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'admin_wallets'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'admin_wallets' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'saved_addresses'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'saved_addresses' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Database synchronized successfully.
Checking for missing columns...
Executing (default): ALTER TABLE "drinks" 
      ADD COLUMN IF NOT EXISTS "isOnOffer" BOOLEAN DEFAULT false;
‚úÖ isOnOffer column checked/added
Executing (default): ALTER TABLE "drinks" 
      ADD COLUMN IF NOT EXISTS "limitedTimeOffer" BOOLEAN DEFAULT false;
‚úÖ limitedTimeOffer column checked/added
Executing (default): ALTER TABLE "drinks" 
      ADD COLUMN IF NOT EXISTS "originalPrice" DECIMAL(10,2);
‚úÖ originalPrice column checked/added
Executing (default): UPDATE "drinks" 
      SET "originalPrice" = "price" 
      WHERE "originalPrice" IS NULL;
‚úÖ originalPrice set for existing drinks
Executing (default): ALTER TABLE "drinks" 
      ALTER COLUMN "image" TYPE TEXT;
‚úÖ Image column updated to TEXT type
Executing (default): ALTER TABLE "drinks" 
      ADD COLUMN IF NOT EXISTS "capacity" JSON;
‚úÖ Capacity column checked/added (JSON type)
Executing (default): ALTER TABLE "drinks" 
      ADD COLUMN IF NOT EXISTS "capacityPricing" JSON;
‚úÖ Capacity pricing column checked/added (JSON type)
Executing (default): ALTER TABLE "drinks" 
      ADD COLUMN IF NOT EXISTS "abv" DECIMAL(5,2);
‚úÖ ABV column checked/added
Executing (default): CREATE TABLE IF NOT EXISTS "subcategories" (
        "id" SERIAL PRIMARY KEY,
        "name" VARCHAR(255) NOT NULL UNIQUE,
        "categoryId" INTEGER NOT NULL REFERENCES "categories"("id"),
        "isActive" BOOLEAN DEFAULT true,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ subcategories table checked/created
Executing (default): ALTER TABLE "drinks" 
      ADD COLUMN IF NOT EXISTS "subCategoryId" INTEGER REFERENCES "subcategories"("id");
‚úÖ subCategoryId column checked/added
Executing (default): CREATE TABLE IF NOT EXISTS "settings" (
        "id" SERIAL PRIMARY KEY,
        "key" VARCHAR(255) NOT NULL UNIQUE,
        "value" TEXT,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ settings table checked/created
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='orders' AND column_name='paymentType';
‚úÖ paymentType column already exists
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='orders' AND column_name='driverId';
‚úÖ driverId column already exists
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='drivers' AND column_name='pinHash';
‚úÖ pinHash column already exists in drivers table
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='orders' AND column_name='driverAccepted';
‚úÖ driverAccepted column already exists in orders table
Executing (default): ALTER TABLE "orders"
      ADD COLUMN IF NOT EXISTS "driverPayCredited" BOOLEAN DEFAULT false;
Executing (default): ALTER TABLE "orders"
      ADD COLUMN IF NOT EXISTS "driverPayCreditedAt" TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "orders"
      ADD COLUMN IF NOT EXISTS "driverPayAmount" DECIMAL(10,2) DEFAULT 0;
‚úÖ Driver pay tracking columns checked/added to orders table
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='orders' AND column_name='paymentMethod';
‚úÖ paymentMethod column already exists
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='orders' AND column_name='paymentStatus';
‚úÖ paymentStatus column already exists
Executing (default): ALTER TYPE "enum_orders_status" ADD VALUE IF NOT EXISTS 'completed';
‚úÖ Status enum updated to include completed
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='orders' AND column_name='tipAmount';
‚úÖ tipAmount column already exists in orders table
Executing (default): CREATE TABLE IF NOT EXISTS "transactions" (
        "id" SERIAL PRIMARY KEY,
        "orderId" INTEGER REFERENCES "orders"("id") ON DELETE CASCADE,
        "driverId" INTEGER REFERENCES "drivers"("id") ON DELETE SET NULL,
        "driverWalletId" INTEGER,
        "transactionType" VARCHAR(255) DEFAULT 'payment',
        "paymentMethod" VARCHAR(255) NOT NULL,
        "paymentProvider" VARCHAR(255),
        "amount" DECIMAL(10, 2) NOT NULL,
        "status" VARCHAR(255) DEFAULT 'pending',
        "paymentStatus" VARCHAR(255) DEFAULT 'pending',
        "receiptNumber" VARCHAR(255),
        "checkoutRequestID" VARCHAR(255),
        "merchantRequestID" VARCHAR(255),
        "phoneNumber" VARCHAR(255),
        "transactionDate" TIMESTAMP WITH TIME ZONE,
        "notes" TEXT,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ transactions table checked/created
Executing (default): SELECT column_name 
        FROM information_schema.columns 
        WHERE table_name='transactions' AND column_name='paymentStatus';
‚úÖ paymentStatus column already exists in transactions table
Executing (default): SELECT is_nullable 
        FROM information_schema.columns 
        WHERE table_name='transactions' AND column_name='orderId';
‚úÖ orderId column already allows NULL in transactions table
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='transactions' AND column_name='driverId';
‚úÖ driverId column already exists in transactions table
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='transactions' AND column_name='driverWalletId';
‚úÖ driverWalletId column already exists in transactions table
Executing (default): DO $$ BEGIN
        CREATE TYPE transaction_type_enum AS ENUM ('payment', 'refund', 'tip', 'withdrawal');
      EXCEPTION
        WHEN duplicate_object THEN null;
      END $$;
Executing (default): ALTER TYPE transaction_type_enum ADD VALUE IF NOT EXISTS 'tip'
‚úÖ Added tip to transaction_type_enum
Executing (default): ALTER TYPE transaction_type_enum ADD VALUE IF NOT EXISTS 'withdrawal'
‚úÖ Added withdrawal to transaction_type_enum
Executing (default): ALTER TYPE transaction_type_enum ADD VALUE IF NOT EXISTS 'delivery_pay'
‚úÖ Added delivery_pay to transaction_type_enum
Executing (default): ALTER TYPE transaction_type_enum ADD VALUE IF NOT EXISTS 'driver_pay'
‚úÖ Added driver_pay to transaction_type_enum
Executing (default): ALTER TYPE transaction_type_enum ADD VALUE IF NOT EXISTS 'delivery_fee_debit'
‚úÖ Added delivery_fee_debit to transaction_type_enum
Executing (default): ALTER TYPE transaction_type_enum ADD VALUE IF NOT EXISTS 'cash_settlement'
‚úÖ Added cash_settlement to transaction_type_enum
Executing (default): DO $$ BEGIN
        CREATE TYPE transaction_status_enum AS ENUM ('pending', 'completed', 'failed', 'cancelled');
      EXCEPTION
        WHEN duplicate_object THEN null;
      END $$;
Executing (default): DO $$ BEGIN
        CREATE TYPE transaction_payment_method_enum AS ENUM ('card', 'mobile_money', 'cash', 'system');
      EXCEPTION
        WHEN duplicate_object THEN null;
      END $$;
Executing (default): ALTER TYPE transaction_payment_method_enum ADD VALUE IF NOT EXISTS 'system'
‚úÖ Added system to transaction_payment_method_enum
Executing (default): UPDATE transactions
      SET "transactionDate" = "createdAt"
      WHERE "transactionType" = 'payment' AND "transactionDate" IS NULL;
‚úÖ Backfilled missing payment transaction dates
Executing (default): UPDATE transactions AS tip
      SET "transactionDate" = pay."transactionDate"
      FROM transactions AS pay
      WHERE tip."transactionType" = 'tip'
        AND pay."transactionType" = 'payment'
        AND pay."status" = 'completed'
        AND tip."orderId" = pay."orderId"
        AND pay."transactionDate" IS NOT NULL
        AND tip."transactionDate" IS DISTINCT FROM pay."transactionDate";
‚úÖ Synchronized tip transaction dates with payment transactions
Executing (default): UPDATE transactions
      SET "transactionDate" = "createdAt"
      WHERE "transactionType" = 'tip' AND "transactionDate" IS NULL;
‚úÖ Backfilled missing tip transaction dates
Executing (default): SELECT data_type 
        FROM information_schema.columns 
        WHERE table_name='transactions' AND column_name='transactionType';
Executing (default): ALTER TABLE "transactions" 
          ALTER COLUMN "transactionType" TYPE transaction_type_enum USING "transactionType"::transaction_type_enum;
Executing (default): CREATE TABLE IF NOT EXISTS "order_notifications" (
        "id" SERIAL PRIMARY KEY,
        "name" VARCHAR(255) NOT NULL,
        "phoneNumber" VARCHAR(255) NOT NULL,
        "isActive" BOOLEAN DEFAULT true,
        "notes" TEXT,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ order_notifications table checked/created
Executing (default): CREATE TABLE IF NOT EXISTS "otps" (
        "id" SERIAL PRIMARY KEY,
        "phoneNumber" VARCHAR(255) NOT NULL,
        "otpCode" VARCHAR(10) NOT NULL,
        "expiresAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "isUsed" BOOLEAN DEFAULT false,
        "attempts" INTEGER DEFAULT 0,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ otps table checked/created
Executing (default): CREATE TABLE IF NOT EXISTS "email_confirmations" (
        "id" SERIAL PRIMARY KEY,
        "email" VARCHAR(255) NOT NULL,
        "token" VARCHAR(255) NOT NULL UNIQUE,
        "expiresAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "isUsed" BOOLEAN DEFAULT false,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ email_confirmations table checked/created
Executing (default): CREATE TABLE IF NOT EXISTS "customers" (
        "id" SERIAL PRIMARY KEY,
        "email" VARCHAR(255) UNIQUE,
        "phone" VARCHAR(255) UNIQUE,
        "username" VARCHAR(255) NOT NULL UNIQUE,
        "password" VARCHAR(255),
        "customerName" VARCHAR(255),
        "hasSetPassword" BOOLEAN DEFAULT false,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ customers table checked/created
Executing (default): DO $$ BEGIN
        CREATE TYPE driver_status_enum AS ENUM ('active', 'inactive', 'on_delivery', 'offline');
      EXCEPTION
        WHEN duplicate_object THEN null;
      END $$;
Executing (default): CREATE TABLE IF NOT EXISTS "drivers" (
        "id" SERIAL PRIMARY KEY,
        "name" VARCHAR(255) NOT NULL,
        "phoneNumber" VARCHAR(255) NOT NULL UNIQUE,
        "status" driver_status_enum DEFAULT 'offline',
        "lastActivity" TIMESTAMP WITH TIME ZONE,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ drivers table checked/created
Executing (default): CREATE TABLE IF NOT EXISTS "driver_wallets" (
        "id" SERIAL PRIMARY KEY,
        "driverId" INTEGER NOT NULL UNIQUE REFERENCES "drivers"("id") ON DELETE CASCADE,
        "balance" DECIMAL(10, 2) NOT NULL DEFAULT 0,
        "totalTipsReceived" DECIMAL(10, 2) NOT NULL DEFAULT 0,
        "totalTipsCount" INTEGER NOT NULL DEFAULT 0,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ driver_wallets table checked/created
Executing (default): ALTER TABLE "driver_wallets"
      ADD COLUMN IF NOT EXISTS "totalDeliveryPay" DECIMAL(10,2) DEFAULT 0;
Executing (default): ALTER TABLE "driver_wallets"
      ADD COLUMN IF NOT EXISTS "totalDeliveryPayCount" INTEGER DEFAULT 0;
‚úÖ Delivery pay tracking columns checked/added to driver_wallets table
Executing (default): CREATE TABLE IF NOT EXISTS "saved_addresses" (
        "id" SERIAL PRIMARY KEY,
        "address" TEXT NOT NULL UNIQUE,
        "placeId" VARCHAR(255),
        "formattedAddress" TEXT,
        "searchCount" INTEGER DEFAULT 0,
        "apiCallsSaved" INTEGER DEFAULT 0,
        "costSaved" DECIMAL(10, 4) DEFAULT 0,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ saved_addresses table checked/created
Executing (default): CREATE TABLE IF NOT EXISTS "admins" (
        "id" SERIAL PRIMARY KEY,
        "username" VARCHAR(255) NOT NULL UNIQUE,
        "password" VARCHAR(255),
        "email" VARCHAR(255) NOT NULL UNIQUE,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ admins table checked/created
Executing (default): SELECT is_nullable 
        FROM information_schema.columns 
        WHERE table_name='admins' AND column_name='password';
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='admins' AND column_name='role';
‚úÖ role column already exists in admins table
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='admins' AND column_name='inviteToken';
‚úÖ inviteToken columns already exist in admins table
Executing (default): SELECT "id", "username", "password", "email", "role", "inviteToken", "inviteTokenExpiry", "createdAt", "updatedAt" FROM "admins" AS "Admin" WHERE "Admin"."username" = 'admin';
Executing (default): SELECT "id", "username", "password", "email", "role", "inviteToken", "inviteTokenExpiry", "createdAt", "updatedAt" FROM "admins" AS "Admin" WHERE "Admin"."role" IS NULL;
Database columns updated successfully.
Executing (default): SELECT count(*) AS "count" FROM "categories" AS "Category";
Database setup completed.
Client connected: WyuYmFdO3VzRwv1oAAAC
Client connected: PKVwS4imDHFe2CaDAAAE
Client connected: X9aA3U96lPRkXSOUAAAF
Client connected: ZcOxswxOitUKgT9qAAAH
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Client connected: JsDWE5OZXw_qxzJ9AAAJ
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node server.js`[39m
[dotenv@17.2.3] injecting env (19) from .env -- tip: ‚úÖ audit secrets and track compliance: https://dotenvx.com/ops
Starting server initialization...
Environment: development
Port: 5001
Host: 0.0.0.0
Executing (default): SELECT 1+1 AS result
‚úÖ Database connection established successfully.
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'categories'
üöÄ Server is running on 0.0.0.0:5001
üîó Health check: http://0.0.0.0:5001/api/health
üìä API endpoints:
   - GET  /api/health
   - GET  /api/categories
   - GET  /api/drinks
   - POST /api/orders
   - GET  /api/admin/orders
üåê Server ready to accept requests!
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'categories' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'subcategories'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'subcategories' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'drinks'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'drinks' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'drivers'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_drivers_status' GROUP BY 1
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'drivers' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'orders'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_orders_status' GROUP BY 1
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_orders_paymentStatus' GROUP BY 1
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_orders_paymentType' GROUP BY 1
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_orders_paymentMethod' GROUP BY 1
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'orders' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'order_items'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'order_items' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'countdowns'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'countdowns' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'settings'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'settings' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'admins'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_admins_role' GROUP BY 1
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'admins' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'driver_wallets'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'driver_wallets' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'transactions'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_transactions_transactionType' GROUP BY 1
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_transactions_paymentMethod' GROUP BY 1
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_transactions_status' GROUP BY 1
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_transactions_paymentStatus' GROUP BY 1
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'transactions' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'order_notifications'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'order_notifications' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'otps'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'otps' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'email_confirmations'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'email_confirmations' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'customers'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'customers' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'admin_wallets'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'admin_wallets' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'saved_addresses'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'saved_addresses' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Database synchronized successfully.
Checking for missing columns...
Executing (default): ALTER TABLE "drinks" 
      ADD COLUMN IF NOT EXISTS "isOnOffer" BOOLEAN DEFAULT false;
‚úÖ isOnOffer column checked/added
Executing (default): ALTER TABLE "drinks" 
      ADD COLUMN IF NOT EXISTS "limitedTimeOffer" BOOLEAN DEFAULT false;
‚úÖ limitedTimeOffer column checked/added
Executing (default): ALTER TABLE "drinks" 
      ADD COLUMN IF NOT EXISTS "originalPrice" DECIMAL(10,2);
‚úÖ originalPrice column checked/added
Executing (default): UPDATE "drinks" 
      SET "originalPrice" = "price" 
      WHERE "originalPrice" IS NULL;
‚úÖ originalPrice set for existing drinks
Executing (default): ALTER TABLE "drinks" 
      ALTER COLUMN "image" TYPE TEXT;
‚úÖ Image column updated to TEXT type
Executing (default): ALTER TABLE "drinks" 
      ADD COLUMN IF NOT EXISTS "capacity" JSON;
‚úÖ Capacity column checked/added (JSON type)
Executing (default): ALTER TABLE "drinks" 
      ADD COLUMN IF NOT EXISTS "capacityPricing" JSON;
‚úÖ Capacity pricing column checked/added (JSON type)
Executing (default): ALTER TABLE "drinks" 
      ADD COLUMN IF NOT EXISTS "abv" DECIMAL(5,2);
‚úÖ ABV column checked/added
Executing (default): CREATE TABLE IF NOT EXISTS "subcategories" (
        "id" SERIAL PRIMARY KEY,
        "name" VARCHAR(255) NOT NULL UNIQUE,
        "categoryId" INTEGER NOT NULL REFERENCES "categories"("id"),
        "isActive" BOOLEAN DEFAULT true,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ subcategories table checked/created
Executing (default): ALTER TABLE "drinks" 
      ADD COLUMN IF NOT EXISTS "subCategoryId" INTEGER REFERENCES "subcategories"("id");
‚úÖ subCategoryId column checked/added
Executing (default): CREATE TABLE IF NOT EXISTS "settings" (
        "id" SERIAL PRIMARY KEY,
        "key" VARCHAR(255) NOT NULL UNIQUE,
        "value" TEXT,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ settings table checked/created
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='orders' AND column_name='paymentType';
‚úÖ paymentType column already exists
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='orders' AND column_name='driverId';
‚úÖ driverId column already exists
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='drivers' AND column_name='pinHash';
‚úÖ pinHash column already exists in drivers table
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='orders' AND column_name='driverAccepted';
‚úÖ driverAccepted column already exists in orders table
Executing (default): ALTER TABLE "orders"
      ADD COLUMN IF NOT EXISTS "driverPayCredited" BOOLEAN DEFAULT false;
Executing (default): ALTER TABLE "orders"
      ADD COLUMN IF NOT EXISTS "driverPayCreditedAt" TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "orders"
      ADD COLUMN IF NOT EXISTS "driverPayAmount" DECIMAL(10,2) DEFAULT 0;
‚úÖ Driver pay tracking columns checked/added to orders table
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='orders' AND column_name='paymentMethod';
‚úÖ paymentMethod column already exists
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='orders' AND column_name='paymentStatus';
‚úÖ paymentStatus column already exists
Executing (default): ALTER TYPE "enum_orders_status" ADD VALUE IF NOT EXISTS 'completed';
‚úÖ Status enum updated to include completed
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='orders' AND column_name='tipAmount';
‚úÖ tipAmount column already exists in orders table
Executing (default): CREATE TABLE IF NOT EXISTS "transactions" (
        "id" SERIAL PRIMARY KEY,
        "orderId" INTEGER REFERENCES "orders"("id") ON DELETE CASCADE,
        "driverId" INTEGER REFERENCES "drivers"("id") ON DELETE SET NULL,
        "driverWalletId" INTEGER,
        "transactionType" VARCHAR(255) DEFAULT 'payment',
        "paymentMethod" VARCHAR(255) NOT NULL,
        "paymentProvider" VARCHAR(255),
        "amount" DECIMAL(10, 2) NOT NULL,
        "status" VARCHAR(255) DEFAULT 'pending',
        "paymentStatus" VARCHAR(255) DEFAULT 'pending',
        "receiptNumber" VARCHAR(255),
        "checkoutRequestID" VARCHAR(255),
        "merchantRequestID" VARCHAR(255),
        "phoneNumber" VARCHAR(255),
        "transactionDate" TIMESTAMP WITH TIME ZONE,
        "notes" TEXT,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ transactions table checked/created
Executing (default): SELECT column_name 
        FROM information_schema.columns 
        WHERE table_name='transactions' AND column_name='paymentStatus';
‚úÖ paymentStatus column already exists in transactions table
Executing (default): SELECT is_nullable 
        FROM information_schema.columns 
        WHERE table_name='transactions' AND column_name='orderId';
‚úÖ orderId column already allows NULL in transactions table
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='transactions' AND column_name='driverId';
‚úÖ driverId column already exists in transactions table
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='transactions' AND column_name='driverWalletId';
‚úÖ driverWalletId column already exists in transactions table
Executing (default): DO $$ BEGIN
        CREATE TYPE transaction_type_enum AS ENUM ('payment', 'refund', 'tip', 'withdrawal');
      EXCEPTION
        WHEN duplicate_object THEN null;
      END $$;
Executing (default): ALTER TYPE transaction_type_enum ADD VALUE IF NOT EXISTS 'tip'
‚úÖ Added tip to transaction_type_enum
Executing (default): ALTER TYPE transaction_type_enum ADD VALUE IF NOT EXISTS 'withdrawal'
‚úÖ Added withdrawal to transaction_type_enum
Executing (default): ALTER TYPE transaction_type_enum ADD VALUE IF NOT EXISTS 'delivery_pay'
‚úÖ Added delivery_pay to transaction_type_enum
Executing (default): ALTER TYPE transaction_type_enum ADD VALUE IF NOT EXISTS 'driver_pay'
‚úÖ Added driver_pay to transaction_type_enum
Executing (default): ALTER TYPE transaction_type_enum ADD VALUE IF NOT EXISTS 'delivery_fee_debit'
‚úÖ Added delivery_fee_debit to transaction_type_enum
Executing (default): ALTER TYPE transaction_type_enum ADD VALUE IF NOT EXISTS 'cash_settlement'
‚úÖ Added cash_settlement to transaction_type_enum
Executing (default): DO $$ BEGIN
        CREATE TYPE transaction_status_enum AS ENUM ('pending', 'completed', 'failed', 'cancelled');
      EXCEPTION
        WHEN duplicate_object THEN null;
      END $$;
Executing (default): DO $$ BEGIN
        CREATE TYPE transaction_payment_method_enum AS ENUM ('card', 'mobile_money', 'cash', 'system');
      EXCEPTION
        WHEN duplicate_object THEN null;
      END $$;
Executing (default): ALTER TYPE transaction_payment_method_enum ADD VALUE IF NOT EXISTS 'system'
‚úÖ Added system to transaction_payment_method_enum
Executing (default): UPDATE transactions
      SET "transactionDate" = "createdAt"
      WHERE "transactionType" = 'payment' AND "transactionDate" IS NULL;
‚úÖ Backfilled missing payment transaction dates
Executing (default): UPDATE transactions AS tip
      SET "transactionDate" = pay."transactionDate"
      FROM transactions AS pay
      WHERE tip."transactionType" = 'tip'
        AND pay."transactionType" = 'payment'
        AND pay."status" = 'completed'
        AND tip."orderId" = pay."orderId"
        AND pay."transactionDate" IS NOT NULL
        AND tip."transactionDate" IS DISTINCT FROM pay."transactionDate";
‚úÖ Synchronized tip transaction dates with payment transactions
Executing (default): UPDATE transactions
      SET "transactionDate" = "createdAt"
      WHERE "transactionType" = 'tip' AND "transactionDate" IS NULL;
‚úÖ Backfilled missing tip transaction dates
Executing (default): SELECT data_type 
        FROM information_schema.columns 
        WHERE table_name='transactions' AND column_name='transactionType';
Executing (default): ALTER TABLE "transactions" 
          ALTER COLUMN "transactionType" TYPE transaction_type_enum USING "transactionType"::transaction_type_enum;
Executing (default): CREATE TABLE IF NOT EXISTS "order_notifications" (
        "id" SERIAL PRIMARY KEY,
        "name" VARCHAR(255) NOT NULL,
        "phoneNumber" VARCHAR(255) NOT NULL,
        "isActive" BOOLEAN DEFAULT true,
        "notes" TEXT,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ order_notifications table checked/created
Executing (default): CREATE TABLE IF NOT EXISTS "otps" (
        "id" SERIAL PRIMARY KEY,
        "phoneNumber" VARCHAR(255) NOT NULL,
        "otpCode" VARCHAR(10) NOT NULL,
        "expiresAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "isUsed" BOOLEAN DEFAULT false,
        "attempts" INTEGER DEFAULT 0,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ otps table checked/created
Executing (default): CREATE TABLE IF NOT EXISTS "email_confirmations" (
        "id" SERIAL PRIMARY KEY,
        "email" VARCHAR(255) NOT NULL,
        "token" VARCHAR(255) NOT NULL UNIQUE,
        "expiresAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "isUsed" BOOLEAN DEFAULT false,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ email_confirmations table checked/created
Executing (default): CREATE TABLE IF NOT EXISTS "customers" (
        "id" SERIAL PRIMARY KEY,
        "email" VARCHAR(255) UNIQUE,
        "phone" VARCHAR(255) UNIQUE,
        "username" VARCHAR(255) NOT NULL UNIQUE,
        "password" VARCHAR(255),
        "customerName" VARCHAR(255),
        "hasSetPassword" BOOLEAN DEFAULT false,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ customers table checked/created
Executing (default): DO $$ BEGIN
        CREATE TYPE driver_status_enum AS ENUM ('active', 'inactive', 'on_delivery', 'offline');
      EXCEPTION
        WHEN duplicate_object THEN null;
      END $$;
Executing (default): CREATE TABLE IF NOT EXISTS "drivers" (
        "id" SERIAL PRIMARY KEY,
        "name" VARCHAR(255) NOT NULL,
        "phoneNumber" VARCHAR(255) NOT NULL UNIQUE,
        "status" driver_status_enum DEFAULT 'offline',
        "lastActivity" TIMESTAMP WITH TIME ZONE,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ drivers table checked/created
Executing (default): CREATE TABLE IF NOT EXISTS "driver_wallets" (
        "id" SERIAL PRIMARY KEY,
        "driverId" INTEGER NOT NULL UNIQUE REFERENCES "drivers"("id") ON DELETE CASCADE,
        "balance" DECIMAL(10, 2) NOT NULL DEFAULT 0,
        "totalTipsReceived" DECIMAL(10, 2) NOT NULL DEFAULT 0,
        "totalTipsCount" INTEGER NOT NULL DEFAULT 0,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ driver_wallets table checked/created
Executing (default): ALTER TABLE "driver_wallets"
      ADD COLUMN IF NOT EXISTS "totalDeliveryPay" DECIMAL(10,2) DEFAULT 0;
Executing (default): ALTER TABLE "driver_wallets"
      ADD COLUMN IF NOT EXISTS "totalDeliveryPayCount" INTEGER DEFAULT 0;
‚úÖ Delivery pay tracking columns checked/added to driver_wallets table
Executing (default): CREATE TABLE IF NOT EXISTS "saved_addresses" (
        "id" SERIAL PRIMARY KEY,
        "address" TEXT NOT NULL UNIQUE,
        "placeId" VARCHAR(255),
        "formattedAddress" TEXT,
        "searchCount" INTEGER DEFAULT 0,
        "apiCallsSaved" INTEGER DEFAULT 0,
        "costSaved" DECIMAL(10, 4) DEFAULT 0,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ saved_addresses table checked/created
Executing (default): CREATE TABLE IF NOT EXISTS "admins" (
        "id" SERIAL PRIMARY KEY,
        "username" VARCHAR(255) NOT NULL UNIQUE,
        "password" VARCHAR(255),
        "email" VARCHAR(255) NOT NULL UNIQUE,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ admins table checked/created
Executing (default): SELECT is_nullable 
        FROM information_schema.columns 
        WHERE table_name='admins' AND column_name='password';
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='admins' AND column_name='role';
‚úÖ role column already exists in admins table
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='admins' AND column_name='inviteToken';
‚úÖ inviteToken columns already exist in admins table
Executing (default): SELECT "id", "username", "password", "email", "role", "inviteToken", "inviteTokenExpiry", "createdAt", "updatedAt" FROM "admins" AS "Admin" WHERE "Admin"."username" = 'admin';
Executing (default): SELECT "id", "username", "password", "email", "role", "inviteToken", "inviteTokenExpiry", "createdAt", "updatedAt" FROM "admins" AS "Admin" WHERE "Admin"."role" IS NULL;
Database columns updated successfully.
Executing (default): SELECT count(*) AS "count" FROM "categories" AS "Category";
Database setup completed.
Client connected: GSeIdh-mHvlRfjJ0AAAC
Client connected: GattEqPpVuyrLeCfAAAE
Client connected: V8_FaiyW2V2yWlxKAAAG
Client connected: CpfQZfGh9GMtecQbAAAH
Client connected: Y_peeXeMgOYF3AcgAAAJ
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node server.js`[39m
[dotenv@17.2.3] injecting env (19) from .env -- tip: üîÑ add secrets lifecycle management: https://dotenvx.com/ops
Starting server initialization...
Environment: development
Port: 5001
Host: 0.0.0.0
Executing (default): SELECT 1+1 AS result
‚úÖ Database connection established successfully.
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'categories'
üöÄ Server is running on 0.0.0.0:5001
üîó Health check: http://0.0.0.0:5001/api/health
üìä API endpoints:
   - GET  /api/health
   - GET  /api/categories
   - GET  /api/drinks
   - POST /api/orders
   - GET  /api/admin/orders
üåê Server ready to accept requests!
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'categories' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'subcategories'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'subcategories' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'drinks'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'drinks' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'drivers'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_drivers_status' GROUP BY 1
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'drivers' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'orders'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_orders_status' GROUP BY 1
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_orders_paymentStatus' GROUP BY 1
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_orders_paymentType' GROUP BY 1
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_orders_paymentMethod' GROUP BY 1
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'orders' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'order_items'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'order_items' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'countdowns'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'countdowns' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'settings'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'settings' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'admins'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_admins_role' GROUP BY 1
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'admins' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'driver_wallets'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'driver_wallets' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'transactions'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_transactions_transactionType' GROUP BY 1
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_transactions_paymentMethod' GROUP BY 1
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_transactions_status' GROUP BY 1
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_transactions_paymentStatus' GROUP BY 1
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'transactions' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'order_notifications'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'order_notifications' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'otps'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'otps' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'email_confirmations'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'email_confirmations' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'customers'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'customers' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'admin_wallets'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'admin_wallets' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'saved_addresses'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'saved_addresses' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Database synchronized successfully.
Checking for missing columns...
Executing (default): ALTER TABLE "drinks" 
      ADD COLUMN IF NOT EXISTS "isOnOffer" BOOLEAN DEFAULT false;
‚úÖ isOnOffer column checked/added
Executing (default): ALTER TABLE "drinks" 
      ADD COLUMN IF NOT EXISTS "limitedTimeOffer" BOOLEAN DEFAULT false;
‚úÖ limitedTimeOffer column checked/added
Executing (default): ALTER TABLE "drinks" 
      ADD COLUMN IF NOT EXISTS "originalPrice" DECIMAL(10,2);
‚úÖ originalPrice column checked/added
Executing (default): UPDATE "drinks" 
      SET "originalPrice" = "price" 
      WHERE "originalPrice" IS NULL;
‚úÖ originalPrice set for existing drinks
Executing (default): ALTER TABLE "drinks" 
      ALTER COLUMN "image" TYPE TEXT;
‚úÖ Image column updated to TEXT type
Executing (default): ALTER TABLE "drinks" 
      ADD COLUMN IF NOT EXISTS "capacity" JSON;
‚úÖ Capacity column checked/added (JSON type)
Executing (default): ALTER TABLE "drinks" 
      ADD COLUMN IF NOT EXISTS "capacityPricing" JSON;
‚úÖ Capacity pricing column checked/added (JSON type)
Executing (default): ALTER TABLE "drinks" 
      ADD COLUMN IF NOT EXISTS "abv" DECIMAL(5,2);
‚úÖ ABV column checked/added
Executing (default): CREATE TABLE IF NOT EXISTS "subcategories" (
        "id" SERIAL PRIMARY KEY,
        "name" VARCHAR(255) NOT NULL UNIQUE,
        "categoryId" INTEGER NOT NULL REFERENCES "categories"("id"),
        "isActive" BOOLEAN DEFAULT true,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ subcategories table checked/created
Executing (default): ALTER TABLE "drinks" 
      ADD COLUMN IF NOT EXISTS "subCategoryId" INTEGER REFERENCES "subcategories"("id");
‚úÖ subCategoryId column checked/added
Executing (default): CREATE TABLE IF NOT EXISTS "settings" (
        "id" SERIAL PRIMARY KEY,
        "key" VARCHAR(255) NOT NULL UNIQUE,
        "value" TEXT,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ settings table checked/created
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='orders' AND column_name='paymentType';
‚úÖ paymentType column already exists
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='orders' AND column_name='driverId';
‚úÖ driverId column already exists
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='drivers' AND column_name='pinHash';
‚úÖ pinHash column already exists in drivers table
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='orders' AND column_name='driverAccepted';
‚úÖ driverAccepted column already exists in orders table
Executing (default): ALTER TABLE "orders"
      ADD COLUMN IF NOT EXISTS "driverPayCredited" BOOLEAN DEFAULT false;
Executing (default): ALTER TABLE "orders"
      ADD COLUMN IF NOT EXISTS "driverPayCreditedAt" TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "orders"
      ADD COLUMN IF NOT EXISTS "driverPayAmount" DECIMAL(10,2) DEFAULT 0;
‚úÖ Driver pay tracking columns checked/added to orders table
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='orders' AND column_name='paymentMethod';
‚úÖ paymentMethod column already exists
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='orders' AND column_name='paymentStatus';
‚úÖ paymentStatus column already exists
Executing (default): ALTER TYPE "enum_orders_status" ADD VALUE IF NOT EXISTS 'completed';
‚úÖ Status enum updated to include completed
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='orders' AND column_name='tipAmount';
‚úÖ tipAmount column already exists in orders table
Executing (default): CREATE TABLE IF NOT EXISTS "transactions" (
        "id" SERIAL PRIMARY KEY,
        "orderId" INTEGER REFERENCES "orders"("id") ON DELETE CASCADE,
        "driverId" INTEGER REFERENCES "drivers"("id") ON DELETE SET NULL,
        "driverWalletId" INTEGER,
        "transactionType" VARCHAR(255) DEFAULT 'payment',
        "paymentMethod" VARCHAR(255) NOT NULL,
        "paymentProvider" VARCHAR(255),
        "amount" DECIMAL(10, 2) NOT NULL,
        "status" VARCHAR(255) DEFAULT 'pending',
        "paymentStatus" VARCHAR(255) DEFAULT 'pending',
        "receiptNumber" VARCHAR(255),
        "checkoutRequestID" VARCHAR(255),
        "merchantRequestID" VARCHAR(255),
        "phoneNumber" VARCHAR(255),
        "transactionDate" TIMESTAMP WITH TIME ZONE,
        "notes" TEXT,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ transactions table checked/created
Executing (default): SELECT column_name 
        FROM information_schema.columns 
        WHERE table_name='transactions' AND column_name='paymentStatus';
‚úÖ paymentStatus column already exists in transactions table
Executing (default): SELECT is_nullable 
        FROM information_schema.columns 
        WHERE table_name='transactions' AND column_name='orderId';
‚úÖ orderId column already allows NULL in transactions table
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='transactions' AND column_name='driverId';
‚úÖ driverId column already exists in transactions table
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='transactions' AND column_name='driverWalletId';
‚úÖ driverWalletId column already exists in transactions table
Executing (default): DO $$ BEGIN
        CREATE TYPE transaction_type_enum AS ENUM ('payment', 'refund', 'tip', 'withdrawal');
      EXCEPTION
        WHEN duplicate_object THEN null;
      END $$;
Executing (default): ALTER TYPE transaction_type_enum ADD VALUE IF NOT EXISTS 'tip'
‚úÖ Added tip to transaction_type_enum
Executing (default): ALTER TYPE transaction_type_enum ADD VALUE IF NOT EXISTS 'withdrawal'
‚úÖ Added withdrawal to transaction_type_enum
Executing (default): ALTER TYPE transaction_type_enum ADD VALUE IF NOT EXISTS 'delivery_pay'
‚úÖ Added delivery_pay to transaction_type_enum
Executing (default): ALTER TYPE transaction_type_enum ADD VALUE IF NOT EXISTS 'driver_pay'
‚úÖ Added driver_pay to transaction_type_enum
Executing (default): ALTER TYPE transaction_type_enum ADD VALUE IF NOT EXISTS 'delivery_fee_debit'
‚úÖ Added delivery_fee_debit to transaction_type_enum
Executing (default): ALTER TYPE transaction_type_enum ADD VALUE IF NOT EXISTS 'cash_settlement'
‚úÖ Added cash_settlement to transaction_type_enum
Executing (default): DO $$ BEGIN
        CREATE TYPE transaction_status_enum AS ENUM ('pending', 'completed', 'failed', 'cancelled');
      EXCEPTION
        WHEN duplicate_object THEN null;
      END $$;
Executing (default): DO $$ BEGIN
        CREATE TYPE transaction_payment_method_enum AS ENUM ('card', 'mobile_money', 'cash', 'system');
      EXCEPTION
        WHEN duplicate_object THEN null;
      END $$;
Executing (default): ALTER TYPE transaction_payment_method_enum ADD VALUE IF NOT EXISTS 'system'
‚úÖ Added system to transaction_payment_method_enum
Executing (default): UPDATE transactions
      SET "transactionDate" = "createdAt"
      WHERE "transactionType" = 'payment' AND "transactionDate" IS NULL;
‚úÖ Backfilled missing payment transaction dates
Executing (default): UPDATE transactions AS tip
      SET "transactionDate" = pay."transactionDate"
      FROM transactions AS pay
      WHERE tip."transactionType" = 'tip'
        AND pay."transactionType" = 'payment'
        AND pay."status" = 'completed'
        AND tip."orderId" = pay."orderId"
        AND pay."transactionDate" IS NOT NULL
        AND tip."transactionDate" IS DISTINCT FROM pay."transactionDate";
‚úÖ Synchronized tip transaction dates with payment transactions
Executing (default): UPDATE transactions
      SET "transactionDate" = "createdAt"
      WHERE "transactionType" = 'tip' AND "transactionDate" IS NULL;
‚úÖ Backfilled missing tip transaction dates
Executing (default): SELECT data_type 
        FROM information_schema.columns 
        WHERE table_name='transactions' AND column_name='transactionType';
Executing (default): ALTER TABLE "transactions" 
          ALTER COLUMN "transactionType" TYPE transaction_type_enum USING "transactionType"::transaction_type_enum;
Executing (default): CREATE TABLE IF NOT EXISTS "order_notifications" (
        "id" SERIAL PRIMARY KEY,
        "name" VARCHAR(255) NOT NULL,
        "phoneNumber" VARCHAR(255) NOT NULL,
        "isActive" BOOLEAN DEFAULT true,
        "notes" TEXT,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ order_notifications table checked/created
Executing (default): CREATE TABLE IF NOT EXISTS "otps" (
        "id" SERIAL PRIMARY KEY,
        "phoneNumber" VARCHAR(255) NOT NULL,
        "otpCode" VARCHAR(10) NOT NULL,
        "expiresAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "isUsed" BOOLEAN DEFAULT false,
        "attempts" INTEGER DEFAULT 0,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ otps table checked/created
Executing (default): CREATE TABLE IF NOT EXISTS "email_confirmations" (
        "id" SERIAL PRIMARY KEY,
        "email" VARCHAR(255) NOT NULL,
        "token" VARCHAR(255) NOT NULL UNIQUE,
        "expiresAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "isUsed" BOOLEAN DEFAULT false,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ email_confirmations table checked/created
Executing (default): CREATE TABLE IF NOT EXISTS "customers" (
        "id" SERIAL PRIMARY KEY,
        "email" VARCHAR(255) UNIQUE,
        "phone" VARCHAR(255) UNIQUE,
        "username" VARCHAR(255) NOT NULL UNIQUE,
        "password" VARCHAR(255),
        "customerName" VARCHAR(255),
        "hasSetPassword" BOOLEAN DEFAULT false,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ customers table checked/created
Executing (default): DO $$ BEGIN
        CREATE TYPE driver_status_enum AS ENUM ('active', 'inactive', 'on_delivery', 'offline');
      EXCEPTION
        WHEN duplicate_object THEN null;
      END $$;
Executing (default): CREATE TABLE IF NOT EXISTS "drivers" (
        "id" SERIAL PRIMARY KEY,
        "name" VARCHAR(255) NOT NULL,
        "phoneNumber" VARCHAR(255) NOT NULL UNIQUE,
        "status" driver_status_enum DEFAULT 'offline',
        "lastActivity" TIMESTAMP WITH TIME ZONE,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ drivers table checked/created
Executing (default): CREATE TABLE IF NOT EXISTS "driver_wallets" (
        "id" SERIAL PRIMARY KEY,
        "driverId" INTEGER NOT NULL UNIQUE REFERENCES "drivers"("id") ON DELETE CASCADE,
        "balance" DECIMAL(10, 2) NOT NULL DEFAULT 0,
        "totalTipsReceived" DECIMAL(10, 2) NOT NULL DEFAULT 0,
        "totalTipsCount" INTEGER NOT NULL DEFAULT 0,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ driver_wallets table checked/created
Executing (default): ALTER TABLE "driver_wallets"
      ADD COLUMN IF NOT EXISTS "totalDeliveryPay" DECIMAL(10,2) DEFAULT 0;
Executing (default): ALTER TABLE "driver_wallets"
      ADD COLUMN IF NOT EXISTS "totalDeliveryPayCount" INTEGER DEFAULT 0;
‚úÖ Delivery pay tracking columns checked/added to driver_wallets table
Executing (default): CREATE TABLE IF NOT EXISTS "saved_addresses" (
        "id" SERIAL PRIMARY KEY,
        "address" TEXT NOT NULL UNIQUE,
        "placeId" VARCHAR(255),
        "formattedAddress" TEXT,
        "searchCount" INTEGER DEFAULT 0,
        "apiCallsSaved" INTEGER DEFAULT 0,
        "costSaved" DECIMAL(10, 4) DEFAULT 0,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ saved_addresses table checked/created
Executing (default): CREATE TABLE IF NOT EXISTS "admins" (
        "id" SERIAL PRIMARY KEY,
        "username" VARCHAR(255) NOT NULL UNIQUE,
        "password" VARCHAR(255),
        "email" VARCHAR(255) NOT NULL UNIQUE,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ admins table checked/created
Executing (default): SELECT is_nullable 
        FROM information_schema.columns 
        WHERE table_name='admins' AND column_name='password';
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='admins' AND column_name='role';
‚úÖ role column already exists in admins table
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='admins' AND column_name='inviteToken';
‚úÖ inviteToken columns already exist in admins table
Executing (default): SELECT "id", "username", "password", "email", "role", "inviteToken", "inviteTokenExpiry", "createdAt", "updatedAt" FROM "admins" AS "Admin" WHERE "Admin"."username" = 'admin';
Executing (default): SELECT "id", "username", "password", "email", "role", "inviteToken", "inviteTokenExpiry", "createdAt", "updatedAt" FROM "admins" AS "Admin" WHERE "Admin"."role" IS NULL;
Database columns updated successfully.
Executing (default): SELECT count(*) AS "count" FROM "categories" AS "Category";
Database setup completed.
Client connected: _SsW_Wuf_rRXNIulAAAC
Client connected: -CStdOx2pEB1IAb6AAAF
Client connected: XMDYdSOicynq2h4pAAAG
Client connected: X2gLzFdhAdlrGrPMAAAH
Client connected: gWGF_po8UIb-6XVaAAAJ
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node server.js`[39m
[dotenv@17.2.3] injecting env (19) from .env -- tip: ‚öôÔ∏è  load multiple .env files with { path: ['.env.local', '.env'] }
Starting server initialization...
Environment: development
Port: 5001
Host: 0.0.0.0
Executing (default): SELECT 1+1 AS result
‚úÖ Database connection established successfully.
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'categories'
üöÄ Server is running on 0.0.0.0:5001
üîó Health check: http://0.0.0.0:5001/api/health
üìä API endpoints:
   - GET  /api/health
   - GET  /api/categories
   - GET  /api/drinks
   - POST /api/orders
   - GET  /api/admin/orders
üåê Server ready to accept requests!
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'categories' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'subcategories'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'subcategories' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'drinks'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'drinks' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'drivers'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_drivers_status' GROUP BY 1
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'drivers' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'orders'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_orders_status' GROUP BY 1
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_orders_paymentStatus' GROUP BY 1
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_orders_paymentType' GROUP BY 1
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_orders_paymentMethod' GROUP BY 1
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'orders' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'order_items'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'order_items' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'countdowns'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'countdowns' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'settings'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'settings' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'admins'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_admins_role' GROUP BY 1
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'admins' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'driver_wallets'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'driver_wallets' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'transactions'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_transactions_transactionType' GROUP BY 1
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_transactions_paymentMethod' GROUP BY 1
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_transactions_status' GROUP BY 1
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_transactions_paymentStatus' GROUP BY 1
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'transactions' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'order_notifications'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'order_notifications' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'otps'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'otps' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'email_confirmations'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'email_confirmations' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'customers'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'customers' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'admin_wallets'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'admin_wallets' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'saved_addresses'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'saved_addresses' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Database synchronized successfully.
Checking for missing columns...
Executing (default): ALTER TABLE "drinks" 
      ADD COLUMN IF NOT EXISTS "isOnOffer" BOOLEAN DEFAULT false;
‚úÖ isOnOffer column checked/added
Executing (default): ALTER TABLE "drinks" 
      ADD COLUMN IF NOT EXISTS "limitedTimeOffer" BOOLEAN DEFAULT false;
‚úÖ limitedTimeOffer column checked/added
Executing (default): ALTER TABLE "drinks" 
      ADD COLUMN IF NOT EXISTS "originalPrice" DECIMAL(10,2);
‚úÖ originalPrice column checked/added
Executing (default): UPDATE "drinks" 
      SET "originalPrice" = "price" 
      WHERE "originalPrice" IS NULL;
‚úÖ originalPrice set for existing drinks
Executing (default): ALTER TABLE "drinks" 
      ALTER COLUMN "image" TYPE TEXT;
‚úÖ Image column updated to TEXT type
Executing (default): ALTER TABLE "drinks" 
      ADD COLUMN IF NOT EXISTS "capacity" JSON;
‚úÖ Capacity column checked/added (JSON type)
Executing (default): ALTER TABLE "drinks" 
      ADD COLUMN IF NOT EXISTS "capacityPricing" JSON;
‚úÖ Capacity pricing column checked/added (JSON type)
Executing (default): ALTER TABLE "drinks" 
      ADD COLUMN IF NOT EXISTS "abv" DECIMAL(5,2);
‚úÖ ABV column checked/added
Executing (default): CREATE TABLE IF NOT EXISTS "subcategories" (
        "id" SERIAL PRIMARY KEY,
        "name" VARCHAR(255) NOT NULL UNIQUE,
        "categoryId" INTEGER NOT NULL REFERENCES "categories"("id"),
        "isActive" BOOLEAN DEFAULT true,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ subcategories table checked/created
Executing (default): ALTER TABLE "drinks" 
      ADD COLUMN IF NOT EXISTS "subCategoryId" INTEGER REFERENCES "subcategories"("id");
‚úÖ subCategoryId column checked/added
Executing (default): CREATE TABLE IF NOT EXISTS "settings" (
        "id" SERIAL PRIMARY KEY,
        "key" VARCHAR(255) NOT NULL UNIQUE,
        "value" TEXT,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ settings table checked/created
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='orders' AND column_name='paymentType';
‚úÖ paymentType column already exists
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='orders' AND column_name='driverId';
‚úÖ driverId column already exists
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='drivers' AND column_name='pinHash';
‚úÖ pinHash column already exists in drivers table
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='orders' AND column_name='driverAccepted';
‚úÖ driverAccepted column already exists in orders table
Executing (default): ALTER TABLE "orders"
      ADD COLUMN IF NOT EXISTS "driverPayCredited" BOOLEAN DEFAULT false;
Executing (default): ALTER TABLE "orders"
      ADD COLUMN IF NOT EXISTS "driverPayCreditedAt" TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "orders"
      ADD COLUMN IF NOT EXISTS "driverPayAmount" DECIMAL(10,2) DEFAULT 0;
‚úÖ Driver pay tracking columns checked/added to orders table
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='orders' AND column_name='paymentMethod';
‚úÖ paymentMethod column already exists
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='orders' AND column_name='paymentStatus';
‚úÖ paymentStatus column already exists
Executing (default): ALTER TYPE "enum_orders_status" ADD VALUE IF NOT EXISTS 'completed';
‚úÖ Status enum updated to include completed
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='orders' AND column_name='tipAmount';
‚úÖ tipAmount column already exists in orders table
Executing (default): CREATE TABLE IF NOT EXISTS "transactions" (
        "id" SERIAL PRIMARY KEY,
        "orderId" INTEGER REFERENCES "orders"("id") ON DELETE CASCADE,
        "driverId" INTEGER REFERENCES "drivers"("id") ON DELETE SET NULL,
        "driverWalletId" INTEGER,
        "transactionType" VARCHAR(255) DEFAULT 'payment',
        "paymentMethod" VARCHAR(255) NOT NULL,
        "paymentProvider" VARCHAR(255),
        "amount" DECIMAL(10, 2) NOT NULL,
        "status" VARCHAR(255) DEFAULT 'pending',
        "paymentStatus" VARCHAR(255) DEFAULT 'pending',
        "receiptNumber" VARCHAR(255),
        "checkoutRequestID" VARCHAR(255),
        "merchantRequestID" VARCHAR(255),
        "phoneNumber" VARCHAR(255),
        "transactionDate" TIMESTAMP WITH TIME ZONE,
        "notes" TEXT,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ transactions table checked/created
Executing (default): SELECT column_name 
        FROM information_schema.columns 
        WHERE table_name='transactions' AND column_name='paymentStatus';
‚úÖ paymentStatus column already exists in transactions table
Executing (default): SELECT is_nullable 
        FROM information_schema.columns 
        WHERE table_name='transactions' AND column_name='orderId';
‚úÖ orderId column already allows NULL in transactions table
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='transactions' AND column_name='driverId';
‚úÖ driverId column already exists in transactions table
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='transactions' AND column_name='driverWalletId';
‚úÖ driverWalletId column already exists in transactions table
Executing (default): DO $$ BEGIN
        CREATE TYPE transaction_type_enum AS ENUM ('payment', 'refund', 'tip', 'withdrawal');
      EXCEPTION
        WHEN duplicate_object THEN null;
      END $$;
Executing (default): ALTER TYPE transaction_type_enum ADD VALUE IF NOT EXISTS 'tip'
‚úÖ Added tip to transaction_type_enum
Executing (default): ALTER TYPE transaction_type_enum ADD VALUE IF NOT EXISTS 'withdrawal'
‚úÖ Added withdrawal to transaction_type_enum
Executing (default): ALTER TYPE transaction_type_enum ADD VALUE IF NOT EXISTS 'delivery_pay'
‚úÖ Added delivery_pay to transaction_type_enum
Executing (default): ALTER TYPE transaction_type_enum ADD VALUE IF NOT EXISTS 'driver_pay'
‚úÖ Added driver_pay to transaction_type_enum
Executing (default): ALTER TYPE transaction_type_enum ADD VALUE IF NOT EXISTS 'delivery_fee_debit'
‚úÖ Added delivery_fee_debit to transaction_type_enum
Executing (default): ALTER TYPE transaction_type_enum ADD VALUE IF NOT EXISTS 'cash_settlement'
‚úÖ Added cash_settlement to transaction_type_enum
Executing (default): DO $$ BEGIN
        CREATE TYPE transaction_status_enum AS ENUM ('pending', 'completed', 'failed', 'cancelled');
      EXCEPTION
        WHEN duplicate_object THEN null;
      END $$;
Executing (default): DO $$ BEGIN
        CREATE TYPE transaction_payment_method_enum AS ENUM ('card', 'mobile_money', 'cash', 'system');
      EXCEPTION
        WHEN duplicate_object THEN null;
      END $$;
Executing (default): ALTER TYPE transaction_payment_method_enum ADD VALUE IF NOT EXISTS 'system'
‚úÖ Added system to transaction_payment_method_enum
Executing (default): UPDATE transactions
      SET "transactionDate" = "createdAt"
      WHERE "transactionType" = 'payment' AND "transactionDate" IS NULL;
‚úÖ Backfilled missing payment transaction dates
Executing (default): UPDATE transactions AS tip
      SET "transactionDate" = pay."transactionDate"
      FROM transactions AS pay
      WHERE tip."transactionType" = 'tip'
        AND pay."transactionType" = 'payment'
        AND pay."status" = 'completed'
        AND tip."orderId" = pay."orderId"
        AND pay."transactionDate" IS NOT NULL
        AND tip."transactionDate" IS DISTINCT FROM pay."transactionDate";
‚úÖ Synchronized tip transaction dates with payment transactions
Executing (default): UPDATE transactions
      SET "transactionDate" = "createdAt"
      WHERE "transactionType" = 'tip' AND "transactionDate" IS NULL;
‚úÖ Backfilled missing tip transaction dates
Executing (default): SELECT data_type 
        FROM information_schema.columns 
        WHERE table_name='transactions' AND column_name='transactionType';
Executing (default): ALTER TABLE "transactions" 
          ALTER COLUMN "transactionType" TYPE transaction_type_enum USING "transactionType"::transaction_type_enum;
Executing (default): CREATE TABLE IF NOT EXISTS "order_notifications" (
        "id" SERIAL PRIMARY KEY,
        "name" VARCHAR(255) NOT NULL,
        "phoneNumber" VARCHAR(255) NOT NULL,
        "isActive" BOOLEAN DEFAULT true,
        "notes" TEXT,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ order_notifications table checked/created
Executing (default): CREATE TABLE IF NOT EXISTS "otps" (
        "id" SERIAL PRIMARY KEY,
        "phoneNumber" VARCHAR(255) NOT NULL,
        "otpCode" VARCHAR(10) NOT NULL,
        "expiresAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "isUsed" BOOLEAN DEFAULT false,
        "attempts" INTEGER DEFAULT 0,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ otps table checked/created
Executing (default): CREATE TABLE IF NOT EXISTS "email_confirmations" (
        "id" SERIAL PRIMARY KEY,
        "email" VARCHAR(255) NOT NULL,
        "token" VARCHAR(255) NOT NULL UNIQUE,
        "expiresAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "isUsed" BOOLEAN DEFAULT false,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ email_confirmations table checked/created
Executing (default): CREATE TABLE IF NOT EXISTS "customers" (
        "id" SERIAL PRIMARY KEY,
        "email" VARCHAR(255) UNIQUE,
        "phone" VARCHAR(255) UNIQUE,
        "username" VARCHAR(255) NOT NULL UNIQUE,
        "password" VARCHAR(255),
        "customerName" VARCHAR(255),
        "hasSetPassword" BOOLEAN DEFAULT false,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ customers table checked/created
Executing (default): DO $$ BEGIN
        CREATE TYPE driver_status_enum AS ENUM ('active', 'inactive', 'on_delivery', 'offline');
      EXCEPTION
        WHEN duplicate_object THEN null;
      END $$;
Executing (default): CREATE TABLE IF NOT EXISTS "drivers" (
        "id" SERIAL PRIMARY KEY,
        "name" VARCHAR(255) NOT NULL,
        "phoneNumber" VARCHAR(255) NOT NULL UNIQUE,
        "status" driver_status_enum DEFAULT 'offline',
        "lastActivity" TIMESTAMP WITH TIME ZONE,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ drivers table checked/created
Executing (default): CREATE TABLE IF NOT EXISTS "driver_wallets" (
        "id" SERIAL PRIMARY KEY,
        "driverId" INTEGER NOT NULL UNIQUE REFERENCES "drivers"("id") ON DELETE CASCADE,
        "balance" DECIMAL(10, 2) NOT NULL DEFAULT 0,
        "totalTipsReceived" DECIMAL(10, 2) NOT NULL DEFAULT 0,
        "totalTipsCount" INTEGER NOT NULL DEFAULT 0,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ driver_wallets table checked/created
Executing (default): ALTER TABLE "driver_wallets"
      ADD COLUMN IF NOT EXISTS "totalDeliveryPay" DECIMAL(10,2) DEFAULT 0;
Executing (default): ALTER TABLE "driver_wallets"
      ADD COLUMN IF NOT EXISTS "totalDeliveryPayCount" INTEGER DEFAULT 0;
Client connected: -j8LSw-lnXG04WitAAAB
‚úÖ Delivery pay tracking columns checked/added to driver_wallets table
Executing (default): CREATE TABLE IF NOT EXISTS "saved_addresses" (
        "id" SERIAL PRIMARY KEY,
        "address" TEXT NOT NULL UNIQUE,
        "placeId" VARCHAR(255),
        "formattedAddress" TEXT,
        "searchCount" INTEGER DEFAULT 0,
        "apiCallsSaved" INTEGER DEFAULT 0,
        "costSaved" DECIMAL(10, 4) DEFAULT 0,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ saved_addresses table checked/created
Executing (default): CREATE TABLE IF NOT EXISTS "admins" (
        "id" SERIAL PRIMARY KEY,
        "username" VARCHAR(255) NOT NULL UNIQUE,
        "password" VARCHAR(255),
        "email" VARCHAR(255) NOT NULL UNIQUE,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ admins table checked/created
Executing (default): SELECT is_nullable 
        FROM information_schema.columns 
        WHERE table_name='admins' AND column_name='password';
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='admins' AND column_name='role';
‚úÖ role column already exists in admins table
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='admins' AND column_name='inviteToken';
‚úÖ inviteToken columns already exist in admins table
Executing (default): SELECT "id", "username", "password", "email", "role", "inviteToken", "inviteTokenExpiry", "createdAt", "updatedAt" FROM "admins" AS "Admin" WHERE "Admin"."username" = 'admin';
Executing (default): SELECT "id", "username", "password", "email", "role", "inviteToken", "inviteTokenExpiry", "createdAt", "updatedAt" FROM "admins" AS "Admin" WHERE "Admin"."role" IS NULL;
Database columns updated successfully.
Executing (default): SELECT count(*) AS "count" FROM "categories" AS "Category";
Database setup completed.
Client connected: 6cOV8yhkBNA7mG45AAAE
Client connected: 9STaKCJJQyW9ExIeAAAH
Client connected: pOpmCkqr-uaKDKZ-AAAI
Client connected: e9xKfYS8F3wIKb6IAAAJ
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node server.js`[39m
[dotenv@17.2.3] injecting env (19) from .env -- tip: üîê prevent building .env in docker: https://dotenvx.com/prebuild
Starting server initialization...
Environment: development
Port: 5001
Host: 0.0.0.0
Executing (default): SELECT 1+1 AS result
‚úÖ Database connection established successfully.
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'categories'
üöÄ Server is running on 0.0.0.0:5001
üîó Health check: http://0.0.0.0:5001/api/health
üìä API endpoints:
   - GET  /api/health
   - GET  /api/categories
   - GET  /api/drinks
   - POST /api/orders
   - GET  /api/admin/orders
üåê Server ready to accept requests!
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'categories' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'subcategories'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'subcategories' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'drinks'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'drinks' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'drivers'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_drivers_status' GROUP BY 1
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'drivers' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'orders'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_orders_status' GROUP BY 1
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_orders_paymentStatus' GROUP BY 1
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_orders_paymentType' GROUP BY 1
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_orders_paymentMethod' GROUP BY 1
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'orders' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'order_items'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'order_items' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'countdowns'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'countdowns' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'settings'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'settings' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'admins'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_admins_role' GROUP BY 1
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'admins' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'driver_wallets'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'driver_wallets' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'transactions'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_transactions_transactionType' GROUP BY 1
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_transactions_paymentMethod' GROUP BY 1
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_transactions_status' GROUP BY 1
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_transactions_paymentStatus' GROUP BY 1
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'transactions' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'order_notifications'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'order_notifications' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'otps'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'otps' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'email_confirmations'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'email_confirmations' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'customers'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'customers' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'admin_wallets'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'admin_wallets' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'saved_addresses'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'saved_addresses' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Database synchronized successfully.
Checking for missing columns...
Executing (default): ALTER TABLE "drinks" 
      ADD COLUMN IF NOT EXISTS "isOnOffer" BOOLEAN DEFAULT false;
‚úÖ isOnOffer column checked/added
Executing (default): ALTER TABLE "drinks" 
      ADD COLUMN IF NOT EXISTS "limitedTimeOffer" BOOLEAN DEFAULT false;
‚úÖ limitedTimeOffer column checked/added
Executing (default): ALTER TABLE "drinks" 
      ADD COLUMN IF NOT EXISTS "originalPrice" DECIMAL(10,2);
‚úÖ originalPrice column checked/added
Executing (default): UPDATE "drinks" 
      SET "originalPrice" = "price" 
      WHERE "originalPrice" IS NULL;
‚úÖ originalPrice set for existing drinks
Executing (default): ALTER TABLE "drinks" 
      ALTER COLUMN "image" TYPE TEXT;
‚úÖ Image column updated to TEXT type
Executing (default): ALTER TABLE "drinks" 
      ADD COLUMN IF NOT EXISTS "capacity" JSON;
‚úÖ Capacity column checked/added (JSON type)
Executing (default): ALTER TABLE "drinks" 
      ADD COLUMN IF NOT EXISTS "capacityPricing" JSON;
‚úÖ Capacity pricing column checked/added (JSON type)
Executing (default): ALTER TABLE "drinks" 
      ADD COLUMN IF NOT EXISTS "abv" DECIMAL(5,2);
‚úÖ ABV column checked/added
Executing (default): CREATE TABLE IF NOT EXISTS "subcategories" (
        "id" SERIAL PRIMARY KEY,
        "name" VARCHAR(255) NOT NULL UNIQUE,
        "categoryId" INTEGER NOT NULL REFERENCES "categories"("id"),
        "isActive" BOOLEAN DEFAULT true,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ subcategories table checked/created
Executing (default): ALTER TABLE "drinks" 
      ADD COLUMN IF NOT EXISTS "subCategoryId" INTEGER REFERENCES "subcategories"("id");
‚úÖ subCategoryId column checked/added
Executing (default): CREATE TABLE IF NOT EXISTS "settings" (
        "id" SERIAL PRIMARY KEY,
        "key" VARCHAR(255) NOT NULL UNIQUE,
        "value" TEXT,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ settings table checked/created
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='orders' AND column_name='paymentType';
‚úÖ paymentType column already exists
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='orders' AND column_name='driverId';
‚úÖ driverId column already exists
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='drivers' AND column_name='pinHash';
‚úÖ pinHash column already exists in drivers table
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='orders' AND column_name='driverAccepted';
‚úÖ driverAccepted column already exists in orders table
Executing (default): ALTER TABLE "orders"
      ADD COLUMN IF NOT EXISTS "driverPayCredited" BOOLEAN DEFAULT false;
Executing (default): ALTER TABLE "orders"
      ADD COLUMN IF NOT EXISTS "driverPayCreditedAt" TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "orders"
      ADD COLUMN IF NOT EXISTS "driverPayAmount" DECIMAL(10,2) DEFAULT 0;
‚úÖ Driver pay tracking columns checked/added to orders table
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='orders' AND column_name='paymentMethod';
‚úÖ paymentMethod column already exists
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='orders' AND column_name='paymentStatus';
‚úÖ paymentStatus column already exists
Executing (default): ALTER TYPE "enum_orders_status" ADD VALUE IF NOT EXISTS 'completed';
‚úÖ Status enum updated to include completed
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='orders' AND column_name='tipAmount';
‚úÖ tipAmount column already exists in orders table
Executing (default): CREATE TABLE IF NOT EXISTS "transactions" (
        "id" SERIAL PRIMARY KEY,
        "orderId" INTEGER REFERENCES "orders"("id") ON DELETE CASCADE,
        "driverId" INTEGER REFERENCES "drivers"("id") ON DELETE SET NULL,
        "driverWalletId" INTEGER,
        "transactionType" VARCHAR(255) DEFAULT 'payment',
        "paymentMethod" VARCHAR(255) NOT NULL,
        "paymentProvider" VARCHAR(255),
        "amount" DECIMAL(10, 2) NOT NULL,
        "status" VARCHAR(255) DEFAULT 'pending',
        "paymentStatus" VARCHAR(255) DEFAULT 'pending',
        "receiptNumber" VARCHAR(255),
        "checkoutRequestID" VARCHAR(255),
        "merchantRequestID" VARCHAR(255),
        "phoneNumber" VARCHAR(255),
        "transactionDate" TIMESTAMP WITH TIME ZONE,
        "notes" TEXT,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ transactions table checked/created
Executing (default): SELECT column_name 
        FROM information_schema.columns 
        WHERE table_name='transactions' AND column_name='paymentStatus';
‚úÖ paymentStatus column already exists in transactions table
Executing (default): SELECT is_nullable 
        FROM information_schema.columns 
        WHERE table_name='transactions' AND column_name='orderId';
‚úÖ orderId column already allows NULL in transactions table
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='transactions' AND column_name='driverId';
‚úÖ driverId column already exists in transactions table
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='transactions' AND column_name='driverWalletId';
‚úÖ driverWalletId column already exists in transactions table
Executing (default): DO $$ BEGIN
        CREATE TYPE transaction_type_enum AS ENUM ('payment', 'refund', 'tip', 'withdrawal');
      EXCEPTION
        WHEN duplicate_object THEN null;
      END $$;
Executing (default): ALTER TYPE transaction_type_enum ADD VALUE IF NOT EXISTS 'tip'
‚úÖ Added tip to transaction_type_enum
Executing (default): ALTER TYPE transaction_type_enum ADD VALUE IF NOT EXISTS 'withdrawal'
‚úÖ Added withdrawal to transaction_type_enum
Executing (default): ALTER TYPE transaction_type_enum ADD VALUE IF NOT EXISTS 'delivery_pay'
‚úÖ Added delivery_pay to transaction_type_enum
Executing (default): ALTER TYPE transaction_type_enum ADD VALUE IF NOT EXISTS 'driver_pay'
‚úÖ Added driver_pay to transaction_type_enum
Executing (default): ALTER TYPE transaction_type_enum ADD VALUE IF NOT EXISTS 'delivery_fee_debit'
‚úÖ Added delivery_fee_debit to transaction_type_enum
Executing (default): ALTER TYPE transaction_type_enum ADD VALUE IF NOT EXISTS 'cash_settlement'
‚úÖ Added cash_settlement to transaction_type_enum
Executing (default): DO $$ BEGIN
        CREATE TYPE transaction_status_enum AS ENUM ('pending', 'completed', 'failed', 'cancelled');
      EXCEPTION
        WHEN duplicate_object THEN null;
      END $$;
Executing (default): DO $$ BEGIN
        CREATE TYPE transaction_payment_method_enum AS ENUM ('card', 'mobile_money', 'cash', 'system');
      EXCEPTION
        WHEN duplicate_object THEN null;
      END $$;
Executing (default): ALTER TYPE transaction_payment_method_enum ADD VALUE IF NOT EXISTS 'system'
‚úÖ Added system to transaction_payment_method_enum
Executing (default): UPDATE transactions
      SET "transactionDate" = "createdAt"
      WHERE "transactionType" = 'payment' AND "transactionDate" IS NULL;
‚úÖ Backfilled missing payment transaction dates
Executing (default): UPDATE transactions AS tip
      SET "transactionDate" = pay."transactionDate"
      FROM transactions AS pay
      WHERE tip."transactionType" = 'tip'
        AND pay."transactionType" = 'payment'
        AND pay."status" = 'completed'
        AND tip."orderId" = pay."orderId"
        AND pay."transactionDate" IS NOT NULL
        AND tip."transactionDate" IS DISTINCT FROM pay."transactionDate";
‚úÖ Synchronized tip transaction dates with payment transactions
Executing (default): UPDATE transactions
      SET "transactionDate" = "createdAt"
      WHERE "transactionType" = 'tip' AND "transactionDate" IS NULL;
‚úÖ Backfilled missing tip transaction dates
Executing (default): SELECT data_type 
        FROM information_schema.columns 
        WHERE table_name='transactions' AND column_name='transactionType';
Executing (default): ALTER TABLE "transactions" 
          ALTER COLUMN "transactionType" TYPE transaction_type_enum USING "transactionType"::transaction_type_enum;
Executing (default): CREATE TABLE IF NOT EXISTS "order_notifications" (
        "id" SERIAL PRIMARY KEY,
        "name" VARCHAR(255) NOT NULL,
        "phoneNumber" VARCHAR(255) NOT NULL,
        "isActive" BOOLEAN DEFAULT true,
        "notes" TEXT,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ order_notifications table checked/created
Executing (default): CREATE TABLE IF NOT EXISTS "otps" (
        "id" SERIAL PRIMARY KEY,
        "phoneNumber" VARCHAR(255) NOT NULL,
        "otpCode" VARCHAR(10) NOT NULL,
        "expiresAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "isUsed" BOOLEAN DEFAULT false,
        "attempts" INTEGER DEFAULT 0,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ otps table checked/created
Executing (default): CREATE TABLE IF NOT EXISTS "email_confirmations" (
        "id" SERIAL PRIMARY KEY,
        "email" VARCHAR(255) NOT NULL,
        "token" VARCHAR(255) NOT NULL UNIQUE,
        "expiresAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "isUsed" BOOLEAN DEFAULT false,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ email_confirmations table checked/created
Executing (default): CREATE TABLE IF NOT EXISTS "customers" (
        "id" SERIAL PRIMARY KEY,
        "email" VARCHAR(255) UNIQUE,
        "phone" VARCHAR(255) UNIQUE,
        "username" VARCHAR(255) NOT NULL UNIQUE,
        "password" VARCHAR(255),
        "customerName" VARCHAR(255),
        "hasSetPassword" BOOLEAN DEFAULT false,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ customers table checked/created
Executing (default): DO $$ BEGIN
        CREATE TYPE driver_status_enum AS ENUM ('active', 'inactive', 'on_delivery', 'offline');
      EXCEPTION
        WHEN duplicate_object THEN null;
      END $$;
Executing (default): CREATE TABLE IF NOT EXISTS "drivers" (
        "id" SERIAL PRIMARY KEY,
        "name" VARCHAR(255) NOT NULL,
        "phoneNumber" VARCHAR(255) NOT NULL UNIQUE,
        "status" driver_status_enum DEFAULT 'offline',
        "lastActivity" TIMESTAMP WITH TIME ZONE,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ drivers table checked/created
Executing (default): CREATE TABLE IF NOT EXISTS "driver_wallets" (
        "id" SERIAL PRIMARY KEY,
        "driverId" INTEGER NOT NULL UNIQUE REFERENCES "drivers"("id") ON DELETE CASCADE,
        "balance" DECIMAL(10, 2) NOT NULL DEFAULT 0,
        "totalTipsReceived" DECIMAL(10, 2) NOT NULL DEFAULT 0,
        "totalTipsCount" INTEGER NOT NULL DEFAULT 0,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ driver_wallets table checked/created
Executing (default): ALTER TABLE "driver_wallets"
      ADD COLUMN IF NOT EXISTS "totalDeliveryPay" DECIMAL(10,2) DEFAULT 0;
Executing (default): ALTER TABLE "driver_wallets"
      ADD COLUMN IF NOT EXISTS "totalDeliveryPayCount" INTEGER DEFAULT 0;
‚úÖ Delivery pay tracking columns checked/added to driver_wallets table
Executing (default): CREATE TABLE IF NOT EXISTS "saved_addresses" (
        "id" SERIAL PRIMARY KEY,
        "address" TEXT NOT NULL UNIQUE,
        "placeId" VARCHAR(255),
        "formattedAddress" TEXT,
        "searchCount" INTEGER DEFAULT 0,
        "apiCallsSaved" INTEGER DEFAULT 0,
        "costSaved" DECIMAL(10, 4) DEFAULT 0,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ saved_addresses table checked/created
Executing (default): CREATE TABLE IF NOT EXISTS "admins" (
        "id" SERIAL PRIMARY KEY,
        "username" VARCHAR(255) NOT NULL UNIQUE,
        "password" VARCHAR(255),
        "email" VARCHAR(255) NOT NULL UNIQUE,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ admins table checked/created
Executing (default): SELECT is_nullable 
        FROM information_schema.columns 
        WHERE table_name='admins' AND column_name='password';
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='admins' AND column_name='role';
‚úÖ role column already exists in admins table
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='admins' AND column_name='inviteToken';
‚úÖ inviteToken columns already exist in admins table
Executing (default): SELECT "id", "username", "password", "email", "role", "inviteToken", "inviteTokenExpiry", "createdAt", "updatedAt" FROM "admins" AS "Admin" WHERE "Admin"."username" = 'admin';
Executing (default): SELECT "id", "username", "password", "email", "role", "inviteToken", "inviteTokenExpiry", "createdAt", "updatedAt" FROM "admins" AS "Admin" WHERE "Admin"."role" IS NULL;
Database columns updated successfully.
Executing (default): SELECT count(*) AS "count" FROM "categories" AS "Category";
Database setup completed.
Client connected: bkDscWUX-MURaHPSAAAC
Client connected: smwtp-_Q_sOF4iPDAAAE
Client connected: QSzKD2SydC7OZeUaAAAG
Client connected: DX-fULVe8S48lGV9AAAH
Client connected: NCuLM0-jwf8V77ANAAAJ
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node server.js`[39m
[dotenv@17.2.3] injecting env (19) from .env -- tip: ‚öôÔ∏è  enable debug logging with { debug: true }
Starting server initialization...
Environment: development
Port: 5001
Host: 0.0.0.0
üöÄ Server is running on 0.0.0.0:5001
üîó Health check: http://0.0.0.0:5001/api/health
üìä API endpoints:
   - GET  /api/health
   - GET  /api/categories
   - GET  /api/drinks
   - POST /api/orders
   - GET  /api/admin/orders
üåê Server ready to accept requests!
Executing (default): SELECT 1+1 AS result
‚úÖ Database connection established successfully.
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'categories'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'categories' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'subcategories'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'subcategories' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'drinks'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'drinks' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'drivers'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_drivers_status' GROUP BY 1
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'drivers' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'orders'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_orders_status' GROUP BY 1
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_orders_paymentStatus' GROUP BY 1
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_orders_paymentType' GROUP BY 1
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_orders_paymentMethod' GROUP BY 1
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'orders' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'order_items'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'order_items' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'countdowns'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'countdowns' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'settings'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'settings' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'admins'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_admins_role' GROUP BY 1
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'admins' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'driver_wallets'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'driver_wallets' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'transactions'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_transactions_transactionType' GROUP BY 1
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_transactions_paymentMethod' GROUP BY 1
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_transactions_status' GROUP BY 1
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_transactions_paymentStatus' GROUP BY 1
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'transactions' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'order_notifications'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'order_notifications' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'otps'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'otps' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'email_confirmations'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'email_confirmations' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'customers'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'customers' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'admin_wallets'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'admin_wallets' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'saved_addresses'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'saved_addresses' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Database synchronized successfully.
Checking for missing columns...
Executing (default): ALTER TABLE "drinks" 
      ADD COLUMN IF NOT EXISTS "isOnOffer" BOOLEAN DEFAULT false;
‚úÖ isOnOffer column checked/added
Executing (default): ALTER TABLE "drinks" 
      ADD COLUMN IF NOT EXISTS "limitedTimeOffer" BOOLEAN DEFAULT false;
‚úÖ limitedTimeOffer column checked/added
Executing (default): ALTER TABLE "drinks" 
      ADD COLUMN IF NOT EXISTS "originalPrice" DECIMAL(10,2);
‚úÖ originalPrice column checked/added
Executing (default): UPDATE "drinks" 
      SET "originalPrice" = "price" 
      WHERE "originalPrice" IS NULL;
‚úÖ originalPrice set for existing drinks
Executing (default): ALTER TABLE "drinks" 
      ALTER COLUMN "image" TYPE TEXT;
‚úÖ Image column updated to TEXT type
Executing (default): ALTER TABLE "drinks" 
      ADD COLUMN IF NOT EXISTS "capacity" JSON;
‚úÖ Capacity column checked/added (JSON type)
Executing (default): ALTER TABLE "drinks" 
      ADD COLUMN IF NOT EXISTS "capacityPricing" JSON;
‚úÖ Capacity pricing column checked/added (JSON type)
Executing (default): ALTER TABLE "drinks" 
      ADD COLUMN IF NOT EXISTS "abv" DECIMAL(5,2);
‚úÖ ABV column checked/added
Executing (default): CREATE TABLE IF NOT EXISTS "subcategories" (
        "id" SERIAL PRIMARY KEY,
        "name" VARCHAR(255) NOT NULL UNIQUE,
        "categoryId" INTEGER NOT NULL REFERENCES "categories"("id"),
        "isActive" BOOLEAN DEFAULT true,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ subcategories table checked/created
Executing (default): ALTER TABLE "drinks" 
      ADD COLUMN IF NOT EXISTS "subCategoryId" INTEGER REFERENCES "subcategories"("id");
‚úÖ subCategoryId column checked/added
Executing (default): CREATE TABLE IF NOT EXISTS "settings" (
        "id" SERIAL PRIMARY KEY,
        "key" VARCHAR(255) NOT NULL UNIQUE,
        "value" TEXT,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ settings table checked/created
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='orders' AND column_name='paymentType';
‚úÖ paymentType column already exists
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='orders' AND column_name='driverId';
‚úÖ driverId column already exists
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='drivers' AND column_name='pinHash';
‚úÖ pinHash column already exists in drivers table
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='orders' AND column_name='driverAccepted';
‚úÖ driverAccepted column already exists in orders table
Executing (default): ALTER TABLE "orders"
      ADD COLUMN IF NOT EXISTS "driverPayCredited" BOOLEAN DEFAULT false;
Executing (default): ALTER TABLE "orders"
      ADD COLUMN IF NOT EXISTS "driverPayCreditedAt" TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "orders"
      ADD COLUMN IF NOT EXISTS "driverPayAmount" DECIMAL(10,2) DEFAULT 0;
‚úÖ Driver pay tracking columns checked/added to orders table
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='orders' AND column_name='paymentMethod';
‚úÖ paymentMethod column already exists
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='orders' AND column_name='paymentStatus';
‚úÖ paymentStatus column already exists
Executing (default): ALTER TYPE "enum_orders_status" ADD VALUE IF NOT EXISTS 'completed';
‚úÖ Status enum updated to include completed
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='orders' AND column_name='tipAmount';
‚úÖ tipAmount column already exists in orders table
Executing (default): CREATE TABLE IF NOT EXISTS "transactions" (
        "id" SERIAL PRIMARY KEY,
        "orderId" INTEGER REFERENCES "orders"("id") ON DELETE CASCADE,
        "driverId" INTEGER REFERENCES "drivers"("id") ON DELETE SET NULL,
        "driverWalletId" INTEGER,
        "transactionType" VARCHAR(255) DEFAULT 'payment',
        "paymentMethod" VARCHAR(255) NOT NULL,
        "paymentProvider" VARCHAR(255),
        "amount" DECIMAL(10, 2) NOT NULL,
        "status" VARCHAR(255) DEFAULT 'pending',
        "paymentStatus" VARCHAR(255) DEFAULT 'pending',
        "receiptNumber" VARCHAR(255),
        "checkoutRequestID" VARCHAR(255),
        "merchantRequestID" VARCHAR(255),
        "phoneNumber" VARCHAR(255),
        "transactionDate" TIMESTAMP WITH TIME ZONE,
        "notes" TEXT,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ transactions table checked/created
Executing (default): SELECT column_name 
        FROM information_schema.columns 
        WHERE table_name='transactions' AND column_name='paymentStatus';
‚úÖ paymentStatus column already exists in transactions table
Executing (default): SELECT is_nullable 
        FROM information_schema.columns 
        WHERE table_name='transactions' AND column_name='orderId';
‚úÖ orderId column already allows NULL in transactions table
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='transactions' AND column_name='driverId';
‚úÖ driverId column already exists in transactions table
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='transactions' AND column_name='driverWalletId';
‚úÖ driverWalletId column already exists in transactions table
Executing (default): DO $$ BEGIN
        CREATE TYPE transaction_type_enum AS ENUM ('payment', 'refund', 'tip', 'withdrawal');
      EXCEPTION
        WHEN duplicate_object THEN null;
      END $$;
Executing (default): ALTER TYPE transaction_type_enum ADD VALUE IF NOT EXISTS 'tip'
‚úÖ Added tip to transaction_type_enum
Executing (default): ALTER TYPE transaction_type_enum ADD VALUE IF NOT EXISTS 'withdrawal'
‚úÖ Added withdrawal to transaction_type_enum
Executing (default): ALTER TYPE transaction_type_enum ADD VALUE IF NOT EXISTS 'delivery_pay'
‚úÖ Added delivery_pay to transaction_type_enum
Executing (default): ALTER TYPE transaction_type_enum ADD VALUE IF NOT EXISTS 'driver_pay'
‚úÖ Added driver_pay to transaction_type_enum
Executing (default): ALTER TYPE transaction_type_enum ADD VALUE IF NOT EXISTS 'delivery_fee_debit'
‚úÖ Added delivery_fee_debit to transaction_type_enum
Executing (default): ALTER TYPE transaction_type_enum ADD VALUE IF NOT EXISTS 'cash_settlement'
‚úÖ Added cash_settlement to transaction_type_enum
Executing (default): DO $$ BEGIN
        CREATE TYPE transaction_status_enum AS ENUM ('pending', 'completed', 'failed', 'cancelled');
      EXCEPTION
        WHEN duplicate_object THEN null;
      END $$;
Executing (default): DO $$ BEGIN
        CREATE TYPE transaction_payment_method_enum AS ENUM ('card', 'mobile_money', 'cash', 'system');
      EXCEPTION
        WHEN duplicate_object THEN null;
      END $$;
Executing (default): ALTER TYPE transaction_payment_method_enum ADD VALUE IF NOT EXISTS 'system'
‚úÖ Added system to transaction_payment_method_enum
Executing (default): UPDATE transactions
      SET "transactionDate" = "createdAt"
      WHERE "transactionType" = 'payment' AND "transactionDate" IS NULL;
‚úÖ Backfilled missing payment transaction dates
Executing (default): UPDATE transactions AS tip
      SET "transactionDate" = pay."transactionDate"
      FROM transactions AS pay
      WHERE tip."transactionType" = 'tip'
        AND pay."transactionType" = 'payment'
        AND pay."status" = 'completed'
        AND tip."orderId" = pay."orderId"
        AND pay."transactionDate" IS NOT NULL
        AND tip."transactionDate" IS DISTINCT FROM pay."transactionDate";
‚úÖ Synchronized tip transaction dates with payment transactions
Executing (default): UPDATE transactions
      SET "transactionDate" = "createdAt"
      WHERE "transactionType" = 'tip' AND "transactionDate" IS NULL;
‚úÖ Backfilled missing tip transaction dates
Executing (default): SELECT data_type 
        FROM information_schema.columns 
        WHERE table_name='transactions' AND column_name='transactionType';
Executing (default): ALTER TABLE "transactions" 
          ALTER COLUMN "transactionType" TYPE transaction_type_enum USING "transactionType"::transaction_type_enum;
Executing (default): CREATE TABLE IF NOT EXISTS "order_notifications" (
        "id" SERIAL PRIMARY KEY,
        "name" VARCHAR(255) NOT NULL,
        "phoneNumber" VARCHAR(255) NOT NULL,
        "isActive" BOOLEAN DEFAULT true,
        "notes" TEXT,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ order_notifications table checked/created
Executing (default): CREATE TABLE IF NOT EXISTS "otps" (
        "id" SERIAL PRIMARY KEY,
        "phoneNumber" VARCHAR(255) NOT NULL,
        "otpCode" VARCHAR(10) NOT NULL,
        "expiresAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "isUsed" BOOLEAN DEFAULT false,
        "attempts" INTEGER DEFAULT 0,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ otps table checked/created
Executing (default): CREATE TABLE IF NOT EXISTS "email_confirmations" (
        "id" SERIAL PRIMARY KEY,
        "email" VARCHAR(255) NOT NULL,
        "token" VARCHAR(255) NOT NULL UNIQUE,
        "expiresAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "isUsed" BOOLEAN DEFAULT false,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ email_confirmations table checked/created
Executing (default): CREATE TABLE IF NOT EXISTS "customers" (
        "id" SERIAL PRIMARY KEY,
        "email" VARCHAR(255) UNIQUE,
        "phone" VARCHAR(255) UNIQUE,
        "username" VARCHAR(255) NOT NULL UNIQUE,
        "password" VARCHAR(255),
        "customerName" VARCHAR(255),
        "hasSetPassword" BOOLEAN DEFAULT false,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ customers table checked/created
Executing (default): DO $$ BEGIN
        CREATE TYPE driver_status_enum AS ENUM ('active', 'inactive', 'on_delivery', 'offline');
      EXCEPTION
        WHEN duplicate_object THEN null;
      END $$;
Executing (default): CREATE TABLE IF NOT EXISTS "drivers" (
        "id" SERIAL PRIMARY KEY,
        "name" VARCHAR(255) NOT NULL,
        "phoneNumber" VARCHAR(255) NOT NULL UNIQUE,
        "status" driver_status_enum DEFAULT 'offline',
        "lastActivity" TIMESTAMP WITH TIME ZONE,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ drivers table checked/created
Executing (default): CREATE TABLE IF NOT EXISTS "driver_wallets" (
        "id" SERIAL PRIMARY KEY,
        "driverId" INTEGER NOT NULL UNIQUE REFERENCES "drivers"("id") ON DELETE CASCADE,
        "balance" DECIMAL(10, 2) NOT NULL DEFAULT 0,
        "totalTipsReceived" DECIMAL(10, 2) NOT NULL DEFAULT 0,
        "totalTipsCount" INTEGER NOT NULL DEFAULT 0,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ driver_wallets table checked/created
Executing (default): ALTER TABLE "driver_wallets"
      ADD COLUMN IF NOT EXISTS "totalDeliveryPay" DECIMAL(10,2) DEFAULT 0;
Executing (default): ALTER TABLE "driver_wallets"
      ADD COLUMN IF NOT EXISTS "totalDeliveryPayCount" INTEGER DEFAULT 0;
‚úÖ Delivery pay tracking columns checked/added to driver_wallets table
Executing (default): CREATE TABLE IF NOT EXISTS "saved_addresses" (
        "id" SERIAL PRIMARY KEY,
        "address" TEXT NOT NULL UNIQUE,
        "placeId" VARCHAR(255),
        "formattedAddress" TEXT,
        "searchCount" INTEGER DEFAULT 0,
        "apiCallsSaved" INTEGER DEFAULT 0,
        "costSaved" DECIMAL(10, 4) DEFAULT 0,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ saved_addresses table checked/created
Executing (default): CREATE TABLE IF NOT EXISTS "admins" (
        "id" SERIAL PRIMARY KEY,
        "username" VARCHAR(255) NOT NULL UNIQUE,
        "password" VARCHAR(255),
        "email" VARCHAR(255) NOT NULL UNIQUE,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ admins table checked/created
Executing (default): SELECT is_nullable 
        FROM information_schema.columns 
        WHERE table_name='admins' AND column_name='password';
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='admins' AND column_name='role';
‚úÖ role column already exists in admins table
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='admins' AND column_name='inviteToken';
‚úÖ inviteToken columns already exist in admins table
Executing (default): SELECT "id", "username", "password", "email", "role", "inviteToken", "inviteTokenExpiry", "createdAt", "updatedAt" FROM "admins" AS "Admin" WHERE "Admin"."username" = 'admin';
Executing (default): SELECT "id", "username", "password", "email", "role", "inviteToken", "inviteTokenExpiry", "createdAt", "updatedAt" FROM "admins" AS "Admin" WHERE "Admin"."role" IS NULL;
Database columns updated successfully.
Executing (default): SELECT count(*) AS "count" FROM "categories" AS "Category";
Database setup completed.
Client connected: n7XazRJ6FfX53NdZAAAB
Client connected: vI4a_MfibXRQGiwFAAAD
Client connected: wrALRLgAt4gBc2lnAAAG
Client connected: -KAWST5aZjkKy0xnAAAI
Client connected: PHv0bZ_p3-o-AcC_AAAJ
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node server.js`[39m
[dotenv@17.2.3] injecting env (19) from .env -- tip: ‚öôÔ∏è  override existing env vars with { override: true }
Starting server initialization...
Environment: development
Port: 5001
Host: 0.0.0.0
üöÄ Server is running on 0.0.0.0:5001
üîó Health check: http://0.0.0.0:5001/api/health
üìä API endpoints:
   - GET  /api/health
   - GET  /api/categories
   - GET  /api/drinks
   - POST /api/orders
   - GET  /api/admin/orders
üåê Server ready to accept requests!
Executing (default): SELECT 1+1 AS result
‚úÖ Database connection established successfully.
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'categories'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'categories' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'subcategories'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'subcategories' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'drinks'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'drinks' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'drivers'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_drivers_status' GROUP BY 1
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'drivers' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'orders'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_orders_status' GROUP BY 1
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_orders_paymentStatus' GROUP BY 1
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_orders_paymentType' GROUP BY 1
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_orders_paymentMethod' GROUP BY 1
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'orders' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'order_items'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'order_items' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'countdowns'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'countdowns' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'settings'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'settings' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'admins'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_admins_role' GROUP BY 1
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'admins' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'driver_wallets'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'driver_wallets' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'transactions'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_transactions_transactionType' GROUP BY 1
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_transactions_paymentMethod' GROUP BY 1
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_transactions_status' GROUP BY 1
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_transactions_paymentStatus' GROUP BY 1
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'transactions' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'order_notifications'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'order_notifications' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'otps'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'otps' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'email_confirmations'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'email_confirmations' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'customers'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'customers' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'admin_wallets'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'admin_wallets' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'saved_addresses'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'saved_addresses' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Database synchronized successfully.
Checking for missing columns...
Executing (default): ALTER TABLE "drinks" 
      ADD COLUMN IF NOT EXISTS "isOnOffer" BOOLEAN DEFAULT false;
‚úÖ isOnOffer column checked/added
Executing (default): ALTER TABLE "drinks" 
      ADD COLUMN IF NOT EXISTS "limitedTimeOffer" BOOLEAN DEFAULT false;
‚úÖ limitedTimeOffer column checked/added
Executing (default): ALTER TABLE "drinks" 
      ADD COLUMN IF NOT EXISTS "originalPrice" DECIMAL(10,2);
‚úÖ originalPrice column checked/added
Executing (default): UPDATE "drinks" 
      SET "originalPrice" = "price" 
      WHERE "originalPrice" IS NULL;
‚úÖ originalPrice set for existing drinks
Executing (default): ALTER TABLE "drinks" 
      ALTER COLUMN "image" TYPE TEXT;
‚úÖ Image column updated to TEXT type
Executing (default): ALTER TABLE "drinks" 
      ADD COLUMN IF NOT EXISTS "capacity" JSON;
‚úÖ Capacity column checked/added (JSON type)
Executing (default): ALTER TABLE "drinks" 
      ADD COLUMN IF NOT EXISTS "capacityPricing" JSON;
‚úÖ Capacity pricing column checked/added (JSON type)
Executing (default): ALTER TABLE "drinks" 
      ADD COLUMN IF NOT EXISTS "abv" DECIMAL(5,2);
‚úÖ ABV column checked/added
Executing (default): CREATE TABLE IF NOT EXISTS "subcategories" (
        "id" SERIAL PRIMARY KEY,
        "name" VARCHAR(255) NOT NULL UNIQUE,
        "categoryId" INTEGER NOT NULL REFERENCES "categories"("id"),
        "isActive" BOOLEAN DEFAULT true,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ subcategories table checked/created
Executing (default): ALTER TABLE "drinks" 
      ADD COLUMN IF NOT EXISTS "subCategoryId" INTEGER REFERENCES "subcategories"("id");
‚úÖ subCategoryId column checked/added
Executing (default): CREATE TABLE IF NOT EXISTS "settings" (
        "id" SERIAL PRIMARY KEY,
        "key" VARCHAR(255) NOT NULL UNIQUE,
        "value" TEXT,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ settings table checked/created
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='orders' AND column_name='paymentType';
‚úÖ paymentType column already exists
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='orders' AND column_name='driverId';
‚úÖ driverId column already exists
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='drivers' AND column_name='pinHash';
‚úÖ pinHash column already exists in drivers table
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='orders' AND column_name='driverAccepted';
‚úÖ driverAccepted column already exists in orders table
Executing (default): ALTER TABLE "orders"
      ADD COLUMN IF NOT EXISTS "driverPayCredited" BOOLEAN DEFAULT false;
Executing (default): ALTER TABLE "orders"
      ADD COLUMN IF NOT EXISTS "driverPayCreditedAt" TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "orders"
      ADD COLUMN IF NOT EXISTS "driverPayAmount" DECIMAL(10,2) DEFAULT 0;
‚úÖ Driver pay tracking columns checked/added to orders table
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='orders' AND column_name='paymentMethod';
‚úÖ paymentMethod column already exists
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='orders' AND column_name='paymentStatus';
‚úÖ paymentStatus column already exists
Executing (default): ALTER TYPE "enum_orders_status" ADD VALUE IF NOT EXISTS 'completed';
‚úÖ Status enum updated to include completed
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='orders' AND column_name='tipAmount';
‚úÖ tipAmount column already exists in orders table
Executing (default): CREATE TABLE IF NOT EXISTS "transactions" (
        "id" SERIAL PRIMARY KEY,
        "orderId" INTEGER REFERENCES "orders"("id") ON DELETE CASCADE,
        "driverId" INTEGER REFERENCES "drivers"("id") ON DELETE SET NULL,
        "driverWalletId" INTEGER,
        "transactionType" VARCHAR(255) DEFAULT 'payment',
        "paymentMethod" VARCHAR(255) NOT NULL,
        "paymentProvider" VARCHAR(255),
        "amount" DECIMAL(10, 2) NOT NULL,
        "status" VARCHAR(255) DEFAULT 'pending',
        "paymentStatus" VARCHAR(255) DEFAULT 'pending',
        "receiptNumber" VARCHAR(255),
        "checkoutRequestID" VARCHAR(255),
        "merchantRequestID" VARCHAR(255),
        "phoneNumber" VARCHAR(255),
        "transactionDate" TIMESTAMP WITH TIME ZONE,
        "notes" TEXT,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ transactions table checked/created
Executing (default): SELECT column_name 
        FROM information_schema.columns 
        WHERE table_name='transactions' AND column_name='paymentStatus';
‚úÖ paymentStatus column already exists in transactions table
Executing (default): SELECT is_nullable 
        FROM information_schema.columns 
        WHERE table_name='transactions' AND column_name='orderId';
‚úÖ orderId column already allows NULL in transactions table
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='transactions' AND column_name='driverId';
‚úÖ driverId column already exists in transactions table
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='transactions' AND column_name='driverWalletId';
‚úÖ driverWalletId column already exists in transactions table
Executing (default): DO $$ BEGIN
        CREATE TYPE transaction_type_enum AS ENUM ('payment', 'refund', 'tip', 'withdrawal');
      EXCEPTION
        WHEN duplicate_object THEN null;
      END $$;
Executing (default): ALTER TYPE transaction_type_enum ADD VALUE IF NOT EXISTS 'tip'
‚úÖ Added tip to transaction_type_enum
Executing (default): ALTER TYPE transaction_type_enum ADD VALUE IF NOT EXISTS 'withdrawal'
‚úÖ Added withdrawal to transaction_type_enum
Executing (default): ALTER TYPE transaction_type_enum ADD VALUE IF NOT EXISTS 'delivery_pay'
‚úÖ Added delivery_pay to transaction_type_enum
Executing (default): ALTER TYPE transaction_type_enum ADD VALUE IF NOT EXISTS 'driver_pay'
‚úÖ Added driver_pay to transaction_type_enum
Executing (default): ALTER TYPE transaction_type_enum ADD VALUE IF NOT EXISTS 'delivery_fee_debit'
‚úÖ Added delivery_fee_debit to transaction_type_enum
Executing (default): ALTER TYPE transaction_type_enum ADD VALUE IF NOT EXISTS 'cash_settlement'
‚úÖ Added cash_settlement to transaction_type_enum
Executing (default): DO $$ BEGIN
        CREATE TYPE transaction_status_enum AS ENUM ('pending', 'completed', 'failed', 'cancelled');
      EXCEPTION
        WHEN duplicate_object THEN null;
      END $$;
Executing (default): DO $$ BEGIN
        CREATE TYPE transaction_payment_method_enum AS ENUM ('card', 'mobile_money', 'cash', 'system');
      EXCEPTION
        WHEN duplicate_object THEN null;
      END $$;
Executing (default): ALTER TYPE transaction_payment_method_enum ADD VALUE IF NOT EXISTS 'system'
‚úÖ Added system to transaction_payment_method_enum
Executing (default): UPDATE transactions
      SET "transactionDate" = "createdAt"
      WHERE "transactionType" = 'payment' AND "transactionDate" IS NULL;
‚úÖ Backfilled missing payment transaction dates
Executing (default): UPDATE transactions AS tip
      SET "transactionDate" = pay."transactionDate"
      FROM transactions AS pay
      WHERE tip."transactionType" = 'tip'
        AND pay."transactionType" = 'payment'
        AND pay."status" = 'completed'
        AND tip."orderId" = pay."orderId"
        AND pay."transactionDate" IS NOT NULL
        AND tip."transactionDate" IS DISTINCT FROM pay."transactionDate";
‚úÖ Synchronized tip transaction dates with payment transactions
Executing (default): UPDATE transactions
      SET "transactionDate" = "createdAt"
      WHERE "transactionType" = 'tip' AND "transactionDate" IS NULL;
‚úÖ Backfilled missing tip transaction dates
Executing (default): SELECT data_type 
        FROM information_schema.columns 
        WHERE table_name='transactions' AND column_name='transactionType';
Executing (default): ALTER TABLE "transactions" 
          ALTER COLUMN "transactionType" TYPE transaction_type_enum USING "transactionType"::transaction_type_enum;
Executing (default): CREATE TABLE IF NOT EXISTS "order_notifications" (
        "id" SERIAL PRIMARY KEY,
        "name" VARCHAR(255) NOT NULL,
        "phoneNumber" VARCHAR(255) NOT NULL,
        "isActive" BOOLEAN DEFAULT true,
        "notes" TEXT,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ order_notifications table checked/created
Executing (default): CREATE TABLE IF NOT EXISTS "otps" (
        "id" SERIAL PRIMARY KEY,
        "phoneNumber" VARCHAR(255) NOT NULL,
        "otpCode" VARCHAR(10) NOT NULL,
        "expiresAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "isUsed" BOOLEAN DEFAULT false,
        "attempts" INTEGER DEFAULT 0,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ otps table checked/created
Executing (default): CREATE TABLE IF NOT EXISTS "email_confirmations" (
        "id" SERIAL PRIMARY KEY,
        "email" VARCHAR(255) NOT NULL,
        "token" VARCHAR(255) NOT NULL UNIQUE,
        "expiresAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "isUsed" BOOLEAN DEFAULT false,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ email_confirmations table checked/created
Executing (default): CREATE TABLE IF NOT EXISTS "customers" (
        "id" SERIAL PRIMARY KEY,
        "email" VARCHAR(255) UNIQUE,
        "phone" VARCHAR(255) UNIQUE,
        "username" VARCHAR(255) NOT NULL UNIQUE,
        "password" VARCHAR(255),
        "customerName" VARCHAR(255),
        "hasSetPassword" BOOLEAN DEFAULT false,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ customers table checked/created
Executing (default): DO $$ BEGIN
        CREATE TYPE driver_status_enum AS ENUM ('active', 'inactive', 'on_delivery', 'offline');
      EXCEPTION
        WHEN duplicate_object THEN null;
      END $$;
Executing (default): CREATE TABLE IF NOT EXISTS "drivers" (
        "id" SERIAL PRIMARY KEY,
        "name" VARCHAR(255) NOT NULL,
        "phoneNumber" VARCHAR(255) NOT NULL UNIQUE,
        "status" driver_status_enum DEFAULT 'offline',
        "lastActivity" TIMESTAMP WITH TIME ZONE,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ drivers table checked/created
Executing (default): CREATE TABLE IF NOT EXISTS "driver_wallets" (
        "id" SERIAL PRIMARY KEY,
        "driverId" INTEGER NOT NULL UNIQUE REFERENCES "drivers"("id") ON DELETE CASCADE,
        "balance" DECIMAL(10, 2) NOT NULL DEFAULT 0,
        "totalTipsReceived" DECIMAL(10, 2) NOT NULL DEFAULT 0,
        "totalTipsCount" INTEGER NOT NULL DEFAULT 0,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ driver_wallets table checked/created
Executing (default): ALTER TABLE "driver_wallets"
      ADD COLUMN IF NOT EXISTS "totalDeliveryPay" DECIMAL(10,2) DEFAULT 0;
Executing (default): ALTER TABLE "driver_wallets"
      ADD COLUMN IF NOT EXISTS "totalDeliveryPayCount" INTEGER DEFAULT 0;
‚úÖ Delivery pay tracking columns checked/added to driver_wallets table
Executing (default): CREATE TABLE IF NOT EXISTS "saved_addresses" (
        "id" SERIAL PRIMARY KEY,
        "address" TEXT NOT NULL UNIQUE,
        "placeId" VARCHAR(255),
        "formattedAddress" TEXT,
        "searchCount" INTEGER DEFAULT 0,
        "apiCallsSaved" INTEGER DEFAULT 0,
        "costSaved" DECIMAL(10, 4) DEFAULT 0,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ saved_addresses table checked/created
Executing (default): CREATE TABLE IF NOT EXISTS "admins" (
        "id" SERIAL PRIMARY KEY,
        "username" VARCHAR(255) NOT NULL UNIQUE,
        "password" VARCHAR(255),
        "email" VARCHAR(255) NOT NULL UNIQUE,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ admins table checked/created
Executing (default): SELECT is_nullable 
        FROM information_schema.columns 
        WHERE table_name='admins' AND column_name='password';
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='admins' AND column_name='role';
‚úÖ role column already exists in admins table
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='admins' AND column_name='inviteToken';
‚úÖ inviteToken columns already exist in admins table
Executing (default): SELECT "id", "username", "password", "email", "role", "inviteToken", "inviteTokenExpiry", "createdAt", "updatedAt" FROM "admins" AS "Admin" WHERE "Admin"."username" = 'admin';
Executing (default): SELECT "id", "username", "password", "email", "role", "inviteToken", "inviteTokenExpiry", "createdAt", "updatedAt" FROM "admins" AS "Admin" WHERE "Admin"."role" IS NULL;
Database columns updated successfully.
Executing (default): SELECT count(*) AS "count" FROM "categories" AS "Category";
Database setup completed.
Client connected: nE7kgRnS4Kt6ZcAbAAAC
Client connected: KdOxEo7EQNGM7LncAAAD
Client connected: 5pZ_BXJfJxlirVNUAAAH
Client connected: d2kMJ5nl9IH7oK5jAAAI
Client connected: Tz0fUUdSuYklHFC1AAAJ
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node server.js`[39m
[dotenv@17.2.3] injecting env (19) from .env -- tip: üîê prevent committing .env to code: https://dotenvx.com/precommit
Starting server initialization...
Environment: development
Port: 5001
Host: 0.0.0.0
üöÄ Server is running on 0.0.0.0:5001
üîó Health check: http://0.0.0.0:5001/api/health
üìä API endpoints:
   - GET  /api/health
   - GET  /api/categories
   - GET  /api/drinks
   - POST /api/orders
   - GET  /api/admin/orders
üåê Server ready to accept requests!
Executing (default): SELECT 1+1 AS result
‚úÖ Database connection established successfully.
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'categories'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'categories' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'subcategories'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'subcategories' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'drinks'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'drinks' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'drivers'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_drivers_status' GROUP BY 1
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'drivers' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'orders'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_orders_status' GROUP BY 1
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_orders_paymentStatus' GROUP BY 1
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_orders_paymentType' GROUP BY 1
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_orders_paymentMethod' GROUP BY 1
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'orders' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'order_items'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'order_items' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'countdowns'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'countdowns' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'settings'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'settings' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'admins'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_admins_role' GROUP BY 1
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'admins' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'driver_wallets'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'driver_wallets' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'transactions'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_transactions_transactionType' GROUP BY 1
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_transactions_paymentMethod' GROUP BY 1
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_transactions_status' GROUP BY 1
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_transactions_paymentStatus' GROUP BY 1
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'transactions' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'order_notifications'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'order_notifications' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'otps'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'otps' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'email_confirmations'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'email_confirmations' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'customers'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'customers' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'admin_wallets'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'admin_wallets' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'saved_addresses'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'saved_addresses' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Database synchronized successfully.
Checking for missing columns...
Executing (default): ALTER TABLE "drinks" 
      ADD COLUMN IF NOT EXISTS "isOnOffer" BOOLEAN DEFAULT false;
‚úÖ isOnOffer column checked/added
Executing (default): ALTER TABLE "drinks" 
      ADD COLUMN IF NOT EXISTS "limitedTimeOffer" BOOLEAN DEFAULT false;
‚úÖ limitedTimeOffer column checked/added
Executing (default): ALTER TABLE "drinks" 
      ADD COLUMN IF NOT EXISTS "originalPrice" DECIMAL(10,2);
‚úÖ originalPrice column checked/added
Executing (default): UPDATE "drinks" 
      SET "originalPrice" = "price" 
      WHERE "originalPrice" IS NULL;
‚úÖ originalPrice set for existing drinks
Executing (default): ALTER TABLE "drinks" 
      ALTER COLUMN "image" TYPE TEXT;
‚úÖ Image column updated to TEXT type
Executing (default): ALTER TABLE "drinks" 
      ADD COLUMN IF NOT EXISTS "capacity" JSON;
‚úÖ Capacity column checked/added (JSON type)
Executing (default): ALTER TABLE "drinks" 
      ADD COLUMN IF NOT EXISTS "capacityPricing" JSON;
‚úÖ Capacity pricing column checked/added (JSON type)
Executing (default): ALTER TABLE "drinks" 
      ADD COLUMN IF NOT EXISTS "abv" DECIMAL(5,2);
‚úÖ ABV column checked/added
Executing (default): CREATE TABLE IF NOT EXISTS "subcategories" (
        "id" SERIAL PRIMARY KEY,
        "name" VARCHAR(255) NOT NULL UNIQUE,
        "categoryId" INTEGER NOT NULL REFERENCES "categories"("id"),
        "isActive" BOOLEAN DEFAULT true,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ subcategories table checked/created
Executing (default): ALTER TABLE "drinks" 
      ADD COLUMN IF NOT EXISTS "subCategoryId" INTEGER REFERENCES "subcategories"("id");
‚úÖ subCategoryId column checked/added
Executing (default): CREATE TABLE IF NOT EXISTS "settings" (
        "id" SERIAL PRIMARY KEY,
        "key" VARCHAR(255) NOT NULL UNIQUE,
        "value" TEXT,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ settings table checked/created
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='orders' AND column_name='paymentType';
‚úÖ paymentType column already exists
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='orders' AND column_name='driverId';
‚úÖ driverId column already exists
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='drivers' AND column_name='pinHash';
‚úÖ pinHash column already exists in drivers table
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='orders' AND column_name='driverAccepted';
‚úÖ driverAccepted column already exists in orders table
Executing (default): ALTER TABLE "orders"
      ADD COLUMN IF NOT EXISTS "driverPayCredited" BOOLEAN DEFAULT false;
Executing (default): ALTER TABLE "orders"
      ADD COLUMN IF NOT EXISTS "driverPayCreditedAt" TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "orders"
      ADD COLUMN IF NOT EXISTS "driverPayAmount" DECIMAL(10,2) DEFAULT 0;
‚úÖ Driver pay tracking columns checked/added to orders table
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='orders' AND column_name='paymentMethod';
‚úÖ paymentMethod column already exists
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='orders' AND column_name='paymentStatus';
‚úÖ paymentStatus column already exists
Executing (default): ALTER TYPE "enum_orders_status" ADD VALUE IF NOT EXISTS 'completed';
‚úÖ Status enum updated to include completed
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='orders' AND column_name='tipAmount';
‚úÖ tipAmount column already exists in orders table
Executing (default): CREATE TABLE IF NOT EXISTS "transactions" (
        "id" SERIAL PRIMARY KEY,
        "orderId" INTEGER REFERENCES "orders"("id") ON DELETE CASCADE,
        "driverId" INTEGER REFERENCES "drivers"("id") ON DELETE SET NULL,
        "driverWalletId" INTEGER,
        "transactionType" VARCHAR(255) DEFAULT 'payment',
        "paymentMethod" VARCHAR(255) NOT NULL,
        "paymentProvider" VARCHAR(255),
        "amount" DECIMAL(10, 2) NOT NULL,
        "status" VARCHAR(255) DEFAULT 'pending',
        "paymentStatus" VARCHAR(255) DEFAULT 'pending',
        "receiptNumber" VARCHAR(255),
        "checkoutRequestID" VARCHAR(255),
        "merchantRequestID" VARCHAR(255),
        "phoneNumber" VARCHAR(255),
        "transactionDate" TIMESTAMP WITH TIME ZONE,
        "notes" TEXT,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ transactions table checked/created
Executing (default): SELECT column_name 
        FROM information_schema.columns 
        WHERE table_name='transactions' AND column_name='paymentStatus';
‚úÖ paymentStatus column already exists in transactions table
Executing (default): SELECT is_nullable 
        FROM information_schema.columns 
        WHERE table_name='transactions' AND column_name='orderId';
‚úÖ orderId column already allows NULL in transactions table
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='transactions' AND column_name='driverId';
‚úÖ driverId column already exists in transactions table
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='transactions' AND column_name='driverWalletId';
‚úÖ driverWalletId column already exists in transactions table
Executing (default): DO $$ BEGIN
        CREATE TYPE transaction_type_enum AS ENUM ('payment', 'refund', 'tip', 'withdrawal');
      EXCEPTION
        WHEN duplicate_object THEN null;
      END $$;
Executing (default): ALTER TYPE transaction_type_enum ADD VALUE IF NOT EXISTS 'tip'
‚úÖ Added tip to transaction_type_enum
Executing (default): ALTER TYPE transaction_type_enum ADD VALUE IF NOT EXISTS 'withdrawal'
‚úÖ Added withdrawal to transaction_type_enum
Executing (default): ALTER TYPE transaction_type_enum ADD VALUE IF NOT EXISTS 'delivery_pay'
‚úÖ Added delivery_pay to transaction_type_enum
Executing (default): ALTER TYPE transaction_type_enum ADD VALUE IF NOT EXISTS 'driver_pay'
‚úÖ Added driver_pay to transaction_type_enum
Executing (default): ALTER TYPE transaction_type_enum ADD VALUE IF NOT EXISTS 'delivery_fee_debit'
‚úÖ Added delivery_fee_debit to transaction_type_enum
Executing (default): ALTER TYPE transaction_type_enum ADD VALUE IF NOT EXISTS 'cash_settlement'
‚úÖ Added cash_settlement to transaction_type_enum
Executing (default): DO $$ BEGIN
        CREATE TYPE transaction_status_enum AS ENUM ('pending', 'completed', 'failed', 'cancelled');
      EXCEPTION
        WHEN duplicate_object THEN null;
      END $$;
Executing (default): DO $$ BEGIN
        CREATE TYPE transaction_payment_method_enum AS ENUM ('card', 'mobile_money', 'cash', 'system');
      EXCEPTION
        WHEN duplicate_object THEN null;
      END $$;
Executing (default): ALTER TYPE transaction_payment_method_enum ADD VALUE IF NOT EXISTS 'system'
‚úÖ Added system to transaction_payment_method_enum
Executing (default): UPDATE transactions
      SET "transactionDate" = "createdAt"
      WHERE "transactionType" = 'payment' AND "transactionDate" IS NULL;
‚úÖ Backfilled missing payment transaction dates
Executing (default): UPDATE transactions AS tip
      SET "transactionDate" = pay."transactionDate"
      FROM transactions AS pay
      WHERE tip."transactionType" = 'tip'
        AND pay."transactionType" = 'payment'
        AND pay."status" = 'completed'
        AND tip."orderId" = pay."orderId"
        AND pay."transactionDate" IS NOT NULL
        AND tip."transactionDate" IS DISTINCT FROM pay."transactionDate";
‚úÖ Synchronized tip transaction dates with payment transactions
Executing (default): UPDATE transactions
      SET "transactionDate" = "createdAt"
      WHERE "transactionType" = 'tip' AND "transactionDate" IS NULL;
‚úÖ Backfilled missing tip transaction dates
Executing (default): SELECT data_type 
        FROM information_schema.columns 
        WHERE table_name='transactions' AND column_name='transactionType';
Executing (default): ALTER TABLE "transactions" 
          ALTER COLUMN "transactionType" TYPE transaction_type_enum USING "transactionType"::transaction_type_enum;
Executing (default): CREATE TABLE IF NOT EXISTS "order_notifications" (
        "id" SERIAL PRIMARY KEY,
        "name" VARCHAR(255) NOT NULL,
        "phoneNumber" VARCHAR(255) NOT NULL,
        "isActive" BOOLEAN DEFAULT true,
        "notes" TEXT,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ order_notifications table checked/created
Executing (default): CREATE TABLE IF NOT EXISTS "otps" (
        "id" SERIAL PRIMARY KEY,
        "phoneNumber" VARCHAR(255) NOT NULL,
        "otpCode" VARCHAR(10) NOT NULL,
        "expiresAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "isUsed" BOOLEAN DEFAULT false,
        "attempts" INTEGER DEFAULT 0,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ otps table checked/created
Executing (default): CREATE TABLE IF NOT EXISTS "email_confirmations" (
        "id" SERIAL PRIMARY KEY,
        "email" VARCHAR(255) NOT NULL,
        "token" VARCHAR(255) NOT NULL UNIQUE,
        "expiresAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "isUsed" BOOLEAN DEFAULT false,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ email_confirmations table checked/created
Executing (default): CREATE TABLE IF NOT EXISTS "customers" (
        "id" SERIAL PRIMARY KEY,
        "email" VARCHAR(255) UNIQUE,
        "phone" VARCHAR(255) UNIQUE,
        "username" VARCHAR(255) NOT NULL UNIQUE,
        "password" VARCHAR(255),
        "customerName" VARCHAR(255),
        "hasSetPassword" BOOLEAN DEFAULT false,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ customers table checked/created
Executing (default): DO $$ BEGIN
        CREATE TYPE driver_status_enum AS ENUM ('active', 'inactive', 'on_delivery', 'offline');
      EXCEPTION
        WHEN duplicate_object THEN null;
      END $$;
Executing (default): CREATE TABLE IF NOT EXISTS "drivers" (
        "id" SERIAL PRIMARY KEY,
        "name" VARCHAR(255) NOT NULL,
        "phoneNumber" VARCHAR(255) NOT NULL UNIQUE,
        "status" driver_status_enum DEFAULT 'offline',
        "lastActivity" TIMESTAMP WITH TIME ZONE,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ drivers table checked/created
Executing (default): CREATE TABLE IF NOT EXISTS "driver_wallets" (
        "id" SERIAL PRIMARY KEY,
        "driverId" INTEGER NOT NULL UNIQUE REFERENCES "drivers"("id") ON DELETE CASCADE,
        "balance" DECIMAL(10, 2) NOT NULL DEFAULT 0,
        "totalTipsReceived" DECIMAL(10, 2) NOT NULL DEFAULT 0,
        "totalTipsCount" INTEGER NOT NULL DEFAULT 0,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ driver_wallets table checked/created
Executing (default): ALTER TABLE "driver_wallets"
      ADD COLUMN IF NOT EXISTS "totalDeliveryPay" DECIMAL(10,2) DEFAULT 0;
Executing (default): ALTER TABLE "driver_wallets"
      ADD COLUMN IF NOT EXISTS "totalDeliveryPayCount" INTEGER DEFAULT 0;
‚úÖ Delivery pay tracking columns checked/added to driver_wallets table
Executing (default): CREATE TABLE IF NOT EXISTS "saved_addresses" (
        "id" SERIAL PRIMARY KEY,
        "address" TEXT NOT NULL UNIQUE,
        "placeId" VARCHAR(255),
        "formattedAddress" TEXT,
        "searchCount" INTEGER DEFAULT 0,
        "apiCallsSaved" INTEGER DEFAULT 0,
        "costSaved" DECIMAL(10, 4) DEFAULT 0,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ saved_addresses table checked/created
Executing (default): CREATE TABLE IF NOT EXISTS "admins" (
        "id" SERIAL PRIMARY KEY,
        "username" VARCHAR(255) NOT NULL UNIQUE,
        "password" VARCHAR(255),
        "email" VARCHAR(255) NOT NULL UNIQUE,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ admins table checked/created
Executing (default): SELECT is_nullable 
        FROM information_schema.columns 
        WHERE table_name='admins' AND column_name='password';
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='admins' AND column_name='role';
‚úÖ role column already exists in admins table
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='admins' AND column_name='inviteToken';
‚úÖ inviteToken columns already exist in admins table
Executing (default): SELECT "id", "username", "password", "email", "role", "inviteToken", "inviteTokenExpiry", "createdAt", "updatedAt" FROM "admins" AS "Admin" WHERE "Admin"."username" = 'admin';
Executing (default): SELECT "id", "username", "password", "email", "role", "inviteToken", "inviteTokenExpiry", "createdAt", "updatedAt" FROM "admins" AS "Admin" WHERE "Admin"."role" IS NULL;
Database columns updated successfully.
Executing (default): SELECT count(*) AS "count" FROM "categories" AS "Category";
Database setup completed.
Client connected: GG3t1ga5j8TdOaOnAAAC
Client connected: OnyV0ji5HEN1KdDLAAAE
Client connected: seGWvb6xE3AfWu22AAAG
Client connected: ov3oUQlfdbAgXktDAAAI
Client connected: VXsk8a4LSSRee9evAAAJ
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node server.js`[39m
[dotenv@17.2.3] injecting env (19) from .env -- tip: ‚öôÔ∏è  specify custom .env file path with { path: '/custom/path/.env' }
Starting server initialization...
Environment: development
Port: 5001
Host: 0.0.0.0
üöÄ Server is running on 0.0.0.0:5001
üîó Health check: http://0.0.0.0:5001/api/health
üìä API endpoints:
   - GET  /api/health
   - GET  /api/categories
   - GET  /api/drinks
   - POST /api/orders
   - GET  /api/admin/orders
üåê Server ready to accept requests!
Executing (default): SELECT 1+1 AS result
‚úÖ Database connection established successfully.
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'categories'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'categories' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'subcategories'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'subcategories' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'drinks'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'drinks' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'drivers'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_drivers_status' GROUP BY 1
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'drivers' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'orders'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_orders_status' GROUP BY 1
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_orders_paymentStatus' GROUP BY 1
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_orders_paymentType' GROUP BY 1
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_orders_paymentMethod' GROUP BY 1
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'orders' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'order_items'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'order_items' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'countdowns'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'countdowns' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'settings'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'settings' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'admins'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_admins_role' GROUP BY 1
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'admins' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'driver_wallets'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'driver_wallets' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'transactions'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_transactions_transactionType' GROUP BY 1
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_transactions_paymentMethod' GROUP BY 1
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_transactions_status' GROUP BY 1
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_transactions_paymentStatus' GROUP BY 1
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'transactions' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'order_notifications'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'order_notifications' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'otps'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'otps' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'email_confirmations'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'email_confirmations' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'customers'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'customers' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'admin_wallets'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'admin_wallets' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'saved_addresses'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'saved_addresses' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Database synchronized successfully.
Checking for missing columns...
Executing (default): ALTER TABLE "drinks" 
      ADD COLUMN IF NOT EXISTS "isOnOffer" BOOLEAN DEFAULT false;
‚úÖ isOnOffer column checked/added
Executing (default): ALTER TABLE "drinks" 
      ADD COLUMN IF NOT EXISTS "limitedTimeOffer" BOOLEAN DEFAULT false;
‚úÖ limitedTimeOffer column checked/added
Executing (default): ALTER TABLE "drinks" 
      ADD COLUMN IF NOT EXISTS "originalPrice" DECIMAL(10,2);
‚úÖ originalPrice column checked/added
Executing (default): UPDATE "drinks" 
      SET "originalPrice" = "price" 
      WHERE "originalPrice" IS NULL;
‚úÖ originalPrice set for existing drinks
Executing (default): ALTER TABLE "drinks" 
      ALTER COLUMN "image" TYPE TEXT;
‚úÖ Image column updated to TEXT type
Executing (default): ALTER TABLE "drinks" 
      ADD COLUMN IF NOT EXISTS "capacity" JSON;
‚úÖ Capacity column checked/added (JSON type)
Executing (default): ALTER TABLE "drinks" 
      ADD COLUMN IF NOT EXISTS "capacityPricing" JSON;
‚úÖ Capacity pricing column checked/added (JSON type)
Executing (default): ALTER TABLE "drinks" 
      ADD COLUMN IF NOT EXISTS "abv" DECIMAL(5,2);
‚úÖ ABV column checked/added
Executing (default): CREATE TABLE IF NOT EXISTS "subcategories" (
        "id" SERIAL PRIMARY KEY,
        "name" VARCHAR(255) NOT NULL UNIQUE,
        "categoryId" INTEGER NOT NULL REFERENCES "categories"("id"),
        "isActive" BOOLEAN DEFAULT true,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ subcategories table checked/created
Executing (default): ALTER TABLE "drinks" 
      ADD COLUMN IF NOT EXISTS "subCategoryId" INTEGER REFERENCES "subcategories"("id");
‚úÖ subCategoryId column checked/added
Executing (default): CREATE TABLE IF NOT EXISTS "settings" (
        "id" SERIAL PRIMARY KEY,
        "key" VARCHAR(255) NOT NULL UNIQUE,
        "value" TEXT,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ settings table checked/created
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='orders' AND column_name='paymentType';
‚úÖ paymentType column already exists
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='orders' AND column_name='driverId';
‚úÖ driverId column already exists
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='drivers' AND column_name='pinHash';
‚úÖ pinHash column already exists in drivers table
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='orders' AND column_name='driverAccepted';
‚úÖ driverAccepted column already exists in orders table
Executing (default): ALTER TABLE "orders"
      ADD COLUMN IF NOT EXISTS "driverPayCredited" BOOLEAN DEFAULT false;
Executing (default): ALTER TABLE "orders"
      ADD COLUMN IF NOT EXISTS "driverPayCreditedAt" TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "orders"
      ADD COLUMN IF NOT EXISTS "driverPayAmount" DECIMAL(10,2) DEFAULT 0;
‚úÖ Driver pay tracking columns checked/added to orders table
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='orders' AND column_name='paymentMethod';
‚úÖ paymentMethod column already exists
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='orders' AND column_name='paymentStatus';
‚úÖ paymentStatus column already exists
Executing (default): ALTER TYPE "enum_orders_status" ADD VALUE IF NOT EXISTS 'completed';
‚úÖ Status enum updated to include completed
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='orders' AND column_name='tipAmount';
‚úÖ tipAmount column already exists in orders table
Executing (default): CREATE TABLE IF NOT EXISTS "transactions" (
        "id" SERIAL PRIMARY KEY,
        "orderId" INTEGER REFERENCES "orders"("id") ON DELETE CASCADE,
        "driverId" INTEGER REFERENCES "drivers"("id") ON DELETE SET NULL,
        "driverWalletId" INTEGER,
        "transactionType" VARCHAR(255) DEFAULT 'payment',
        "paymentMethod" VARCHAR(255) NOT NULL,
        "paymentProvider" VARCHAR(255),
        "amount" DECIMAL(10, 2) NOT NULL,
        "status" VARCHAR(255) DEFAULT 'pending',
        "paymentStatus" VARCHAR(255) DEFAULT 'pending',
        "receiptNumber" VARCHAR(255),
        "checkoutRequestID" VARCHAR(255),
        "merchantRequestID" VARCHAR(255),
        "phoneNumber" VARCHAR(255),
        "transactionDate" TIMESTAMP WITH TIME ZONE,
        "notes" TEXT,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ transactions table checked/created
Executing (default): SELECT column_name 
        FROM information_schema.columns 
        WHERE table_name='transactions' AND column_name='paymentStatus';
‚úÖ paymentStatus column already exists in transactions table
Executing (default): SELECT is_nullable 
        FROM information_schema.columns 
        WHERE table_name='transactions' AND column_name='orderId';
‚úÖ orderId column already allows NULL in transactions table
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='transactions' AND column_name='driverId';
‚úÖ driverId column already exists in transactions table
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='transactions' AND column_name='driverWalletId';
‚úÖ driverWalletId column already exists in transactions table
Executing (default): DO $$ BEGIN
        CREATE TYPE transaction_type_enum AS ENUM ('payment', 'refund', 'tip', 'withdrawal');
      EXCEPTION
        WHEN duplicate_object THEN null;
      END $$;
Executing (default): ALTER TYPE transaction_type_enum ADD VALUE IF NOT EXISTS 'tip'
‚úÖ Added tip to transaction_type_enum
Executing (default): ALTER TYPE transaction_type_enum ADD VALUE IF NOT EXISTS 'withdrawal'
‚úÖ Added withdrawal to transaction_type_enum
Executing (default): ALTER TYPE transaction_type_enum ADD VALUE IF NOT EXISTS 'delivery_pay'
‚úÖ Added delivery_pay to transaction_type_enum
Executing (default): ALTER TYPE transaction_type_enum ADD VALUE IF NOT EXISTS 'driver_pay'
‚úÖ Added driver_pay to transaction_type_enum
Executing (default): ALTER TYPE transaction_type_enum ADD VALUE IF NOT EXISTS 'delivery_fee_debit'
‚úÖ Added delivery_fee_debit to transaction_type_enum
Executing (default): ALTER TYPE transaction_type_enum ADD VALUE IF NOT EXISTS 'cash_settlement'
‚úÖ Added cash_settlement to transaction_type_enum
Executing (default): DO $$ BEGIN
        CREATE TYPE transaction_status_enum AS ENUM ('pending', 'completed', 'failed', 'cancelled');
      EXCEPTION
        WHEN duplicate_object THEN null;
      END $$;
Executing (default): DO $$ BEGIN
        CREATE TYPE transaction_payment_method_enum AS ENUM ('card', 'mobile_money', 'cash', 'system');
      EXCEPTION
        WHEN duplicate_object THEN null;
      END $$;
Executing (default): ALTER TYPE transaction_payment_method_enum ADD VALUE IF NOT EXISTS 'system'
‚úÖ Added system to transaction_payment_method_enum
Executing (default): UPDATE transactions
      SET "transactionDate" = "createdAt"
      WHERE "transactionType" = 'payment' AND "transactionDate" IS NULL;
‚úÖ Backfilled missing payment transaction dates
Executing (default): UPDATE transactions AS tip
      SET "transactionDate" = pay."transactionDate"
      FROM transactions AS pay
      WHERE tip."transactionType" = 'tip'
        AND pay."transactionType" = 'payment'
        AND pay."status" = 'completed'
        AND tip."orderId" = pay."orderId"
        AND pay."transactionDate" IS NOT NULL
        AND tip."transactionDate" IS DISTINCT FROM pay."transactionDate";
‚úÖ Synchronized tip transaction dates with payment transactions
Executing (default): UPDATE transactions
      SET "transactionDate" = "createdAt"
      WHERE "transactionType" = 'tip' AND "transactionDate" IS NULL;
‚úÖ Backfilled missing tip transaction dates
Executing (default): SELECT data_type 
        FROM information_schema.columns 
        WHERE table_name='transactions' AND column_name='transactionType';
Executing (default): ALTER TABLE "transactions" 
          ALTER COLUMN "transactionType" TYPE transaction_type_enum USING "transactionType"::transaction_type_enum;
Executing (default): CREATE TABLE IF NOT EXISTS "order_notifications" (
        "id" SERIAL PRIMARY KEY,
        "name" VARCHAR(255) NOT NULL,
        "phoneNumber" VARCHAR(255) NOT NULL,
        "isActive" BOOLEAN DEFAULT true,
        "notes" TEXT,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ order_notifications table checked/created
Executing (default): CREATE TABLE IF NOT EXISTS "otps" (
        "id" SERIAL PRIMARY KEY,
        "phoneNumber" VARCHAR(255) NOT NULL,
        "otpCode" VARCHAR(10) NOT NULL,
        "expiresAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "isUsed" BOOLEAN DEFAULT false,
        "attempts" INTEGER DEFAULT 0,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ otps table checked/created
Executing (default): CREATE TABLE IF NOT EXISTS "email_confirmations" (
        "id" SERIAL PRIMARY KEY,
        "email" VARCHAR(255) NOT NULL,
        "token" VARCHAR(255) NOT NULL UNIQUE,
        "expiresAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "isUsed" BOOLEAN DEFAULT false,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ email_confirmations table checked/created
Executing (default): CREATE TABLE IF NOT EXISTS "customers" (
        "id" SERIAL PRIMARY KEY,
        "email" VARCHAR(255) UNIQUE,
        "phone" VARCHAR(255) UNIQUE,
        "username" VARCHAR(255) NOT NULL UNIQUE,
        "password" VARCHAR(255),
        "customerName" VARCHAR(255),
        "hasSetPassword" BOOLEAN DEFAULT false,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ customers table checked/created
Executing (default): DO $$ BEGIN
        CREATE TYPE driver_status_enum AS ENUM ('active', 'inactive', 'on_delivery', 'offline');
      EXCEPTION
        WHEN duplicate_object THEN null;
      END $$;
Executing (default): CREATE TABLE IF NOT EXISTS "drivers" (
        "id" SERIAL PRIMARY KEY,
        "name" VARCHAR(255) NOT NULL,
        "phoneNumber" VARCHAR(255) NOT NULL UNIQUE,
        "status" driver_status_enum DEFAULT 'offline',
        "lastActivity" TIMESTAMP WITH TIME ZONE,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ drivers table checked/created
Executing (default): CREATE TABLE IF NOT EXISTS "driver_wallets" (
        "id" SERIAL PRIMARY KEY,
        "driverId" INTEGER NOT NULL UNIQUE REFERENCES "drivers"("id") ON DELETE CASCADE,
        "balance" DECIMAL(10, 2) NOT NULL DEFAULT 0,
        "totalTipsReceived" DECIMAL(10, 2) NOT NULL DEFAULT 0,
        "totalTipsCount" INTEGER NOT NULL DEFAULT 0,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ driver_wallets table checked/created
Executing (default): ALTER TABLE "driver_wallets"
      ADD COLUMN IF NOT EXISTS "totalDeliveryPay" DECIMAL(10,2) DEFAULT 0;
Executing (default): ALTER TABLE "driver_wallets"
      ADD COLUMN IF NOT EXISTS "totalDeliveryPayCount" INTEGER DEFAULT 0;
‚úÖ Delivery pay tracking columns checked/added to driver_wallets table
Executing (default): CREATE TABLE IF NOT EXISTS "saved_addresses" (
        "id" SERIAL PRIMARY KEY,
        "address" TEXT NOT NULL UNIQUE,
        "placeId" VARCHAR(255),
        "formattedAddress" TEXT,
        "searchCount" INTEGER DEFAULT 0,
        "apiCallsSaved" INTEGER DEFAULT 0,
        "costSaved" DECIMAL(10, 4) DEFAULT 0,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ saved_addresses table checked/created
Executing (default): CREATE TABLE IF NOT EXISTS "admins" (
        "id" SERIAL PRIMARY KEY,
        "username" VARCHAR(255) NOT NULL UNIQUE,
        "password" VARCHAR(255),
        "email" VARCHAR(255) NOT NULL UNIQUE,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ admins table checked/created
Executing (default): SELECT is_nullable 
        FROM information_schema.columns 
        WHERE table_name='admins' AND column_name='password';
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='admins' AND column_name='role';
‚úÖ role column already exists in admins table
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='admins' AND column_name='inviteToken';
‚úÖ inviteToken columns already exist in admins table
Executing (default): SELECT "id", "username", "password", "email", "role", "inviteToken", "inviteTokenExpiry", "createdAt", "updatedAt" FROM "admins" AS "Admin" WHERE "Admin"."username" = 'admin';
Executing (default): SELECT "id", "username", "password", "email", "role", "inviteToken", "inviteTokenExpiry", "createdAt", "updatedAt" FROM "admins" AS "Admin" WHERE "Admin"."role" IS NULL;
Database columns updated successfully.
Executing (default): SELECT count(*) AS "count" FROM "categories" AS "Category";
Database setup completed.
Client connected: UO3fMCpxk4f6jgudAAAC
Client connected: jzYYtGs1z6XNPg8gAAAE
Client connected: bsaMFU9doyXkrXncAAAG
Client connected: KmB7JpriJzd5mfYLAAAH
Client connected: 3Slc2TUcaZt0-U5wAAAJ
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node server.js`[39m
[dotenv@17.2.3] injecting env (19) from .env -- tip: ‚öôÔ∏è  specify custom .env file path with { path: '/custom/path/.env' }
Starting server initialization...
Environment: development
Port: 5001
Host: 0.0.0.0
üöÄ Server is running on 0.0.0.0:5001
üîó Health check: http://0.0.0.0:5001/api/health
üìä API endpoints:
   - GET  /api/health
   - GET  /api/categories
   - GET  /api/drinks
   - POST /api/orders
   - GET  /api/admin/orders
üåê Server ready to accept requests!
Executing (default): SELECT 1+1 AS result
‚úÖ Database connection established successfully.
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'categories'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'categories' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'subcategories'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'subcategories' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'drinks'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'drinks' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'drivers'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_drivers_status' GROUP BY 1
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'drivers' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'orders'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_orders_status' GROUP BY 1
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_orders_paymentStatus' GROUP BY 1
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_orders_paymentType' GROUP BY 1
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_orders_paymentMethod' GROUP BY 1
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'orders' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'order_items'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'order_items' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'countdowns'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'countdowns' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'settings'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'settings' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'admins'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_admins_role' GROUP BY 1
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'admins' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'driver_wallets'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'driver_wallets' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'transactions'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_transactions_transactionType' GROUP BY 1
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_transactions_paymentMethod' GROUP BY 1
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_transactions_status' GROUP BY 1
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_transactions_paymentStatus' GROUP BY 1
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'transactions' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'order_notifications'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'order_notifications' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'otps'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'otps' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'email_confirmations'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'email_confirmations' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'customers'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'customers' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'admin_wallets'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'admin_wallets' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'saved_addresses'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'saved_addresses' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Database synchronized successfully.
Checking for missing columns...
Executing (default): ALTER TABLE "drinks" 
      ADD COLUMN IF NOT EXISTS "isOnOffer" BOOLEAN DEFAULT false;
‚úÖ isOnOffer column checked/added
Executing (default): ALTER TABLE "drinks" 
      ADD COLUMN IF NOT EXISTS "limitedTimeOffer" BOOLEAN DEFAULT false;
‚úÖ limitedTimeOffer column checked/added
Executing (default): ALTER TABLE "drinks" 
      ADD COLUMN IF NOT EXISTS "originalPrice" DECIMAL(10,2);
‚úÖ originalPrice column checked/added
Executing (default): UPDATE "drinks" 
      SET "originalPrice" = "price" 
      WHERE "originalPrice" IS NULL;
‚úÖ originalPrice set for existing drinks
Executing (default): ALTER TABLE "drinks" 
      ALTER COLUMN "image" TYPE TEXT;
‚úÖ Image column updated to TEXT type
Executing (default): ALTER TABLE "drinks" 
      ADD COLUMN IF NOT EXISTS "capacity" JSON;
‚úÖ Capacity column checked/added (JSON type)
Executing (default): ALTER TABLE "drinks" 
      ADD COLUMN IF NOT EXISTS "capacityPricing" JSON;
‚úÖ Capacity pricing column checked/added (JSON type)
Executing (default): ALTER TABLE "drinks" 
      ADD COLUMN IF NOT EXISTS "abv" DECIMAL(5,2);
‚úÖ ABV column checked/added
Executing (default): CREATE TABLE IF NOT EXISTS "subcategories" (
        "id" SERIAL PRIMARY KEY,
        "name" VARCHAR(255) NOT NULL UNIQUE,
        "categoryId" INTEGER NOT NULL REFERENCES "categories"("id"),
        "isActive" BOOLEAN DEFAULT true,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ subcategories table checked/created
Executing (default): ALTER TABLE "drinks" 
      ADD COLUMN IF NOT EXISTS "subCategoryId" INTEGER REFERENCES "subcategories"("id");
‚úÖ subCategoryId column checked/added
Executing (default): CREATE TABLE IF NOT EXISTS "settings" (
        "id" SERIAL PRIMARY KEY,
        "key" VARCHAR(255) NOT NULL UNIQUE,
        "value" TEXT,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ settings table checked/created
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='orders' AND column_name='paymentType';
‚úÖ paymentType column already exists
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='orders' AND column_name='driverId';
‚úÖ driverId column already exists
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='drivers' AND column_name='pinHash';
‚úÖ pinHash column already exists in drivers table
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='orders' AND column_name='driverAccepted';
‚úÖ driverAccepted column already exists in orders table
Executing (default): ALTER TABLE "orders"
      ADD COLUMN IF NOT EXISTS "driverPayCredited" BOOLEAN DEFAULT false;
Executing (default): ALTER TABLE "orders"
      ADD COLUMN IF NOT EXISTS "driverPayCreditedAt" TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "orders"
      ADD COLUMN IF NOT EXISTS "driverPayAmount" DECIMAL(10,2) DEFAULT 0;
‚úÖ Driver pay tracking columns checked/added to orders table
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='orders' AND column_name='paymentMethod';
‚úÖ paymentMethod column already exists
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='orders' AND column_name='paymentStatus';
‚úÖ paymentStatus column already exists
Executing (default): ALTER TYPE "enum_orders_status" ADD VALUE IF NOT EXISTS 'completed';
‚úÖ Status enum updated to include completed
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='orders' AND column_name='tipAmount';
‚úÖ tipAmount column already exists in orders table
Executing (default): CREATE TABLE IF NOT EXISTS "transactions" (
        "id" SERIAL PRIMARY KEY,
        "orderId" INTEGER REFERENCES "orders"("id") ON DELETE CASCADE,
        "driverId" INTEGER REFERENCES "drivers"("id") ON DELETE SET NULL,
        "driverWalletId" INTEGER,
        "transactionType" VARCHAR(255) DEFAULT 'payment',
        "paymentMethod" VARCHAR(255) NOT NULL,
        "paymentProvider" VARCHAR(255),
        "amount" DECIMAL(10, 2) NOT NULL,
        "status" VARCHAR(255) DEFAULT 'pending',
        "paymentStatus" VARCHAR(255) DEFAULT 'pending',
        "receiptNumber" VARCHAR(255),
        "checkoutRequestID" VARCHAR(255),
        "merchantRequestID" VARCHAR(255),
        "phoneNumber" VARCHAR(255),
        "transactionDate" TIMESTAMP WITH TIME ZONE,
        "notes" TEXT,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ transactions table checked/created
Executing (default): SELECT column_name 
        FROM information_schema.columns 
        WHERE table_name='transactions' AND column_name='paymentStatus';
‚úÖ paymentStatus column already exists in transactions table
Executing (default): SELECT is_nullable 
        FROM information_schema.columns 
        WHERE table_name='transactions' AND column_name='orderId';
‚úÖ orderId column already allows NULL in transactions table
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='transactions' AND column_name='driverId';
‚úÖ driverId column already exists in transactions table
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='transactions' AND column_name='driverWalletId';
‚úÖ driverWalletId column already exists in transactions table
Executing (default): DO $$ BEGIN
        CREATE TYPE transaction_type_enum AS ENUM ('payment', 'refund', 'tip', 'withdrawal');
      EXCEPTION
        WHEN duplicate_object THEN null;
      END $$;
Executing (default): ALTER TYPE transaction_type_enum ADD VALUE IF NOT EXISTS 'tip'
‚úÖ Added tip to transaction_type_enum
Executing (default): ALTER TYPE transaction_type_enum ADD VALUE IF NOT EXISTS 'withdrawal'
‚úÖ Added withdrawal to transaction_type_enum
Executing (default): ALTER TYPE transaction_type_enum ADD VALUE IF NOT EXISTS 'delivery_pay'
‚úÖ Added delivery_pay to transaction_type_enum
Executing (default): ALTER TYPE transaction_type_enum ADD VALUE IF NOT EXISTS 'driver_pay'
‚úÖ Added driver_pay to transaction_type_enum
Executing (default): ALTER TYPE transaction_type_enum ADD VALUE IF NOT EXISTS 'delivery_fee_debit'
‚úÖ Added delivery_fee_debit to transaction_type_enum
Executing (default): ALTER TYPE transaction_type_enum ADD VALUE IF NOT EXISTS 'cash_settlement'
‚úÖ Added cash_settlement to transaction_type_enum
Executing (default): DO $$ BEGIN
        CREATE TYPE transaction_status_enum AS ENUM ('pending', 'completed', 'failed', 'cancelled');
      EXCEPTION
        WHEN duplicate_object THEN null;
      END $$;
Executing (default): DO $$ BEGIN
        CREATE TYPE transaction_payment_method_enum AS ENUM ('card', 'mobile_money', 'cash', 'system');
      EXCEPTION
        WHEN duplicate_object THEN null;
      END $$;
Executing (default): ALTER TYPE transaction_payment_method_enum ADD VALUE IF NOT EXISTS 'system'
‚úÖ Added system to transaction_payment_method_enum
Executing (default): UPDATE transactions
      SET "transactionDate" = "createdAt"
      WHERE "transactionType" = 'payment' AND "transactionDate" IS NULL;
‚úÖ Backfilled missing payment transaction dates
Executing (default): UPDATE transactions AS tip
      SET "transactionDate" = pay."transactionDate"
      FROM transactions AS pay
      WHERE tip."transactionType" = 'tip'
        AND pay."transactionType" = 'payment'
        AND pay."status" = 'completed'
        AND tip."orderId" = pay."orderId"
        AND pay."transactionDate" IS NOT NULL
        AND tip."transactionDate" IS DISTINCT FROM pay."transactionDate";
‚úÖ Synchronized tip transaction dates with payment transactions
Executing (default): UPDATE transactions
      SET "transactionDate" = "createdAt"
      WHERE "transactionType" = 'tip' AND "transactionDate" IS NULL;
‚úÖ Backfilled missing tip transaction dates
Executing (default): SELECT data_type 
        FROM information_schema.columns 
        WHERE table_name='transactions' AND column_name='transactionType';
Executing (default): ALTER TABLE "transactions" 
          ALTER COLUMN "transactionType" TYPE transaction_type_enum USING "transactionType"::transaction_type_enum;
Executing (default): CREATE TABLE IF NOT EXISTS "order_notifications" (
        "id" SERIAL PRIMARY KEY,
        "name" VARCHAR(255) NOT NULL,
        "phoneNumber" VARCHAR(255) NOT NULL,
        "isActive" BOOLEAN DEFAULT true,
        "notes" TEXT,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ order_notifications table checked/created
Executing (default): CREATE TABLE IF NOT EXISTS "otps" (
        "id" SERIAL PRIMARY KEY,
        "phoneNumber" VARCHAR(255) NOT NULL,
        "otpCode" VARCHAR(10) NOT NULL,
        "expiresAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "isUsed" BOOLEAN DEFAULT false,
        "attempts" INTEGER DEFAULT 0,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ otps table checked/created
Executing (default): CREATE TABLE IF NOT EXISTS "email_confirmations" (
        "id" SERIAL PRIMARY KEY,
        "email" VARCHAR(255) NOT NULL,
        "token" VARCHAR(255) NOT NULL UNIQUE,
        "expiresAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "isUsed" BOOLEAN DEFAULT false,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ email_confirmations table checked/created
Executing (default): CREATE TABLE IF NOT EXISTS "customers" (
        "id" SERIAL PRIMARY KEY,
        "email" VARCHAR(255) UNIQUE,
        "phone" VARCHAR(255) UNIQUE,
        "username" VARCHAR(255) NOT NULL UNIQUE,
        "password" VARCHAR(255),
        "customerName" VARCHAR(255),
        "hasSetPassword" BOOLEAN DEFAULT false,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ customers table checked/created
Executing (default): DO $$ BEGIN
        CREATE TYPE driver_status_enum AS ENUM ('active', 'inactive', 'on_delivery', 'offline');
      EXCEPTION
        WHEN duplicate_object THEN null;
      END $$;
Executing (default): CREATE TABLE IF NOT EXISTS "drivers" (
        "id" SERIAL PRIMARY KEY,
        "name" VARCHAR(255) NOT NULL,
        "phoneNumber" VARCHAR(255) NOT NULL UNIQUE,
        "status" driver_status_enum DEFAULT 'offline',
        "lastActivity" TIMESTAMP WITH TIME ZONE,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ drivers table checked/created
Executing (default): CREATE TABLE IF NOT EXISTS "driver_wallets" (
        "id" SERIAL PRIMARY KEY,
        "driverId" INTEGER NOT NULL UNIQUE REFERENCES "drivers"("id") ON DELETE CASCADE,
        "balance" DECIMAL(10, 2) NOT NULL DEFAULT 0,
        "totalTipsReceived" DECIMAL(10, 2) NOT NULL DEFAULT 0,
        "totalTipsCount" INTEGER NOT NULL DEFAULT 0,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ driver_wallets table checked/created
Executing (default): ALTER TABLE "driver_wallets"
      ADD COLUMN IF NOT EXISTS "totalDeliveryPay" DECIMAL(10,2) DEFAULT 0;
Executing (default): ALTER TABLE "driver_wallets"
      ADD COLUMN IF NOT EXISTS "totalDeliveryPayCount" INTEGER DEFAULT 0;
‚úÖ Delivery pay tracking columns checked/added to driver_wallets table
Executing (default): CREATE TABLE IF NOT EXISTS "saved_addresses" (
        "id" SERIAL PRIMARY KEY,
        "address" TEXT NOT NULL UNIQUE,
        "placeId" VARCHAR(255),
        "formattedAddress" TEXT,
        "searchCount" INTEGER DEFAULT 0,
        "apiCallsSaved" INTEGER DEFAULT 0,
        "costSaved" DECIMAL(10, 4) DEFAULT 0,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ saved_addresses table checked/created
Executing (default): CREATE TABLE IF NOT EXISTS "admins" (
        "id" SERIAL PRIMARY KEY,
        "username" VARCHAR(255) NOT NULL UNIQUE,
        "password" VARCHAR(255),
        "email" VARCHAR(255) NOT NULL UNIQUE,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ admins table checked/created
Executing (default): SELECT is_nullable 
        FROM information_schema.columns 
        WHERE table_name='admins' AND column_name='password';
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='admins' AND column_name='role';
‚úÖ role column already exists in admins table
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='admins' AND column_name='inviteToken';
‚úÖ inviteToken columns already exist in admins table
Executing (default): SELECT "id", "username", "password", "email", "role", "inviteToken", "inviteTokenExpiry", "createdAt", "updatedAt" FROM "admins" AS "Admin" WHERE "Admin"."username" = 'admin';
Executing (default): SELECT "id", "username", "password", "email", "role", "inviteToken", "inviteTokenExpiry", "createdAt", "updatedAt" FROM "admins" AS "Admin" WHERE "Admin"."role" IS NULL;
Database columns updated successfully.
Executing (default): SELECT count(*) AS "count" FROM "categories" AS "Category";
Database setup completed.
Client connected: LITyowG2PR3NOZ5ZAAAC
Client connected: acL6BVDYU-xs74V8AAAE
Client connected: 2ahVPZaMX9kZiWk8AAAG
Client connected: kzaercNW_0ao9eJlAAAI
Client connected: _CdDKFBTdlMmbqz7AAAJ
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node server.js`[39m
[dotenv@17.2.3] injecting env (19) from .env -- tip: üîÑ add secrets lifecycle management: https://dotenvx.com/ops
Starting server initialization...
Environment: development
Port: 5001
Host: 0.0.0.0
üöÄ Server is running on 0.0.0.0:5001
üîó Health check: http://0.0.0.0:5001/api/health
üìä API endpoints:
   - GET  /api/health
   - GET  /api/categories
   - GET  /api/drinks
   - POST /api/orders
   - GET  /api/admin/orders
üåê Server ready to accept requests!
Executing (default): SELECT 1+1 AS result
‚úÖ Database connection established successfully.
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'categories'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'categories' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'subcategories'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'subcategories' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'drinks'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'drinks' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'drivers'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_drivers_status' GROUP BY 1
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'drivers' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'orders'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_orders_status' GROUP BY 1
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_orders_paymentStatus' GROUP BY 1
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_orders_paymentType' GROUP BY 1
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_orders_paymentMethod' GROUP BY 1
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'orders' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'order_items'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'order_items' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'countdowns'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'countdowns' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'settings'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'settings' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'admins'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_admins_role' GROUP BY 1
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'admins' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'driver_wallets'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'driver_wallets' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'transactions'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_transactions_transactionType' GROUP BY 1
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_transactions_paymentMethod' GROUP BY 1
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_transactions_status' GROUP BY 1
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_transactions_paymentStatus' GROUP BY 1
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'transactions' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'order_notifications'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'order_notifications' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'otps'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'otps' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'email_confirmations'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'email_confirmations' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'customers'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'customers' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'admin_wallets'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'admin_wallets' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'saved_addresses'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'saved_addresses' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Database synchronized successfully.
Checking for missing columns...
Executing (default): ALTER TABLE "drinks" 
      ADD COLUMN IF NOT EXISTS "isOnOffer" BOOLEAN DEFAULT false;
‚úÖ isOnOffer column checked/added
Executing (default): ALTER TABLE "drinks" 
      ADD COLUMN IF NOT EXISTS "limitedTimeOffer" BOOLEAN DEFAULT false;
‚úÖ limitedTimeOffer column checked/added
Executing (default): ALTER TABLE "drinks" 
      ADD COLUMN IF NOT EXISTS "originalPrice" DECIMAL(10,2);
‚úÖ originalPrice column checked/added
Executing (default): UPDATE "drinks" 
      SET "originalPrice" = "price" 
      WHERE "originalPrice" IS NULL;
‚úÖ originalPrice set for existing drinks
Executing (default): ALTER TABLE "drinks" 
      ALTER COLUMN "image" TYPE TEXT;
‚úÖ Image column updated to TEXT type
Executing (default): ALTER TABLE "drinks" 
      ADD COLUMN IF NOT EXISTS "capacity" JSON;
‚úÖ Capacity column checked/added (JSON type)
Executing (default): ALTER TABLE "drinks" 
      ADD COLUMN IF NOT EXISTS "capacityPricing" JSON;
‚úÖ Capacity pricing column checked/added (JSON type)
Executing (default): ALTER TABLE "drinks" 
      ADD COLUMN IF NOT EXISTS "abv" DECIMAL(5,2);
‚úÖ ABV column checked/added
Executing (default): CREATE TABLE IF NOT EXISTS "subcategories" (
        "id" SERIAL PRIMARY KEY,
        "name" VARCHAR(255) NOT NULL UNIQUE,
        "categoryId" INTEGER NOT NULL REFERENCES "categories"("id"),
        "isActive" BOOLEAN DEFAULT true,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ subcategories table checked/created
Executing (default): ALTER TABLE "drinks" 
      ADD COLUMN IF NOT EXISTS "subCategoryId" INTEGER REFERENCES "subcategories"("id");
‚úÖ subCategoryId column checked/added
Executing (default): CREATE TABLE IF NOT EXISTS "settings" (
        "id" SERIAL PRIMARY KEY,
        "key" VARCHAR(255) NOT NULL UNIQUE,
        "value" TEXT,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ settings table checked/created
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='orders' AND column_name='paymentType';
‚úÖ paymentType column already exists
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='orders' AND column_name='driverId';
‚úÖ driverId column already exists
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='drivers' AND column_name='pinHash';
‚úÖ pinHash column already exists in drivers table
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='orders' AND column_name='driverAccepted';
‚úÖ driverAccepted column already exists in orders table
Executing (default): ALTER TABLE "orders"
      ADD COLUMN IF NOT EXISTS "driverPayCredited" BOOLEAN DEFAULT false;
Executing (default): ALTER TABLE "orders"
      ADD COLUMN IF NOT EXISTS "driverPayCreditedAt" TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "orders"
      ADD COLUMN IF NOT EXISTS "driverPayAmount" DECIMAL(10,2) DEFAULT 0;
‚úÖ Driver pay tracking columns checked/added to orders table
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='orders' AND column_name='paymentMethod';
‚úÖ paymentMethod column already exists
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='orders' AND column_name='paymentStatus';
‚úÖ paymentStatus column already exists
Executing (default): ALTER TYPE "enum_orders_status" ADD VALUE IF NOT EXISTS 'completed';
‚úÖ Status enum updated to include completed
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='orders' AND column_name='tipAmount';
‚úÖ tipAmount column already exists in orders table
Executing (default): CREATE TABLE IF NOT EXISTS "transactions" (
        "id" SERIAL PRIMARY KEY,
        "orderId" INTEGER REFERENCES "orders"("id") ON DELETE CASCADE,
        "driverId" INTEGER REFERENCES "drivers"("id") ON DELETE SET NULL,
        "driverWalletId" INTEGER,
        "transactionType" VARCHAR(255) DEFAULT 'payment',
        "paymentMethod" VARCHAR(255) NOT NULL,
        "paymentProvider" VARCHAR(255),
        "amount" DECIMAL(10, 2) NOT NULL,
        "status" VARCHAR(255) DEFAULT 'pending',
        "paymentStatus" VARCHAR(255) DEFAULT 'pending',
        "receiptNumber" VARCHAR(255),
        "checkoutRequestID" VARCHAR(255),
        "merchantRequestID" VARCHAR(255),
        "phoneNumber" VARCHAR(255),
        "transactionDate" TIMESTAMP WITH TIME ZONE,
        "notes" TEXT,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ transactions table checked/created
Executing (default): SELECT column_name 
        FROM information_schema.columns 
        WHERE table_name='transactions' AND column_name='paymentStatus';
‚úÖ paymentStatus column already exists in transactions table
Executing (default): SELECT is_nullable 
        FROM information_schema.columns 
        WHERE table_name='transactions' AND column_name='orderId';
‚úÖ orderId column already allows NULL in transactions table
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='transactions' AND column_name='driverId';
‚úÖ driverId column already exists in transactions table
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='transactions' AND column_name='driverWalletId';
‚úÖ driverWalletId column already exists in transactions table
Executing (default): DO $$ BEGIN
        CREATE TYPE transaction_type_enum AS ENUM ('payment', 'refund', 'tip', 'withdrawal');
      EXCEPTION
        WHEN duplicate_object THEN null;
      END $$;
Executing (default): ALTER TYPE transaction_type_enum ADD VALUE IF NOT EXISTS 'tip'
‚úÖ Added tip to transaction_type_enum
Executing (default): ALTER TYPE transaction_type_enum ADD VALUE IF NOT EXISTS 'withdrawal'
‚úÖ Added withdrawal to transaction_type_enum
Executing (default): ALTER TYPE transaction_type_enum ADD VALUE IF NOT EXISTS 'delivery_pay'
‚úÖ Added delivery_pay to transaction_type_enum
Executing (default): ALTER TYPE transaction_type_enum ADD VALUE IF NOT EXISTS 'driver_pay'
‚úÖ Added driver_pay to transaction_type_enum
Executing (default): ALTER TYPE transaction_type_enum ADD VALUE IF NOT EXISTS 'delivery_fee_debit'
‚úÖ Added delivery_fee_debit to transaction_type_enum
Executing (default): ALTER TYPE transaction_type_enum ADD VALUE IF NOT EXISTS 'cash_settlement'
‚úÖ Added cash_settlement to transaction_type_enum
Executing (default): DO $$ BEGIN
        CREATE TYPE transaction_status_enum AS ENUM ('pending', 'completed', 'failed', 'cancelled');
      EXCEPTION
        WHEN duplicate_object THEN null;
      END $$;
Executing (default): DO $$ BEGIN
        CREATE TYPE transaction_payment_method_enum AS ENUM ('card', 'mobile_money', 'cash', 'system');
      EXCEPTION
        WHEN duplicate_object THEN null;
      END $$;
Executing (default): ALTER TYPE transaction_payment_method_enum ADD VALUE IF NOT EXISTS 'system'
‚úÖ Added system to transaction_payment_method_enum
Executing (default): UPDATE transactions
      SET "transactionDate" = "createdAt"
      WHERE "transactionType" = 'payment' AND "transactionDate" IS NULL;
‚úÖ Backfilled missing payment transaction dates
Executing (default): UPDATE transactions AS tip
      SET "transactionDate" = pay."transactionDate"
      FROM transactions AS pay
      WHERE tip."transactionType" = 'tip'
        AND pay."transactionType" = 'payment'
        AND pay."status" = 'completed'
        AND tip."orderId" = pay."orderId"
        AND pay."transactionDate" IS NOT NULL
        AND tip."transactionDate" IS DISTINCT FROM pay."transactionDate";
‚úÖ Synchronized tip transaction dates with payment transactions
Executing (default): UPDATE transactions
      SET "transactionDate" = "createdAt"
      WHERE "transactionType" = 'tip' AND "transactionDate" IS NULL;
‚úÖ Backfilled missing tip transaction dates
Executing (default): SELECT data_type 
        FROM information_schema.columns 
        WHERE table_name='transactions' AND column_name='transactionType';
Executing (default): ALTER TABLE "transactions" 
          ALTER COLUMN "transactionType" TYPE transaction_type_enum USING "transactionType"::transaction_type_enum;
Executing (default): CREATE TABLE IF NOT EXISTS "order_notifications" (
        "id" SERIAL PRIMARY KEY,
        "name" VARCHAR(255) NOT NULL,
        "phoneNumber" VARCHAR(255) NOT NULL,
        "isActive" BOOLEAN DEFAULT true,
        "notes" TEXT,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ order_notifications table checked/created
Executing (default): CREATE TABLE IF NOT EXISTS "otps" (
        "id" SERIAL PRIMARY KEY,
        "phoneNumber" VARCHAR(255) NOT NULL,
        "otpCode" VARCHAR(10) NOT NULL,
        "expiresAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "isUsed" BOOLEAN DEFAULT false,
        "attempts" INTEGER DEFAULT 0,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ otps table checked/created
Executing (default): CREATE TABLE IF NOT EXISTS "email_confirmations" (
        "id" SERIAL PRIMARY KEY,
        "email" VARCHAR(255) NOT NULL,
        "token" VARCHAR(255) NOT NULL UNIQUE,
        "expiresAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "isUsed" BOOLEAN DEFAULT false,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ email_confirmations table checked/created
Executing (default): CREATE TABLE IF NOT EXISTS "customers" (
        "id" SERIAL PRIMARY KEY,
        "email" VARCHAR(255) UNIQUE,
        "phone" VARCHAR(255) UNIQUE,
        "username" VARCHAR(255) NOT NULL UNIQUE,
        "password" VARCHAR(255),
        "customerName" VARCHAR(255),
        "hasSetPassword" BOOLEAN DEFAULT false,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ customers table checked/created
Executing (default): DO $$ BEGIN
        CREATE TYPE driver_status_enum AS ENUM ('active', 'inactive', 'on_delivery', 'offline');
      EXCEPTION
        WHEN duplicate_object THEN null;
      END $$;
Executing (default): CREATE TABLE IF NOT EXISTS "drivers" (
        "id" SERIAL PRIMARY KEY,
        "name" VARCHAR(255) NOT NULL,
        "phoneNumber" VARCHAR(255) NOT NULL UNIQUE,
        "status" driver_status_enum DEFAULT 'offline',
        "lastActivity" TIMESTAMP WITH TIME ZONE,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ drivers table checked/created
Executing (default): CREATE TABLE IF NOT EXISTS "driver_wallets" (
        "id" SERIAL PRIMARY KEY,
        "driverId" INTEGER NOT NULL UNIQUE REFERENCES "drivers"("id") ON DELETE CASCADE,
        "balance" DECIMAL(10, 2) NOT NULL DEFAULT 0,
        "totalTipsReceived" DECIMAL(10, 2) NOT NULL DEFAULT 0,
        "totalTipsCount" INTEGER NOT NULL DEFAULT 0,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ driver_wallets table checked/created
Executing (default): ALTER TABLE "driver_wallets"
      ADD COLUMN IF NOT EXISTS "totalDeliveryPay" DECIMAL(10,2) DEFAULT 0;
Executing (default): ALTER TABLE "driver_wallets"
      ADD COLUMN IF NOT EXISTS "totalDeliveryPayCount" INTEGER DEFAULT 0;
‚úÖ Delivery pay tracking columns checked/added to driver_wallets table
Executing (default): CREATE TABLE IF NOT EXISTS "saved_addresses" (
        "id" SERIAL PRIMARY KEY,
        "address" TEXT NOT NULL UNIQUE,
        "placeId" VARCHAR(255),
        "formattedAddress" TEXT,
        "searchCount" INTEGER DEFAULT 0,
        "apiCallsSaved" INTEGER DEFAULT 0,
        "costSaved" DECIMAL(10, 4) DEFAULT 0,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ saved_addresses table checked/created
Executing (default): CREATE TABLE IF NOT EXISTS "admins" (
        "id" SERIAL PRIMARY KEY,
        "username" VARCHAR(255) NOT NULL UNIQUE,
        "password" VARCHAR(255),
        "email" VARCHAR(255) NOT NULL UNIQUE,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ admins table checked/created
Executing (default): SELECT is_nullable 
        FROM information_schema.columns 
        WHERE table_name='admins' AND column_name='password';
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='admins' AND column_name='role';
‚úÖ role column already exists in admins table
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='admins' AND column_name='inviteToken';
‚úÖ inviteToken columns already exist in admins table
Executing (default): SELECT "id", "username", "password", "email", "role", "inviteToken", "inviteTokenExpiry", "createdAt", "updatedAt" FROM "admins" AS "Admin" WHERE "Admin"."username" = 'admin';
Executing (default): SELECT "id", "username", "password", "email", "role", "inviteToken", "inviteTokenExpiry", "createdAt", "updatedAt" FROM "admins" AS "Admin" WHERE "Admin"."role" IS NULL;
Database columns updated successfully.
Executing (default): SELECT count(*) AS "count" FROM "categories" AS "Category";
Database setup completed.
Client connected: Eagn2N42_l_-9gnvAAAD
Client connected: cRbI8cpLiE_5peIUAAAF
Client connected: Z6wa15_nCpyx8t6zAAAG
Client connected: XrYm5iRcfOijen6qAAAH
Client connected: j63tI2OENn2ZN8VeAAAJ
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node server.js`[39m
[dotenv@17.2.3] injecting env (19) from .env -- tip: üë• sync secrets across teammates & machines: https://dotenvx.com/ops
üîß PORT configuration: { PORT_ENV: undefined, PORT_USED: 5001, NODE_ENV: undefined }
Starting server initialization...
Environment: development
Port: 5001
Host: 0.0.0.0
üöÄ Server is running on 0.0.0.0:5001
üîó Health check: http://0.0.0.0:5001/api/health
üìä API endpoints:
   - GET  /api/health
   - GET  /api/categories
   - GET  /api/drinks
   - POST /api/orders
   - GET  /api/admin/orders
üåê Server ready to accept requests!
Executing (default): SELECT 1+1 AS result
‚úÖ Database connection established successfully.
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'categories'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'categories' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'subcategories'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'subcategories' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'drinks'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'drinks' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'drivers'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_drivers_status' GROUP BY 1
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'drivers' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'orders'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_orders_status' GROUP BY 1
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_orders_paymentStatus' GROUP BY 1
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_orders_paymentType' GROUP BY 1
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_orders_paymentMethod' GROUP BY 1
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'orders' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'order_items'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'order_items' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'countdowns'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'countdowns' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'settings'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'settings' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'admins'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_admins_role' GROUP BY 1
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'admins' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'driver_wallets'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'driver_wallets' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'transactions'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_transactions_transactionType' GROUP BY 1
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_transactions_paymentMethod' GROUP BY 1
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_transactions_status' GROUP BY 1
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_transactions_paymentStatus' GROUP BY 1
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'transactions' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'order_notifications'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'order_notifications' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'otps'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'otps' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'email_confirmations'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'email_confirmations' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'customers'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'customers' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'admin_wallets'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'admin_wallets' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'saved_addresses'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'saved_addresses' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Database synchronized successfully.
Checking for missing columns...
Executing (default): ALTER TABLE "drinks" 
      ADD COLUMN IF NOT EXISTS "isOnOffer" BOOLEAN DEFAULT false;
‚úÖ isOnOffer column checked/added
Executing (default): ALTER TABLE "drinks" 
      ADD COLUMN IF NOT EXISTS "limitedTimeOffer" BOOLEAN DEFAULT false;
‚úÖ limitedTimeOffer column checked/added
Executing (default): ALTER TABLE "drinks" 
      ADD COLUMN IF NOT EXISTS "originalPrice" DECIMAL(10,2);
‚úÖ originalPrice column checked/added
Executing (default): UPDATE "drinks" 
      SET "originalPrice" = "price" 
      WHERE "originalPrice" IS NULL;
‚úÖ originalPrice set for existing drinks
Executing (default): ALTER TABLE "drinks" 
      ALTER COLUMN "image" TYPE TEXT;
‚úÖ Image column updated to TEXT type
Executing (default): ALTER TABLE "drinks" 
      ADD COLUMN IF NOT EXISTS "capacity" JSON;
‚úÖ Capacity column checked/added (JSON type)
Executing (default): ALTER TABLE "drinks" 
      ADD COLUMN IF NOT EXISTS "capacityPricing" JSON;
‚úÖ Capacity pricing column checked/added (JSON type)
Executing (default): ALTER TABLE "drinks" 
      ADD COLUMN IF NOT EXISTS "abv" DECIMAL(5,2);
‚úÖ ABV column checked/added
Executing (default): CREATE TABLE IF NOT EXISTS "subcategories" (
        "id" SERIAL PRIMARY KEY,
        "name" VARCHAR(255) NOT NULL UNIQUE,
        "categoryId" INTEGER NOT NULL REFERENCES "categories"("id"),
        "isActive" BOOLEAN DEFAULT true,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ subcategories table checked/created
Executing (default): ALTER TABLE "drinks" 
      ADD COLUMN IF NOT EXISTS "subCategoryId" INTEGER REFERENCES "subcategories"("id");
‚úÖ subCategoryId column checked/added
Executing (default): CREATE TABLE IF NOT EXISTS "settings" (
        "id" SERIAL PRIMARY KEY,
        "key" VARCHAR(255) NOT NULL UNIQUE,
        "value" TEXT,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ settings table checked/created
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='orders' AND column_name='paymentType';
‚úÖ paymentType column already exists
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='orders' AND column_name='driverId';
‚úÖ driverId column already exists
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='drivers' AND column_name='pinHash';
‚úÖ pinHash column already exists in drivers table
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='orders' AND column_name='driverAccepted';
‚úÖ driverAccepted column already exists in orders table
Executing (default): ALTER TABLE "orders"
      ADD COLUMN IF NOT EXISTS "driverPayCredited" BOOLEAN DEFAULT false;
Executing (default): ALTER TABLE "orders"
      ADD COLUMN IF NOT EXISTS "driverPayCreditedAt" TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "orders"
      ADD COLUMN IF NOT EXISTS "driverPayAmount" DECIMAL(10,2) DEFAULT 0;
‚úÖ Driver pay tracking columns checked/added to orders table
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='orders' AND column_name='paymentMethod';
‚úÖ paymentMethod column already exists
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='orders' AND column_name='paymentStatus';
‚úÖ paymentStatus column already exists
Executing (default): ALTER TYPE "enum_orders_status" ADD VALUE IF NOT EXISTS 'completed';
‚úÖ Status enum updated to include completed
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='orders' AND column_name='tipAmount';
‚úÖ tipAmount column already exists in orders table
Executing (default): CREATE TABLE IF NOT EXISTS "transactions" (
        "id" SERIAL PRIMARY KEY,
        "orderId" INTEGER REFERENCES "orders"("id") ON DELETE CASCADE,
        "driverId" INTEGER REFERENCES "drivers"("id") ON DELETE SET NULL,
        "driverWalletId" INTEGER,
        "transactionType" VARCHAR(255) DEFAULT 'payment',
        "paymentMethod" VARCHAR(255) NOT NULL,
        "paymentProvider" VARCHAR(255),
        "amount" DECIMAL(10, 2) NOT NULL,
        "status" VARCHAR(255) DEFAULT 'pending',
        "paymentStatus" VARCHAR(255) DEFAULT 'pending',
        "receiptNumber" VARCHAR(255),
        "checkoutRequestID" VARCHAR(255),
        "merchantRequestID" VARCHAR(255),
        "phoneNumber" VARCHAR(255),
        "transactionDate" TIMESTAMP WITH TIME ZONE,
        "notes" TEXT,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ transactions table checked/created
Executing (default): SELECT column_name 
        FROM information_schema.columns 
        WHERE table_name='transactions' AND column_name='paymentStatus';
‚úÖ paymentStatus column already exists in transactions table
Executing (default): SELECT is_nullable 
        FROM information_schema.columns 
        WHERE table_name='transactions' AND column_name='orderId';
‚úÖ orderId column already allows NULL in transactions table
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='transactions' AND column_name='driverId';
‚úÖ driverId column already exists in transactions table
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='transactions' AND column_name='driverWalletId';
‚úÖ driverWalletId column already exists in transactions table
Executing (default): DO $$ BEGIN
        CREATE TYPE transaction_type_enum AS ENUM ('payment', 'refund', 'tip', 'withdrawal');
      EXCEPTION
        WHEN duplicate_object THEN null;
      END $$;
Executing (default): ALTER TYPE transaction_type_enum ADD VALUE IF NOT EXISTS 'tip'
‚úÖ Added tip to transaction_type_enum
Executing (default): ALTER TYPE transaction_type_enum ADD VALUE IF NOT EXISTS 'withdrawal'
‚úÖ Added withdrawal to transaction_type_enum
Executing (default): ALTER TYPE transaction_type_enum ADD VALUE IF NOT EXISTS 'delivery_pay'
‚úÖ Added delivery_pay to transaction_type_enum
Executing (default): ALTER TYPE transaction_type_enum ADD VALUE IF NOT EXISTS 'driver_pay'
‚úÖ Added driver_pay to transaction_type_enum
Executing (default): ALTER TYPE transaction_type_enum ADD VALUE IF NOT EXISTS 'delivery_fee_debit'
‚úÖ Added delivery_fee_debit to transaction_type_enum
Executing (default): ALTER TYPE transaction_type_enum ADD VALUE IF NOT EXISTS 'cash_settlement'
‚úÖ Added cash_settlement to transaction_type_enum
Executing (default): DO $$ BEGIN
        CREATE TYPE transaction_status_enum AS ENUM ('pending', 'completed', 'failed', 'cancelled');
      EXCEPTION
        WHEN duplicate_object THEN null;
      END $$;
Executing (default): DO $$ BEGIN
        CREATE TYPE transaction_payment_method_enum AS ENUM ('card', 'mobile_money', 'cash', 'system');
      EXCEPTION
        WHEN duplicate_object THEN null;
      END $$;
Executing (default): ALTER TYPE transaction_payment_method_enum ADD VALUE IF NOT EXISTS 'system'
‚úÖ Added system to transaction_payment_method_enum
Executing (default): UPDATE transactions
      SET "transactionDate" = "createdAt"
      WHERE "transactionType" = 'payment' AND "transactionDate" IS NULL;
‚úÖ Backfilled missing payment transaction dates
Executing (default): UPDATE transactions AS tip
      SET "transactionDate" = pay."transactionDate"
      FROM transactions AS pay
      WHERE tip."transactionType" = 'tip'
        AND pay."transactionType" = 'payment'
        AND pay."status" = 'completed'
        AND tip."orderId" = pay."orderId"
        AND pay."transactionDate" IS NOT NULL
        AND tip."transactionDate" IS DISTINCT FROM pay."transactionDate";
‚úÖ Synchronized tip transaction dates with payment transactions
Executing (default): UPDATE transactions
      SET "transactionDate" = "createdAt"
      WHERE "transactionType" = 'tip' AND "transactionDate" IS NULL;
‚úÖ Backfilled missing tip transaction dates
Executing (default): SELECT data_type 
        FROM information_schema.columns 
        WHERE table_name='transactions' AND column_name='transactionType';
Executing (default): ALTER TABLE "transactions" 
          ALTER COLUMN "transactionType" TYPE transaction_type_enum USING "transactionType"::transaction_type_enum;
Executing (default): CREATE TABLE IF NOT EXISTS "order_notifications" (
        "id" SERIAL PRIMARY KEY,
        "name" VARCHAR(255) NOT NULL,
        "phoneNumber" VARCHAR(255) NOT NULL,
        "isActive" BOOLEAN DEFAULT true,
        "notes" TEXT,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ order_notifications table checked/created
Executing (default): CREATE TABLE IF NOT EXISTS "otps" (
        "id" SERIAL PRIMARY KEY,
        "phoneNumber" VARCHAR(255) NOT NULL,
        "otpCode" VARCHAR(10) NOT NULL,
        "expiresAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "isUsed" BOOLEAN DEFAULT false,
        "attempts" INTEGER DEFAULT 0,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ otps table checked/created
Executing (default): CREATE TABLE IF NOT EXISTS "email_confirmations" (
        "id" SERIAL PRIMARY KEY,
        "email" VARCHAR(255) NOT NULL,
        "token" VARCHAR(255) NOT NULL UNIQUE,
        "expiresAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "isUsed" BOOLEAN DEFAULT false,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ email_confirmations table checked/created
Executing (default): CREATE TABLE IF NOT EXISTS "customers" (
        "id" SERIAL PRIMARY KEY,
        "email" VARCHAR(255) UNIQUE,
        "phone" VARCHAR(255) UNIQUE,
        "username" VARCHAR(255) NOT NULL UNIQUE,
        "password" VARCHAR(255),
        "customerName" VARCHAR(255),
        "hasSetPassword" BOOLEAN DEFAULT false,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ customers table checked/created
Executing (default): DO $$ BEGIN
        CREATE TYPE driver_status_enum AS ENUM ('active', 'inactive', 'on_delivery', 'offline');
      EXCEPTION
        WHEN duplicate_object THEN null;
      END $$;
Executing (default): CREATE TABLE IF NOT EXISTS "drivers" (
        "id" SERIAL PRIMARY KEY,
        "name" VARCHAR(255) NOT NULL,
        "phoneNumber" VARCHAR(255) NOT NULL UNIQUE,
        "status" driver_status_enum DEFAULT 'offline',
        "lastActivity" TIMESTAMP WITH TIME ZONE,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ drivers table checked/created
Executing (default): CREATE TABLE IF NOT EXISTS "driver_wallets" (
        "id" SERIAL PRIMARY KEY,
        "driverId" INTEGER NOT NULL UNIQUE REFERENCES "drivers"("id") ON DELETE CASCADE,
        "balance" DECIMAL(10, 2) NOT NULL DEFAULT 0,
        "totalTipsReceived" DECIMAL(10, 2) NOT NULL DEFAULT 0,
        "totalTipsCount" INTEGER NOT NULL DEFAULT 0,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ driver_wallets table checked/created
Executing (default): ALTER TABLE "driver_wallets"
      ADD COLUMN IF NOT EXISTS "totalDeliveryPay" DECIMAL(10,2) DEFAULT 0;
Executing (default): ALTER TABLE "driver_wallets"
      ADD COLUMN IF NOT EXISTS "totalDeliveryPayCount" INTEGER DEFAULT 0;
‚úÖ Delivery pay tracking columns checked/added to driver_wallets table
Executing (default): CREATE TABLE IF NOT EXISTS "saved_addresses" (
        "id" SERIAL PRIMARY KEY,
        "address" TEXT NOT NULL UNIQUE,
        "placeId" VARCHAR(255),
        "formattedAddress" TEXT,
        "searchCount" INTEGER DEFAULT 0,
        "apiCallsSaved" INTEGER DEFAULT 0,
        "costSaved" DECIMAL(10, 4) DEFAULT 0,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ saved_addresses table checked/created
Executing (default): CREATE TABLE IF NOT EXISTS "admins" (
        "id" SERIAL PRIMARY KEY,
        "username" VARCHAR(255) NOT NULL UNIQUE,
        "password" VARCHAR(255),
        "email" VARCHAR(255) NOT NULL UNIQUE,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ admins table checked/created
Executing (default): SELECT is_nullable 
        FROM information_schema.columns 
        WHERE table_name='admins' AND column_name='password';
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='admins' AND column_name='role';
‚úÖ role column already exists in admins table
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='admins' AND column_name='inviteToken';
‚úÖ inviteToken columns already exist in admins table
Executing (default): SELECT "id", "username", "password", "email", "role", "inviteToken", "inviteTokenExpiry", "createdAt", "updatedAt" FROM "admins" AS "Admin" WHERE "Admin"."username" = 'admin';
Executing (default): SELECT "id", "username", "password", "email", "role", "inviteToken", "inviteTokenExpiry", "createdAt", "updatedAt" FROM "admins" AS "Admin" WHERE "Admin"."role" IS NULL;
Database columns updated successfully.
Executing (default): SELECT count(*) AS "count" FROM "categories" AS "Category";
Database setup completed.
Client connected: Gzil3PwPfoCFU6IyAAAC
Client connected: ZG2_CPHzWSTA8nY8AAAE
Client connected: HuE3H-5sSanwAwpzAAAF
Client connected: brJRPv7G1G202sbaAAAI
Client connected: mlWui8AEZv40ThwLAAAJ
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node server.js`[39m
[dotenv@17.2.3] injecting env (19) from .env -- tip: üóÇÔ∏è backup and recover secrets: https://dotenvx.com/ops
üîß PORT configuration: { PORT_ENV: undefined, PORT_USED: 5001, NODE_ENV: undefined }
Starting server initialization...
Environment: development
Port: 5001
Host: 0.0.0.0
üì° Attempting to start server on 0.0.0.0:5001...
‚úÖ Server successfully started and listening on 0.0.0.0:5001
üîó Health check: http://0.0.0.0:5001/api/health
üìä API endpoints:
   - GET  /api/health
   - GET  /api/categories
   - GET  /api/drinks
   - POST /api/orders
   - GET  /api/admin/orders
üåê Server ready to accept requests!
Executing (default): SELECT 1+1 AS result
‚úÖ Database connection established successfully.
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'categories'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'categories' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'subcategories'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'subcategories' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'drinks'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'drinks' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'drivers'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_drivers_status' GROUP BY 1
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'drivers' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'orders'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_orders_status' GROUP BY 1
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_orders_paymentStatus' GROUP BY 1
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_orders_paymentType' GROUP BY 1
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_orders_paymentMethod' GROUP BY 1
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'orders' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'order_items'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'order_items' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'countdowns'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'countdowns' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'settings'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'settings' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'admins'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_admins_role' GROUP BY 1
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'admins' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'driver_wallets'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'driver_wallets' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'transactions'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_transactions_transactionType' GROUP BY 1
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_transactions_paymentMethod' GROUP BY 1
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_transactions_status' GROUP BY 1
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_transactions_paymentStatus' GROUP BY 1
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'transactions' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'order_notifications'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'order_notifications' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'otps'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'otps' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'email_confirmations'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'email_confirmations' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'customers'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'customers' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'admin_wallets'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'admin_wallets' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'saved_addresses'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'saved_addresses' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Database synchronized successfully.
Checking for missing columns...
Executing (default): ALTER TABLE "drinks" 
      ADD COLUMN IF NOT EXISTS "isOnOffer" BOOLEAN DEFAULT false;
‚úÖ isOnOffer column checked/added
Executing (default): ALTER TABLE "drinks" 
      ADD COLUMN IF NOT EXISTS "limitedTimeOffer" BOOLEAN DEFAULT false;
‚úÖ limitedTimeOffer column checked/added
Executing (default): ALTER TABLE "drinks" 
      ADD COLUMN IF NOT EXISTS "originalPrice" DECIMAL(10,2);
‚úÖ originalPrice column checked/added
Executing (default): UPDATE "drinks" 
      SET "originalPrice" = "price" 
      WHERE "originalPrice" IS NULL;
‚úÖ originalPrice set for existing drinks
Executing (default): ALTER TABLE "drinks" 
      ALTER COLUMN "image" TYPE TEXT;
‚úÖ Image column updated to TEXT type
Executing (default): ALTER TABLE "drinks" 
      ADD COLUMN IF NOT EXISTS "capacity" JSON;
‚úÖ Capacity column checked/added (JSON type)
Executing (default): ALTER TABLE "drinks" 
      ADD COLUMN IF NOT EXISTS "capacityPricing" JSON;
‚úÖ Capacity pricing column checked/added (JSON type)
Executing (default): ALTER TABLE "drinks" 
      ADD COLUMN IF NOT EXISTS "abv" DECIMAL(5,2);
‚úÖ ABV column checked/added
Executing (default): CREATE TABLE IF NOT EXISTS "subcategories" (
        "id" SERIAL PRIMARY KEY,
        "name" VARCHAR(255) NOT NULL UNIQUE,
        "categoryId" INTEGER NOT NULL REFERENCES "categories"("id"),
        "isActive" BOOLEAN DEFAULT true,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ subcategories table checked/created
Executing (default): ALTER TABLE "drinks" 
      ADD COLUMN IF NOT EXISTS "subCategoryId" INTEGER REFERENCES "subcategories"("id");
‚úÖ subCategoryId column checked/added
Executing (default): CREATE TABLE IF NOT EXISTS "settings" (
        "id" SERIAL PRIMARY KEY,
        "key" VARCHAR(255) NOT NULL UNIQUE,
        "value" TEXT,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ settings table checked/created
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='orders' AND column_name='paymentType';
‚úÖ paymentType column already exists
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='orders' AND column_name='driverId';
‚úÖ driverId column already exists
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='drivers' AND column_name='pinHash';
‚úÖ pinHash column already exists in drivers table
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='orders' AND column_name='driverAccepted';
‚úÖ driverAccepted column already exists in orders table
Executing (default): ALTER TABLE "orders"
      ADD COLUMN IF NOT EXISTS "driverPayCredited" BOOLEAN DEFAULT false;
Executing (default): ALTER TABLE "orders"
      ADD COLUMN IF NOT EXISTS "driverPayCreditedAt" TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "orders"
      ADD COLUMN IF NOT EXISTS "driverPayAmount" DECIMAL(10,2) DEFAULT 0;
‚úÖ Driver pay tracking columns checked/added to orders table
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='orders' AND column_name='paymentMethod';
‚úÖ paymentMethod column already exists
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='orders' AND column_name='paymentStatus';
‚úÖ paymentStatus column already exists
Executing (default): ALTER TYPE "enum_orders_status" ADD VALUE IF NOT EXISTS 'completed';
‚úÖ Status enum updated to include completed
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='orders' AND column_name='tipAmount';
‚úÖ tipAmount column already exists in orders table
Executing (default): CREATE TABLE IF NOT EXISTS "transactions" (
        "id" SERIAL PRIMARY KEY,
        "orderId" INTEGER REFERENCES "orders"("id") ON DELETE CASCADE,
        "driverId" INTEGER REFERENCES "drivers"("id") ON DELETE SET NULL,
        "driverWalletId" INTEGER,
        "transactionType" VARCHAR(255) DEFAULT 'payment',
        "paymentMethod" VARCHAR(255) NOT NULL,
        "paymentProvider" VARCHAR(255),
        "amount" DECIMAL(10, 2) NOT NULL,
        "status" VARCHAR(255) DEFAULT 'pending',
        "paymentStatus" VARCHAR(255) DEFAULT 'pending',
        "receiptNumber" VARCHAR(255),
        "checkoutRequestID" VARCHAR(255),
        "merchantRequestID" VARCHAR(255),
        "phoneNumber" VARCHAR(255),
        "transactionDate" TIMESTAMP WITH TIME ZONE,
        "notes" TEXT,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ transactions table checked/created
Executing (default): SELECT column_name 
        FROM information_schema.columns 
        WHERE table_name='transactions' AND column_name='paymentStatus';
‚úÖ paymentStatus column already exists in transactions table
Executing (default): SELECT is_nullable 
        FROM information_schema.columns 
        WHERE table_name='transactions' AND column_name='orderId';
‚úÖ orderId column already allows NULL in transactions table
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='transactions' AND column_name='driverId';
‚úÖ driverId column already exists in transactions table
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='transactions' AND column_name='driverWalletId';
‚úÖ driverWalletId column already exists in transactions table
Executing (default): DO $$ BEGIN
        CREATE TYPE transaction_type_enum AS ENUM ('payment', 'refund', 'tip', 'withdrawal');
      EXCEPTION
        WHEN duplicate_object THEN null;
      END $$;
Executing (default): ALTER TYPE transaction_type_enum ADD VALUE IF NOT EXISTS 'tip'
‚úÖ Added tip to transaction_type_enum
Executing (default): ALTER TYPE transaction_type_enum ADD VALUE IF NOT EXISTS 'withdrawal'
‚úÖ Added withdrawal to transaction_type_enum
Executing (default): ALTER TYPE transaction_type_enum ADD VALUE IF NOT EXISTS 'delivery_pay'
‚úÖ Added delivery_pay to transaction_type_enum
Executing (default): ALTER TYPE transaction_type_enum ADD VALUE IF NOT EXISTS 'driver_pay'
‚úÖ Added driver_pay to transaction_type_enum
Executing (default): ALTER TYPE transaction_type_enum ADD VALUE IF NOT EXISTS 'delivery_fee_debit'
‚úÖ Added delivery_fee_debit to transaction_type_enum
Executing (default): ALTER TYPE transaction_type_enum ADD VALUE IF NOT EXISTS 'cash_settlement'
‚úÖ Added cash_settlement to transaction_type_enum
Executing (default): DO $$ BEGIN
        CREATE TYPE transaction_status_enum AS ENUM ('pending', 'completed', 'failed', 'cancelled');
      EXCEPTION
        WHEN duplicate_object THEN null;
      END $$;
Executing (default): DO $$ BEGIN
        CREATE TYPE transaction_payment_method_enum AS ENUM ('card', 'mobile_money', 'cash', 'system');
      EXCEPTION
        WHEN duplicate_object THEN null;
      END $$;
Executing (default): ALTER TYPE transaction_payment_method_enum ADD VALUE IF NOT EXISTS 'system'
‚úÖ Added system to transaction_payment_method_enum
Executing (default): UPDATE transactions
      SET "transactionDate" = "createdAt"
      WHERE "transactionType" = 'payment' AND "transactionDate" IS NULL;
‚úÖ Backfilled missing payment transaction dates
Executing (default): UPDATE transactions AS tip
      SET "transactionDate" = pay."transactionDate"
      FROM transactions AS pay
      WHERE tip."transactionType" = 'tip'
        AND pay."transactionType" = 'payment'
        AND pay."status" = 'completed'
        AND tip."orderId" = pay."orderId"
        AND pay."transactionDate" IS NOT NULL
        AND tip."transactionDate" IS DISTINCT FROM pay."transactionDate";
‚úÖ Synchronized tip transaction dates with payment transactions
Executing (default): UPDATE transactions
      SET "transactionDate" = "createdAt"
      WHERE "transactionType" = 'tip' AND "transactionDate" IS NULL;
‚úÖ Backfilled missing tip transaction dates
Executing (default): SELECT data_type 
        FROM information_schema.columns 
        WHERE table_name='transactions' AND column_name='transactionType';
Executing (default): ALTER TABLE "transactions" 
          ALTER COLUMN "transactionType" TYPE transaction_type_enum USING "transactionType"::transaction_type_enum;
Executing (default): CREATE TABLE IF NOT EXISTS "order_notifications" (
        "id" SERIAL PRIMARY KEY,
        "name" VARCHAR(255) NOT NULL,
        "phoneNumber" VARCHAR(255) NOT NULL,
        "isActive" BOOLEAN DEFAULT true,
        "notes" TEXT,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ order_notifications table checked/created
Executing (default): CREATE TABLE IF NOT EXISTS "otps" (
        "id" SERIAL PRIMARY KEY,
        "phoneNumber" VARCHAR(255) NOT NULL,
        "otpCode" VARCHAR(10) NOT NULL,
        "expiresAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "isUsed" BOOLEAN DEFAULT false,
        "attempts" INTEGER DEFAULT 0,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ otps table checked/created
Executing (default): CREATE TABLE IF NOT EXISTS "email_confirmations" (
        "id" SERIAL PRIMARY KEY,
        "email" VARCHAR(255) NOT NULL,
        "token" VARCHAR(255) NOT NULL UNIQUE,
        "expiresAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "isUsed" BOOLEAN DEFAULT false,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ email_confirmations table checked/created
Executing (default): CREATE TABLE IF NOT EXISTS "customers" (
        "id" SERIAL PRIMARY KEY,
        "email" VARCHAR(255) UNIQUE,
        "phone" VARCHAR(255) UNIQUE,
        "username" VARCHAR(255) NOT NULL UNIQUE,
        "password" VARCHAR(255),
        "customerName" VARCHAR(255),
        "hasSetPassword" BOOLEAN DEFAULT false,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ customers table checked/created
Executing (default): DO $$ BEGIN
        CREATE TYPE driver_status_enum AS ENUM ('active', 'inactive', 'on_delivery', 'offline');
      EXCEPTION
        WHEN duplicate_object THEN null;
      END $$;
Executing (default): CREATE TABLE IF NOT EXISTS "drivers" (
        "id" SERIAL PRIMARY KEY,
        "name" VARCHAR(255) NOT NULL,
        "phoneNumber" VARCHAR(255) NOT NULL UNIQUE,
        "status" driver_status_enum DEFAULT 'offline',
        "lastActivity" TIMESTAMP WITH TIME ZONE,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ drivers table checked/created
Executing (default): CREATE TABLE IF NOT EXISTS "driver_wallets" (
        "id" SERIAL PRIMARY KEY,
        "driverId" INTEGER NOT NULL UNIQUE REFERENCES "drivers"("id") ON DELETE CASCADE,
        "balance" DECIMAL(10, 2) NOT NULL DEFAULT 0,
        "totalTipsReceived" DECIMAL(10, 2) NOT NULL DEFAULT 0,
        "totalTipsCount" INTEGER NOT NULL DEFAULT 0,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ driver_wallets table checked/created
Executing (default): ALTER TABLE "driver_wallets"
      ADD COLUMN IF NOT EXISTS "totalDeliveryPay" DECIMAL(10,2) DEFAULT 0;
Executing (default): ALTER TABLE "driver_wallets"
      ADD COLUMN IF NOT EXISTS "totalDeliveryPayCount" INTEGER DEFAULT 0;
‚úÖ Delivery pay tracking columns checked/added to driver_wallets table
Executing (default): CREATE TABLE IF NOT EXISTS "saved_addresses" (
        "id" SERIAL PRIMARY KEY,
        "address" TEXT NOT NULL UNIQUE,
        "placeId" VARCHAR(255),
        "formattedAddress" TEXT,
        "searchCount" INTEGER DEFAULT 0,
        "apiCallsSaved" INTEGER DEFAULT 0,
        "costSaved" DECIMAL(10, 4) DEFAULT 0,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ saved_addresses table checked/created
Executing (default): CREATE TABLE IF NOT EXISTS "admins" (
        "id" SERIAL PRIMARY KEY,
        "username" VARCHAR(255) NOT NULL UNIQUE,
        "password" VARCHAR(255),
        "email" VARCHAR(255) NOT NULL UNIQUE,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ admins table checked/created
Executing (default): SELECT is_nullable 
        FROM information_schema.columns 
        WHERE table_name='admins' AND column_name='password';
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='admins' AND column_name='role';
‚úÖ role column already exists in admins table
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='admins' AND column_name='inviteToken';
‚úÖ inviteToken columns already exist in admins table
Executing (default): SELECT "id", "username", "password", "email", "role", "inviteToken", "inviteTokenExpiry", "createdAt", "updatedAt" FROM "admins" AS "Admin" WHERE "Admin"."username" = 'admin';
Executing (default): SELECT "id", "username", "password", "email", "role", "inviteToken", "inviteTokenExpiry", "createdAt", "updatedAt" FROM "admins" AS "Admin" WHERE "Admin"."role" IS NULL;
Database columns updated successfully.
Executing (default): SELECT count(*) AS "count" FROM "categories" AS "Category";
Database setup completed.
Client connected: egqYVmmLS4GECNk5AAAC
Client connected: 1q2bc-puq5_EhqJZAAAD
Client connected: F9k7IczeY3d0SIfcAAAH
Client connected: 072yUgk67FReY-adAAAI
Client connected: 8yVX9QqLZ9n9rP9aAAAJ
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node server.js`[39m
[dotenv@17.2.3] injecting env (19) from .env -- tip: üîê prevent committing .env to code: https://dotenvx.com/precommit
üîß PORT configuration: { PORT_ENV: undefined, PORT_USED: 5001, NODE_ENV: undefined }
Starting server initialization...
Environment: development
Port: 5001
Host: 0.0.0.0
üì° Attempting to start server on 0.0.0.0:5001...
‚úÖ Server successfully started and listening on 0.0.0.0:5001
üîó Health check: http://0.0.0.0:5001/api/health
üìä API endpoints:
   - GET  /api/health
   - GET  /api/categories
   - GET  /api/drinks
   - POST /api/orders
   - GET  /api/admin/orders
üåê Server ready to accept requests!
Executing (default): SELECT 1+1 AS result
‚úÖ Database connection established successfully.
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'categories'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'categories' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'subcategories'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'subcategories' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'drinks'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'drinks' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'drivers'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_drivers_status' GROUP BY 1
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'drivers' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'orders'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_orders_status' GROUP BY 1
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_orders_paymentStatus' GROUP BY 1
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_orders_paymentType' GROUP BY 1
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_orders_paymentMethod' GROUP BY 1
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'orders' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'order_items'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'order_items' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'countdowns'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'countdowns' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'settings'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'settings' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'admins'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_admins_role' GROUP BY 1
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'admins' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'driver_wallets'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'driver_wallets' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'transactions'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_transactions_transactionType' GROUP BY 1
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_transactions_paymentMethod' GROUP BY 1
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_transactions_status' GROUP BY 1
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_transactions_paymentStatus' GROUP BY 1
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'transactions' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'order_notifications'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'order_notifications' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'otps'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'otps' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'email_confirmations'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'email_confirmations' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'customers'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'customers' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'admin_wallets'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'admin_wallets' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'saved_addresses'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'saved_addresses' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Database synchronized successfully.
Checking for missing columns...
Executing (default): ALTER TABLE "drinks" 
      ADD COLUMN IF NOT EXISTS "isOnOffer" BOOLEAN DEFAULT false;
‚úÖ isOnOffer column checked/added
Executing (default): ALTER TABLE "drinks" 
      ADD COLUMN IF NOT EXISTS "limitedTimeOffer" BOOLEAN DEFAULT false;
‚úÖ limitedTimeOffer column checked/added
Executing (default): ALTER TABLE "drinks" 
      ADD COLUMN IF NOT EXISTS "originalPrice" DECIMAL(10,2);
‚úÖ originalPrice column checked/added
Executing (default): UPDATE "drinks" 
      SET "originalPrice" = "price" 
      WHERE "originalPrice" IS NULL;
‚úÖ originalPrice set for existing drinks
Executing (default): ALTER TABLE "drinks" 
      ALTER COLUMN "image" TYPE TEXT;
‚úÖ Image column updated to TEXT type
Executing (default): ALTER TABLE "drinks" 
      ADD COLUMN IF NOT EXISTS "capacity" JSON;
‚úÖ Capacity column checked/added (JSON type)
Executing (default): ALTER TABLE "drinks" 
      ADD COLUMN IF NOT EXISTS "capacityPricing" JSON;
‚úÖ Capacity pricing column checked/added (JSON type)
Executing (default): ALTER TABLE "drinks" 
      ADD COLUMN IF NOT EXISTS "abv" DECIMAL(5,2);
‚úÖ ABV column checked/added
Executing (default): CREATE TABLE IF NOT EXISTS "subcategories" (
        "id" SERIAL PRIMARY KEY,
        "name" VARCHAR(255) NOT NULL UNIQUE,
        "categoryId" INTEGER NOT NULL REFERENCES "categories"("id"),
        "isActive" BOOLEAN DEFAULT true,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ subcategories table checked/created
Executing (default): ALTER TABLE "drinks" 
      ADD COLUMN IF NOT EXISTS "subCategoryId" INTEGER REFERENCES "subcategories"("id");
‚úÖ subCategoryId column checked/added
Executing (default): CREATE TABLE IF NOT EXISTS "settings" (
        "id" SERIAL PRIMARY KEY,
        "key" VARCHAR(255) NOT NULL UNIQUE,
        "value" TEXT,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ settings table checked/created
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='orders' AND column_name='paymentType';
‚úÖ paymentType column already exists
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='orders' AND column_name='driverId';
‚úÖ driverId column already exists
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='drivers' AND column_name='pinHash';
‚úÖ pinHash column already exists in drivers table
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='orders' AND column_name='driverAccepted';
‚úÖ driverAccepted column already exists in orders table
Executing (default): ALTER TABLE "orders"
      ADD COLUMN IF NOT EXISTS "driverPayCredited" BOOLEAN DEFAULT false;
Executing (default): ALTER TABLE "orders"
      ADD COLUMN IF NOT EXISTS "driverPayCreditedAt" TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "orders"
      ADD COLUMN IF NOT EXISTS "driverPayAmount" DECIMAL(10,2) DEFAULT 0;
‚úÖ Driver pay tracking columns checked/added to orders table
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='orders' AND column_name='paymentMethod';
‚úÖ paymentMethod column already exists
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='orders' AND column_name='paymentStatus';
‚úÖ paymentStatus column already exists
Executing (default): ALTER TYPE "enum_orders_status" ADD VALUE IF NOT EXISTS 'completed';
‚úÖ Status enum updated to include completed
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='orders' AND column_name='tipAmount';
‚úÖ tipAmount column already exists in orders table
Executing (default): CREATE TABLE IF NOT EXISTS "transactions" (
        "id" SERIAL PRIMARY KEY,
        "orderId" INTEGER REFERENCES "orders"("id") ON DELETE CASCADE,
        "driverId" INTEGER REFERENCES "drivers"("id") ON DELETE SET NULL,
        "driverWalletId" INTEGER,
        "transactionType" VARCHAR(255) DEFAULT 'payment',
        "paymentMethod" VARCHAR(255) NOT NULL,
        "paymentProvider" VARCHAR(255),
        "amount" DECIMAL(10, 2) NOT NULL,
        "status" VARCHAR(255) DEFAULT 'pending',
        "paymentStatus" VARCHAR(255) DEFAULT 'pending',
        "receiptNumber" VARCHAR(255),
        "checkoutRequestID" VARCHAR(255),
        "merchantRequestID" VARCHAR(255),
        "phoneNumber" VARCHAR(255),
        "transactionDate" TIMESTAMP WITH TIME ZONE,
        "notes" TEXT,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ transactions table checked/created
Executing (default): SELECT column_name 
        FROM information_schema.columns 
        WHERE table_name='transactions' AND column_name='paymentStatus';
‚úÖ paymentStatus column already exists in transactions table
Executing (default): SELECT is_nullable 
        FROM information_schema.columns 
        WHERE table_name='transactions' AND column_name='orderId';
‚úÖ orderId column already allows NULL in transactions table
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='transactions' AND column_name='driverId';
‚úÖ driverId column already exists in transactions table
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='transactions' AND column_name='driverWalletId';
‚úÖ driverWalletId column already exists in transactions table
Executing (default): DO $$ BEGIN
        CREATE TYPE transaction_type_enum AS ENUM ('payment', 'refund', 'tip', 'withdrawal');
      EXCEPTION
        WHEN duplicate_object THEN null;
      END $$;
Executing (default): ALTER TYPE transaction_type_enum ADD VALUE IF NOT EXISTS 'tip'
‚úÖ Added tip to transaction_type_enum
Executing (default): ALTER TYPE transaction_type_enum ADD VALUE IF NOT EXISTS 'withdrawal'
‚úÖ Added withdrawal to transaction_type_enum
Executing (default): ALTER TYPE transaction_type_enum ADD VALUE IF NOT EXISTS 'delivery_pay'
‚úÖ Added delivery_pay to transaction_type_enum
Executing (default): ALTER TYPE transaction_type_enum ADD VALUE IF NOT EXISTS 'driver_pay'
‚úÖ Added driver_pay to transaction_type_enum
Executing (default): ALTER TYPE transaction_type_enum ADD VALUE IF NOT EXISTS 'delivery_fee_debit'
‚úÖ Added delivery_fee_debit to transaction_type_enum
Executing (default): ALTER TYPE transaction_type_enum ADD VALUE IF NOT EXISTS 'cash_settlement'
‚úÖ Added cash_settlement to transaction_type_enum
Executing (default): DO $$ BEGIN
        CREATE TYPE transaction_status_enum AS ENUM ('pending', 'completed', 'failed', 'cancelled');
      EXCEPTION
        WHEN duplicate_object THEN null;
      END $$;
Executing (default): DO $$ BEGIN
        CREATE TYPE transaction_payment_method_enum AS ENUM ('card', 'mobile_money', 'cash', 'system');
      EXCEPTION
        WHEN duplicate_object THEN null;
      END $$;
Executing (default): ALTER TYPE transaction_payment_method_enum ADD VALUE IF NOT EXISTS 'system'
‚úÖ Added system to transaction_payment_method_enum
Executing (default): UPDATE transactions
      SET "transactionDate" = "createdAt"
      WHERE "transactionType" = 'payment' AND "transactionDate" IS NULL;
‚úÖ Backfilled missing payment transaction dates
Executing (default): UPDATE transactions AS tip
      SET "transactionDate" = pay."transactionDate"
      FROM transactions AS pay
      WHERE tip."transactionType" = 'tip'
        AND pay."transactionType" = 'payment'
        AND pay."status" = 'completed'
        AND tip."orderId" = pay."orderId"
        AND pay."transactionDate" IS NOT NULL
        AND tip."transactionDate" IS DISTINCT FROM pay."transactionDate";
‚úÖ Synchronized tip transaction dates with payment transactions
Executing (default): UPDATE transactions
      SET "transactionDate" = "createdAt"
      WHERE "transactionType" = 'tip' AND "transactionDate" IS NULL;
‚úÖ Backfilled missing tip transaction dates
Executing (default): SELECT data_type 
        FROM information_schema.columns 
        WHERE table_name='transactions' AND column_name='transactionType';
Executing (default): ALTER TABLE "transactions" 
          ALTER COLUMN "transactionType" TYPE transaction_type_enum USING "transactionType"::transaction_type_enum;
Executing (default): CREATE TABLE IF NOT EXISTS "order_notifications" (
        "id" SERIAL PRIMARY KEY,
        "name" VARCHAR(255) NOT NULL,
        "phoneNumber" VARCHAR(255) NOT NULL,
        "isActive" BOOLEAN DEFAULT true,
        "notes" TEXT,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ order_notifications table checked/created
Executing (default): CREATE TABLE IF NOT EXISTS "otps" (
        "id" SERIAL PRIMARY KEY,
        "phoneNumber" VARCHAR(255) NOT NULL,
        "otpCode" VARCHAR(10) NOT NULL,
        "expiresAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "isUsed" BOOLEAN DEFAULT false,
        "attempts" INTEGER DEFAULT 0,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ otps table checked/created
Executing (default): CREATE TABLE IF NOT EXISTS "email_confirmations" (
        "id" SERIAL PRIMARY KEY,
        "email" VARCHAR(255) NOT NULL,
        "token" VARCHAR(255) NOT NULL UNIQUE,
        "expiresAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "isUsed" BOOLEAN DEFAULT false,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ email_confirmations table checked/created
Executing (default): CREATE TABLE IF NOT EXISTS "customers" (
        "id" SERIAL PRIMARY KEY,
        "email" VARCHAR(255) UNIQUE,
        "phone" VARCHAR(255) UNIQUE,
        "username" VARCHAR(255) NOT NULL UNIQUE,
        "password" VARCHAR(255),
        "customerName" VARCHAR(255),
        "hasSetPassword" BOOLEAN DEFAULT false,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ customers table checked/created
Executing (default): DO $$ BEGIN
        CREATE TYPE driver_status_enum AS ENUM ('active', 'inactive', 'on_delivery', 'offline');
      EXCEPTION
        WHEN duplicate_object THEN null;
      END $$;
Executing (default): CREATE TABLE IF NOT EXISTS "drivers" (
        "id" SERIAL PRIMARY KEY,
        "name" VARCHAR(255) NOT NULL,
        "phoneNumber" VARCHAR(255) NOT NULL UNIQUE,
        "status" driver_status_enum DEFAULT 'offline',
        "lastActivity" TIMESTAMP WITH TIME ZONE,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ drivers table checked/created
Executing (default): CREATE TABLE IF NOT EXISTS "driver_wallets" (
        "id" SERIAL PRIMARY KEY,
        "driverId" INTEGER NOT NULL UNIQUE REFERENCES "drivers"("id") ON DELETE CASCADE,
        "balance" DECIMAL(10, 2) NOT NULL DEFAULT 0,
        "totalTipsReceived" DECIMAL(10, 2) NOT NULL DEFAULT 0,
        "totalTipsCount" INTEGER NOT NULL DEFAULT 0,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ driver_wallets table checked/created
Executing (default): ALTER TABLE "driver_wallets"
      ADD COLUMN IF NOT EXISTS "totalDeliveryPay" DECIMAL(10,2) DEFAULT 0;
Executing (default): ALTER TABLE "driver_wallets"
      ADD COLUMN IF NOT EXISTS "totalDeliveryPayCount" INTEGER DEFAULT 0;
‚úÖ Delivery pay tracking columns checked/added to driver_wallets table
Executing (default): CREATE TABLE IF NOT EXISTS "saved_addresses" (
        "id" SERIAL PRIMARY KEY,
        "address" TEXT NOT NULL UNIQUE,
        "placeId" VARCHAR(255),
        "formattedAddress" TEXT,
        "searchCount" INTEGER DEFAULT 0,
        "apiCallsSaved" INTEGER DEFAULT 0,
        "costSaved" DECIMAL(10, 4) DEFAULT 0,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ saved_addresses table checked/created
Executing (default): CREATE TABLE IF NOT EXISTS "admins" (
        "id" SERIAL PRIMARY KEY,
        "username" VARCHAR(255) NOT NULL UNIQUE,
        "password" VARCHAR(255),
        "email" VARCHAR(255) NOT NULL UNIQUE,
        "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
        "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
      );
‚úÖ admins table checked/created
Executing (default): SELECT is_nullable 
        FROM information_schema.columns 
        WHERE table_name='admins' AND column_name='password';
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='admins' AND column_name='role';
‚úÖ role column already exists in admins table
Executing (default): SELECT column_name 
      FROM information_schema.columns 
      WHERE table_name='admins' AND column_name='inviteToken';
‚úÖ inviteToken columns already exist in admins table
Executing (default): SELECT "id", "username", "password", "email", "role", "inviteToken", "inviteTokenExpiry", "createdAt", "updatedAt" FROM "admins" AS "Admin" WHERE "Admin"."username" = 'admin';
Executing (default): SELECT "id", "username", "password", "email", "role", "inviteToken", "inviteTokenExpiry", "createdAt", "updatedAt" FROM "admins" AS "Admin" WHERE "Admin"."role" IS NULL;
Database columns updated successfully.
Executing (default): SELECT count(*) AS "count" FROM "categories" AS "Category";
Database setup completed.
Client connected: p4dImGIGKeSOA6TJAAAD
Client connected: lRXFfIJEff-AolFRAAAE
Client connected: IYUnpON4qiYTalA5AAAF
Client connected: k2-UJ7gjTWlr8GvHAAAI
Client connected: zyHIUTcu6Li5eU-cAAAJ
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" IN ('pending', 'confirmed');
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."createdAt" >= '2025-11-12 21:00:00.000 +00:00' AND "Order"."paymentStatus" = 'paid';
Executing (default): SELECT "totalAmount", "tipAmount" FROM "orders" AS "Order" WHERE "Order"."paymentStatus" = 'paid';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed';
Executing (default): SELECT count(*) AS "count" FROM "transactions" AS "Transaction" WHERE "Transaction"."transactionType" = 'tip' AND "Transaction"."status" = 'completed' AND "Transaction"."createdAt" >= '2025-11-12 21:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'cancelled';
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink";
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" = true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE "Drink"."isAvailable" IS NOT true;
Executing (default): SELECT count(*) AS "count" FROM "drinks" AS "Drink" WHERE ("Drink"."limitedTimeOffer" = true OR "Drink"."isOnOffer" = true);
Executing (default): SELECT "id", "start_date" AS "startDate", "end_date" AS "endDate", "is_active" AS "isActive", "title", "createdAt", "updatedAt" FROM "countdowns" AS "Countdown" WHERE "Countdown"."is_active" = true;
Client disconnected: lRXFfIJEff-AolFRAAAE
Client disconnected: IYUnpON4qiYTalA5AAAF
Client disconnected: zyHIUTcu6Li5eU-cAAAJ
Client disconnected: k2-UJ7gjTWlr8GvHAAAI
Client disconnected: p4dImGIGKeSOA6TJAAAD
